export default function CatalogClient(restClient, errorPublisher, errorTitles) {
    return {
        getModels(brandId, callback, errorCallback) {
            let url = `brands/${brandId}/models`;
            restClient.get(
                url, 
                (result) => callback(result),
                (xhr, error, errorType) => errorPublisher.publish(errorType, errorTitles.CatalogError, xhr, errorCallback)
            );
        },
        getCatalog(brandId, model, callback, errorCallback) {
            let url = `brands/${brandId}/models/${model}/catalog`;
            restClient.get(url, 
                (result) => callback(result),
                (xhr, error, errorType) => errorPublisher.publish(errorType, errorTitles.CatalogError, xhr, errorCallback)
            );
        }
    };
}