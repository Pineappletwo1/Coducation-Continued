import template from './vehicle-image-template';
aidaCore.ComponentRegister('vehicle-image', {
    script: (props, dependencyProvider) => {
        const vehicleImageIdentifier = props.vehicleImageIdentifier;
        const apiBaseUrl = dependencyProvider.getApiBaseUrl();

        return VehicleImage({vehicleImageIdentifier}, {apiBaseUrl});
    },
    template: template
});

export default function VehicleImage({vehicleImageIdentifier}, { apiBaseUrl}) {
    const imageUrl = ko.computed(() => {
        if (vehicleImageIdentifier()) {
            return apiBaseUrl + 'vehicle/image?modelId=' + vehicleImageIdentifier().modelId + '&colorCode=' + vehicleImageIdentifier().colorCode + '&interiorCode=' + vehicleImageIdentifier().interiorCode;
        }
        return undefined;
    });

    return {
        imageUrl
    };
}