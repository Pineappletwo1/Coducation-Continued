import ComponentRegister from '../../componentRegister';
import template from "./tabs-template";

ComponentRegister('tabs', {
    script: () => {
        return {};
    },
    template: template
});

export default function Tabs({initialActivatedTab}) {
    const currentTab = ko.observable(initialActivatedTab);
    const tabsEnabledConditions = {};

    function tabIsEnabledWhen(id, condition){
        tabsEnabledConditions[id] = condition;
    }

    function isTabEnabled(id){
        const condition = tabsEnabledConditions[id];
        if (!condition) return true;

        return condition();
    }

    return {
        currentTab,
        tabIsEnabledWhen,
        isTabEnabled
    };
}