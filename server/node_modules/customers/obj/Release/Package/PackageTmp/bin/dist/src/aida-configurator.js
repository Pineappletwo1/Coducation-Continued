require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
                        value: true
});
exports["default"] = "\n<search-select params=\"label: labels.label, \n                        placeholder: labels.placeholder, \n                        options: options, \n                        selected: selected,\n                        whenSelected: whenColorSelected\">\n</search-select>";
module.exports = exports["default"];

},{}],2:[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _colorSelectorTemplate = require('./color-selector-template');

var _colorSelectorTemplate2 = _interopRequireDefault(_colorSelectorTemplate);

aidaCore.ComponentRegister('color-selector', {
    script: function script(props, dependencyProvider) {
        var translator = dependencyProvider.getTranslator();
        var enableEvents = props.enableEvents || ko.observable(true);
        var whenColorSelected = props.whenColorSelected || function () {};

        function getLabels() {
            return {
                label: translator.translate('SharedDomain.Vehicle.Color'),
                placeholder: translator.translate('SharedDomain.SelectValue')
            };
        }

        return {
            labels: getLabels(),
            options: props.options,
            selected: props.selected,
            enableEvents: enableEvents,
            whenColorSelected: whenColorSelected
        };
    },
    template: _colorSelectorTemplate2['default']
});

},{"./color-selector-template":1}],3:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = "\n<div data-backdrop=\"static\" data-keyboard=\"false\" data-bind=\"modal: {\n                    visible: visible,\n                    header: { name: headerTemplate, data: { headerLabel: labels.label }},\n                    body: { name: 'combinations_selector', data: { choices: choices }}\n                }\">\n</div>\n\n<script type=\"text/html\" id=\"header_without_close\">\n    <h3 data-bind=\"text: headerLabel\"></h3>\n</script>\n\n<script type=\"text/html\" id=\"header_with_close\">\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">Ã—</button>\n    <h3 data-bind=\"text: headerLabel\"></h3>\n</script>\n\n<script type=\"text/html\" id=\"combinations_selector\">\n    <div data-bind=\"foreach: choices\">\n        <div class=\"selectablebox\" data-bind=\"click: select\" style=\"margin: 5px\">\n            <ul data-bind=\"foreach: items\">\n                <li data-bind=\"text: description\"></li>\n            </ul>\n        </div>\n    </div>\n</script>";
module.exports = exports["default"];

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationSelectorScript;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combinationSelectorTemplate = require('./combination-selector-template');

var _combinationSelectorTemplate2 = _interopRequireDefault(_combinationSelectorTemplate);

aidaCore.ComponentRegister('combination-selector', {
    script: {
        create: function create(props, dependencyProvider) {
            var params = {
                visible: props.visible,
                isSelectionMandatory: props.isSelectionMandatory || false,
                options: props.options,
                translator: dependencyProvider.getTranslator(),
                whenSelected: props.whenSelected || function () {}
            };
            return new CombinationSelectorScript(params);
        }
    },
    template: _combinationSelectorTemplate2['default']
});

function CombinationSelectorScript(_ref) {
    var visible = _ref.visible;
    var isSelectionMandatory = _ref.isSelectionMandatory;
    var options = _ref.options;
    var translator = _ref.translator;
    var whenSelected = _ref.whenSelected;

    var currentCombinationSelected = undefined;
    var choices = ko.observableArray([]);
    var headerTemplate = ko.observable(getHeader());

    visible.subscribe(function () {
        if (visible()) {
            initialize();
        } else {
            whenSelected(currentCombinationSelected);
        }
    });

    function whenCombinationSelected(combination) {
        currentCombinationSelected = combination;
        visible(false);
    }

    function initialize() {
        headerTemplate(getHeader());
        currentCombinationSelected = undefined;
        choices.removeAll();
        _.each(options(), function (option) {
            return option.whenSelected(whenCombinationSelected);
        });
        ko.utils.arrayPushAll(choices, options());
    }

    function getHeader() {
        return ko.unwrap(isSelectionMandatory) ? 'header_without_close' : 'header_with_close';
    }

    function getLabels() {
        return {
            label: translator.translate("Configurator.CombinationSelector.Header")
        };
    }

    return {
        visible: visible,
        headerTemplate: headerTemplate,
        choices: choices,
        initialize: initialize,
        labels: getLabels()
    };
}

module.exports = exports['default'];

},{"./combination-selector-template":3}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ColorConfigurator;

function ColorConfigurator(whenColorIsSelected) {

    var colorOptions = ko.observableArray([]);
    var colorSelected = ko.observable();

    colorSelected.subscribe(function () {
        whenColorIsSelected(colorSelected());
    });

    function initializeSelector(colors) {
        colorOptions.removeAll();
        ko.utils.arrayPushAll(colorOptions, colors);
        colorSelected(undefined);
    }

    function setOptionsForSelectedInterior(modelConfiguration, catalog) {
        if (!modelConfiguration.hasInterior()) {
            colorOptions(catalog.colors);
        } else {
            colorOptions(catalog.compatibleColorsWith(modelConfiguration.configuredInterior().code));
        }
    }

    return {
        options: colorOptions,
        selected: colorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedInterior: setOptionsForSelectedInterior
    };
}

module.exports = exports["default"];

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = Combination;

function Combination(root, items, dialogPublisher, translator) {
    var whenSelectedCallback = function whenSelectedCallback() {};

    function select() {
        if (anyEquipmentIsNotInCatalog()) {
            dialogPublisher.error({ title: translator.translate("Configurator.AnyEquipmentIsNotInCatalog.Error") });
            return;
        }
        whenSelectedCallback(self);
    }

    function anyEquipmentIsNotInCatalog() {
        return _.find(items, function (x) {
            return !x.isInCatalog();
        }) != undefined;
    }

    function selectItems() {
        root.selected(true);
        _.each(items, function (x) {
            return x.selected(true);
        });
    }

    function whenSelected(callback) {
        whenSelectedCallback = callback;
    }

    var self = {
        root: root,
        items: items,
        select: select,
        whenSelected: whenSelected,
        selectItems: selectItems
    };

    return self;
}

module.exports = exports["default"];

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationSelectorBindings;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combinationsBuilder = require('./combinationsBuilder');

var _combinationsBuilder2 = _interopRequireDefault(_combinationsBuilder);

function CombinationSelectorBindings(dialogPublisher, translator) {

    var combinationsBuilder = (0, _combinationsBuilder2['default'])(dialogPublisher, translator);
    var combinationOptions = ko.observable();
    var isCombinationMandatory = ko.observable(false);
    var whenCombinationSelectedCallback = function whenCombinationSelectedCallback() {};
    var combinationSelectorVisible = ko.observable(false);

    function updateToShowAsMandatory(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = true;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function updateToShow(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = false;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function update(itemCode, combinations, selectableCatalog, isMandatory, callback) {
        var combinationsForThisItem = combinationsBuilder.buildFor(itemCode, combinations, selectableCatalog);
        combinationOptions(combinationsForThisItem);
        isCombinationMandatory(isMandatory);
        whenCombinationSelectedCallback = callback;
        combinationSelectorVisible(true);
    }

    return {
        updateToShow: updateToShow,
        updateToShowAsMandatory: updateToShowAsMandatory,
        combinationSelectorVisible: combinationSelectorVisible,
        isCombinationMandatory: isCombinationMandatory,
        combinationOptions: combinationOptions,
        whenSelected: function whenSelected(selected) {
            return whenCombinationSelectedCallback(selected);
        }
    };
}

module.exports = exports['default'];

},{"./combinationsBuilder":8}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationsBuilder;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combination = require('./combination');

var _combination2 = _interopRequireDefault(_combination);

function CombinationsBuilder(dialogPublisher, translator) {

    function buildFor(itemCode, combinations, catalog) {
        var rootOfCombinationEquipment = catalog.findItem(itemCode);
        return _.map(combinations, function (combination) {
            return buildCombinationFor(rootOfCombinationEquipment, combination, catalog);
        });
    }

    function buildCombinationFor(rootItem, combination, catalog) {
        var combinationCodes = _.map(combination, function (item) {
            return item.code;
        });
        var catalogItems = catalog.findItems(combinationCodes);
        return (0, _combination2['default'])(rootItem, catalogItems, dialogPublisher, translator);
    }

    return {
        buildFor: buildFor,
        buildCombinationFor: buildCombinationFor
    };
}

module.exports = exports['default'];

},{"./combination":6}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorApplier;

function ConfiguratorApplier(colorConfigurator, interiorConfigurator, configuratorNotifier, combinationBuilder, whenConfigurationChanged) {

    var EmptyInterior = undefined;

    function applyConfiguration(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        var newAutofixes = _.filter(newConfiguration.autoFixes, function (x) {
            return x.isNewAutofix;
        });
        if (newAutofixes.length > 0) {
            configuratorNotifier.notifyAutofixesConfirmation(newAutofixes, function () {
                return continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
            });
        } else {
            continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
        }
    }

    function continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        configuratorNotifier.notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType);
        commitApply(modelConfiguration, newConfiguration, selectableCatalog);
    }

    function commitApply(modelConfiguration, newConfiguration, selectableCatalog) {
        clearAllSelections(modelConfiguration, selectableCatalog);

        modelConfiguration.setAutofixes(newConfiguration.autoFixes);

        applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog);
        applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog);
        applyColor(modelConfiguration, newConfiguration, selectableCatalog);
        applyInterior(modelConfiguration, newConfiguration, selectableCatalog);
        //MakeSelectorsReadOnlyIfNecessary();
        whenConfigurationChanged(modelConfiguration.toJson());
    }

    function clearAllSelections(modelConfiguration, selectableCatalog) {
        modelConfiguration.cleanSelections();
        selectableCatalog.unselectAll();
    }

    function applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog) {
        if (!newConfiguration.modelCompulsory || !newConfiguration.modelCompulsory.combinedItems) return;

        _.each(newConfiguration.modelCompulsory.combinedItems, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            modelConfiguration.addCompulsory(item);
        });
    }

    function applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog) {
        var equipmentsAndPackages = _(newConfiguration.equipments).concat(newConfiguration.packages).value();
        _.each(equipmentsAndPackages, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            applyCombination(item, x.combination, selectableCatalog);
            modelConfiguration.addEquipment(item);
        });
    }

    function applyColor(modelConfiguration, newConfiguration, selectableCatalog) {
        var colorSelectable = undefined;
        if (_.isObject(newConfiguration.color)) {
            colorSelectable = selectableCatalog.findItem(newConfiguration.color.code);
            applyCombination(colorSelectable, newConfiguration.color.combination, selectableCatalog);
        }

        //colorSelected(colorSelectable);
        modelConfiguration.setColor(colorSelectable);
        interiorConfigurator.setOptionsForSelectedColor(modelConfiguration, selectableCatalog);
    }

    function applyCombination(item, combination, selectableCatalog) {
        if (combination && combination.length > 0) {
            var combinationViewModel = combinationBuilder.buildCombinationFor(item, combination, selectableCatalog);
            item.setCombination(combinationViewModel);
            combinationViewModel.selectItems();
        }
    }

    function applyInterior(modelConfiguration, newConfiguration, selectableCatalog) {
        var interiorSelectable = EmptyInterior;
        if (_.isObject(newConfiguration.interior)) {
            interiorSelectable = selectableCatalog.findItem(newConfiguration.interior.code);
            applyCombination(interiorSelectable, newConfiguration.interior.combination, selectableCatalog);
        }
        //interiorSelector.selectedWithoutEvents(interiorSelectable);
        modelConfiguration.setInterior(interiorSelectable);
        colorConfigurator.setOptionsForSelectedInterior(modelConfiguration, selectableCatalog);
    }

    return {
        applyConfiguration: applyConfiguration,
        continueApply: continueApply
    };
}

module.exports = exports["default"];

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorNotifier;

function ConfiguratorNotifier(dialogPublisher, translator) {

    function notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType) {
        var message = undefined;
        if (modelConfiguration.colorHasChanged(newConfiguration) && !actionType.IsChangeColor()) {
            message = translator.translate("Configurator.NotifyChangeColor.Message");
        }

        if (modelConfiguration.interiorHasChanged(newConfiguration) && !actionType.IsChangeInterior()) {
            if (message) message += " " + translator.translate("Configurator.NotifyChangeInteriorAndColor.Message");else message = translator.translate("Configurator.NotifyChangeInterior.Message");
        }

        if (message) {
            dialogPublisher.warning({ title: translator.translate("SharedDomain.Warning.Text"), message: message });
        }
    }

    function notifyAutofixesConfirmation(newAutofixes, whenConfirmed) {
        var fixesAsString = _.reduce(newAutofixes, function (acc, fix) {
            return acc + "- " + translator.translate("Configurator.ApplyConfiguration.Message", [fix.addedItem, fix.removedItem]) + '<br>';
        }, "");
        fixesAsString += "<br>" + translator.translate("Configurator.OkToContinue.Message");
        dialogPublisher.confirmation({
            title: translator.translate("Configurator.ApplyConfigurationConfirmation.Message"),
            message: fixesAsString,
            callback: whenConfirmed
        });
    }

    return {
        notifyChangesInConfiguration: notifyChangesInConfiguration,
        notifyAutofixesConfirmation: notifyAutofixesConfirmation
    };
}

module.exports = exports["default"];

},{}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = EquipmentsSelector;

function EquipmentsSelector() {

    var categories = ko.observableArray();
    var search = EquipmentsSearch();
    var allEquipments = [];

    function setEquipments(equipments, packages) {
        var allSelectableItems = _(packages).concat(equipments).value();
        clean(allSelectableItems);
        groupEquipmentsByCategory(allSelectableItems);
        initSearch();
    }

    function clean(equipments) {
        allEquipments = equipments;
        categories.removeAll();
    }

    function groupEquipmentsByCategory(equipments) {
        var equipmentsGroupedByCategory = _.groupBy(equipments, "category");
        _.each(equipmentsGroupedByCategory, function (equipments, category) {
            categories.push(EquipmentCategory(equipments, category));
        });
    }

    function initSearch() {
        search.setEquipments(allEquipments);
    }

    function unselectAllEquipments() {
        _.each(allEquipments, function (x) {
            return x.selected(false);
        });
    }

    return {
        categories: categories,
        setEquipments: setEquipments,
        search: search,
        unselectAllEquipments: unselectAllEquipments
    };
}

function EquipmentCategory(equipments, name) {
    return {
        name: name,
        id: _.uniqueId('category_'),
        equipments: equipments
    };
}

function EquipmentsSearch() {
    var textToSearch = ko.observable('');
    var results = ko.observableArray([]);
    var elements = [];

    function setEquipments(equipments) {
        results.removeAll();
        elements.length = 0;
        _.each(equipments, function (equipment) {
            elements.push(equipment);
        });
        search();
    }

    function search() {
        results.removeAll();
        var filteredResults = _.filter(elements, function (element) {
            return element.contains(textToSearch());
        });
        ko.utils.arrayPushAll(results, filteredResults);
    }

    return {
        results: results,
        textToSearch: textToSearch,
        search: search,
        setEquipments: setEquipments
    };
}
module.exports = exports['default'];

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = InteriorConfigurator;

function InteriorConfigurator(whenInteriorIsSelected) {

    var interiorOptions = ko.observableArray([]);
    var interiorSelected = ko.observable();

    interiorSelected.subscribe(function () {
        whenInteriorIsSelected(interiorSelected());
    });

    function initializeSelector(interiors) {
        interiorOptions.removeAll();
        ko.utils.arrayPushAll(interiorOptions, interiors);
        interiorSelected(undefined);
    }

    function setOptionsForSelectedColor(modelConfiguration, catalog) {
        if (!modelConfiguration.hasColor()) {
            interiorOptions(catalog.interiors);
        } else {
            interiorOptions(catalog.compatibleInteriorsWith(modelConfiguration.configuredColor().code));
        }
    }

    return {
        options: interiorOptions,
        selected: interiorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedColor: setOptionsForSelectedColor
    };
}

module.exports = exports["default"];

},{}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelCatalogSelectables;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _selectableItem = require("./selectableItem");

var _selectableItem2 = _interopRequireDefault(_selectableItem);

function ModelCatalogSelectables(modelCode, modelDescription, catalogJson) {

    var equipments = createSelectableEquipmentsFrom(catalogJson);
    var interiors = createSelectableInteriorsFrom(catalogJson);
    var colors = createSelectableColorsFrom(catalogJson);
    var packages = createSelectablePackagesFrom(catalogJson);
    var model = (0, _selectableItem2["default"])({
        code: modelCode,
        description: modelDescription,
        hasForcedCombinations: catalogJson.modelCompulsoryCombinationChoices && catalogJson.modelCompulsoryCombinationChoices.length > 0,
        compulsoryCombinations: catalogJson.modelCompulsoryCombinationChoices
    });

    var allItems = _(model).concat(interiors, colors, equipments, packages).value();

    function addRelationship(colorCode, interiorCode) {
        if (_.find(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode && x.interiorCode == interiorCode;
        })) return;
        catalogJson.relationship.push({ colorCode: colorCode, interiorCode: interiorCode });
    }

    function addColor(colorToAdd) {
        var color = (0, _selectableItem2["default"])({
            code: colorToAdd.code,
            description: colorToAdd.description });
        colors.push(color);
        allItems.push(color);
    }

    function addInterior(interiorToAdd) {
        var interior = (0, _selectableItem2["default"])({
            code: interiorToAdd.code,
            description: interiorToAdd.description });
        interiors.push(interior);
        allItems.push(interior);
    }

    function clean() {
        equipments.length = 0;
        interiors.length = 0;
        colors.length = 0;
        packages.length = 0;
        allItems.length = 0;
    }

    function getModel() {
        return model;
    }

    function createSelectablePackagesFrom(catalogJson) {
        return _.map(catalogJson.packages, function (x) {
            return (0, _selectableItem2["default"])(x, true);
        });
    }

    function createSelectableEquipmentsFrom(catalogJson) {
        return _.map(catalogJson.equipments, function (x) {
            return (0, _selectableItem2["default"])(x, false);
        });
    }

    function createSelectableInteriorsFrom(catalogJson) {
        return _.map(catalogJson.interiors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function createSelectableColorsFrom(catalogJson) {
        return _.map(catalogJson.colors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function findItems(codes) {
        return _.map(codes, function (code) {
            return findItem(code);
        });
    }

    function findItem(code) {
        var item = _.find(allItems, function (x) {
            return x.code == code;
        });
        if (_.isUndefined(item)) {
            return createEmptySelectableItem(code);
        }
        return item;
    }

    function createEmptySelectableItem(code) {
        return (0, _selectableItem2["default"])({ esmEquipment: false, code: code, description: '' });
    }

    function unselectAll() {
        _.each(allItems, function (x) {
            return x.selected(false);
        });
    }

    function compatibleColorsWith(interiorCode) {
        var interiorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.interiorCode == interiorCode;
        });
        return _.map(interiorRelationships, function (x) {
            return findColor(x.colorCode);
        });
    }

    function findColor(colorCode) {
        return _.find(colors, function (x) {
            return x.code == colorCode;
        });
    }

    function compatibleInteriorsWith(colorCode) {
        var colorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode;
        });
        return _.map(colorRelationships, function (x) {
            return findInterior(x.interiorCode);
        });
    }

    function findInterior(interiorCode) {
        return _.find(interiors, function (x) {
            return x.code == interiorCode;
        });
    }

    return {
        equipments: equipments,
        packages: packages,
        colors: colors,
        interiors: interiors,
        findItem: findItem,
        findItems: findItems,
        unselectAll: unselectAll,
        compatibleColorsWith: compatibleColorsWith,
        compatibleInteriorsWith: compatibleInteriorsWith,
        getModel: getModel,
        clean: clean,
        addColor: addColor,
        addInterior: addInterior,
        addRelationship: addRelationship
    };
}

module.exports = exports["default"];

},{"./selectableItem":15}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = ModelConfiguration;

function ModelConfiguration() {

    var modelId = ko.observable();
    var modelDescription = ko.observable();
    var equipments = ko.observableArray();
    var configuredColor = ko.observable();
    var configuredInterior = ko.observable();
    var modelCompulsory = ko.observableArray();
    var showOrderCreation = ko.observable(false);
    var unableToRebuildItems = ko.observableArray();
    var modelAutofixes = undefined;
    var modelCode = undefined;

    function addUnableToRebuildItem(item) {
        unableToRebuildItems.push(item);
    }

    function removeUnableToRebuildItem(item) {
        unableToRebuildItems.remove(item);
    }

    function setAutofixes(autofixes) {
        modelAutofixes = autofixes;
    }

    function canSaveOrder() {
        return hasModel() && hasColor() && hasInterior();
    }

    function addEquipment(equipment) {
        equipments.remove(equipment);
        equipments.push(equipment);
    }

    function addCompulsory(combinedItem) {
        modelCompulsory.push(combinedItem);
    }

    function setModel(model) {
        clean();
        modelCode = model.key.code;
        modelId(model.key.id);
        modelDescription(model.description);
    }

    function isNotTheSameModel(model) {
        return model.key.code != modelCode;
    }

    function clean() {
        modelId(undefined);
        modelDescription(undefined);
        cleanSelections();
    }

    function cleanSelections() {
        showOrderCreation(false);
        equipments.removeAll();
        modelCompulsory.removeAll();
        configuredColor(undefined);
        configuredInterior(undefined);
    }

    function setColor(color) {
        configuredColor(color);
    }

    function setInterior(interior) {
        configuredInterior(interior);
    }

    function toJson() {
        return {
            modelKey: { id: modelId(), code: '', description: modelDescription() },
            color: configuredColor() != undefined ? configuredColor().toJson() : {},
            interior: configuredInterior() != undefined ? configuredInterior().toJson() : {},
            equipments: _.map(equipmentsThatAreNotPackages(), function (x) {
                return x.toJson();
            }),
            packages: _.map(equipmentsThatArePackages(), function (x) {
                return x.toJson();
            }),
            modelCompulsory: { combinedItems: _.map(modelCompulsory(), function (x) {
                    return { code: x.code, type: x.type };
                }) },
            autoFixes: modelAutofixes
        };
    }

    function equipmentsThatArePackages() {
        return _.select(equipments(), function (x) {
            return x.isPackage();
        });
    }

    function equipmentsThatAreNotPackages() {
        return _.select(equipments(), function (x) {
            return !x.isPackage();
        });
    }

    function hasForcedColor() {
        if (configuredColor() == undefined) return false;

        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredColor().code);
        }) || configuredInterior() && configuredInterior().containsForcedItem(configuredColor().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredColor().code;
        });
    }

    function hasForcedInterior() {
        if (configuredInterior() == undefined) return false;
        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredInterior().code);
        }) || configuredColor() && configuredColor().containsForcedItem(configuredInterior().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredInterior().code;
        });
    }

    function hasColor() {
        return !_.isUndefined(configuredColor());
    }

    function hasInterior() {
        return !_.isUndefined(configuredInterior());
    }

    function hasModel() {
        return !_.isUndefined(modelId());
    }

    function hasEquipment(equipmentCode) {
        return _.any(equipments(), function (x) {
            return x.code == equipmentCode;
        }) || _.any(modelCompulsory(), function (x) {
            return x.code == equipmentCode;
        }) || configuredColor() && configuredColor().containsForcedItem(equipmentCode) || configuredInterior() && configuredInterior().containsForcedItem(equipmentCode);
    }

    function colorHasChanged(newConfiguration) {
        return configuredColor() && newConfiguration.color && configuredColor().code != newConfiguration.color.code;
    }

    function interiorHasChanged(newConfiguration) {
        return configuredInterior() && newConfiguration.interior && configuredInterior().code != newConfiguration.interior.code;
    }

    return {
        modelId: modelId,
        modelDescription: modelDescription,
        equipments: equipments,
        modelCompulsory: modelCompulsory,
        setModel: setModel,
        setColor: setColor,
        setInterior: setInterior,
        addEquipment: addEquipment,
        addCompulsory: addCompulsory,
        clean: clean,
        toJson: toJson,
        hasColor: hasColor,
        hasInterior: hasInterior,
        hasForcedColor: hasForcedColor,
        hasForcedInterior: hasForcedInterior,
        configuredColor: configuredColor,
        configuredInterior: configuredInterior,
        colorHasChanged: colorHasChanged,
        interiorHasChanged: interiorHasChanged,
        canSaveOrder: canSaveOrder,
        showOrderCreation: showOrderCreation,
        cleanSelections: cleanSelections,
        setAutofixes: setAutofixes,
        unableToRebuildItems: unableToRebuildItems,
        addUnableToRebuildItem: addUnableToRebuildItem,
        removeUnableToRebuildItem: removeUnableToRebuildItem,
        isNotTheSameModel: isNotTheSameModel,
        hasEquipment: hasEquipment
    };
}

module.exports = exports['default'];

},{}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = SelectableItem;

function SelectableItem(catalogItem, isTypePackage) {
    var selected = ko.observable(catalogItem.esmEquipment);
    var forcedItems = ko.observableArray();

    function contains(text) {
        if (!text) return false;
        return catalogItem.description.toUpperCase().indexOf(text.toUpperCase()) != -1 || catalogItem.code.toUpperCase().indexOf(text.toUpperCase()) != -1;
    }

    function isInCatalog() {
        return catalogItem.description != '';
    }

    function setCombination(combination) {
        forcedItems.removeAll();
        ko.utils.arrayPushAll(forcedItems, combination.items);
    }

    function toJson() {
        return {
            code: catalogItem.code,
            description: catalogItem.description,
            combination: combinationsToJson()
        };
    }

    function combinationsToJson() {
        return _.map(forcedItems(), function (x) {
            return { code: x.code, type: x.type };
        });
    }

    function containsForcedItem(code) {
        return _.any(forcedItems(), function (x) {
            return x.code == code;
        });
    }

    function isPackage() {
        return isTypePackage;
    }

    var self = {
        category: catalogItem.category,
        description: catalogItem.code + " - " + catalogItem.description,
        descriptionWithoutCode: catalogItem.description,
        selected: selected,
        contains: contains,
        containsForcedItem: containsForcedItem,
        code: catalogItem.code,
        type: catalogItem.type,
        isInCatalog: isInCatalog,
        hasForcedCombinations: catalogItem.hasForcedCombinations,
        compulsoryCombinations: catalogItem.compulsoryCombinations,
        toJson: toJson,
        setCombination: setCombination,
        forcedItems: forcedItems,
        isPackage: isPackage
    };
    return self;
}

module.exports = exports["default"];

},{}],16:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = "\n<div class=\"box box-default\">\n    <div class=\"box-header with-border\">\n        <h3 class=\"box-title\" data-bind=\"text: labels.title\"></h3>\n    </div>\n    <div class=\"box-body\">\n        <div class=\"form-horizontal\">\n            <model-selector params=\"modelSelected: modelSelected,\n                                    whenModelSelected: whenModelSelected, \n                                    whenModelUnselected: whenModelUnselected, \n                                    whenModelGroupSelected: whenModelGroupSelected\">\n            </model-selector>\n            <color-selector params=\"options: colorOptions, selected: selectedColor\"></color-selector>\n            <interior-selector params=\"options: interiorOptions, selected: selectedInterior\"></interior-selector>\n        </div>\n    </div>\n    <spinner params=\"show: loadingCatalog\"></spinner>\n</div>\n<equipments-selector params=\"equipments: availableEquipments, \n                             whenEquipmentSelected: whenEquipmentSelected,\n                             whenEquipmentUnselected: whenEquipmentUnselected,\n                             loadingFlag: loadingCatalog\">\n</equipments-selector>\n<combination-selector params=\"visible: combinationSelectorVisible, options: combinationOptions, isSelectionMandatory: isCombinationMandatory, whenSelected: whenCombinationSelected\"></combination-selector>";
module.exports = exports["default"];

},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = Configurator;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _configuratorTemplate = require('./configurator-template');

var _configuratorTemplate2 = _interopRequireDefault(_configuratorTemplate);

var _scriptsModelCatalogSelectables = require('./scripts/modelCatalogSelectables');

var _scriptsModelCatalogSelectables2 = _interopRequireDefault(_scriptsModelCatalogSelectables);

var _infrastructureClientsCatalogClient = require('../../infrastructure/clients/catalogClient');

var _infrastructureClientsCatalogClient2 = _interopRequireDefault(_infrastructureClientsCatalogClient);

var _infrastructureClientsConfigurationClient = require('../../infrastructure/clients/configurationClient');

var _infrastructureClientsConfigurationClient2 = _interopRequireDefault(_infrastructureClientsConfigurationClient);

var _scriptsModelConfiguration = require('./scripts/modelConfiguration');

var _scriptsModelConfiguration2 = _interopRequireDefault(_scriptsModelConfiguration);

var _scriptsConfiguratorApplier = require('./scripts/configuratorApplier');

var _scriptsConfiguratorApplier2 = _interopRequireDefault(_scriptsConfiguratorApplier);

var _scriptsConfiguratorNotifier = require('./scripts/configuratorNotifier');

var _scriptsConfiguratorNotifier2 = _interopRequireDefault(_scriptsConfiguratorNotifier);

var _scriptsColorConfigurator = require('./scripts/colorConfigurator');

var _scriptsColorConfigurator2 = _interopRequireDefault(_scriptsColorConfigurator);

var _scriptsInteriorConfigurator = require('./scripts/interiorConfigurator');

var _scriptsInteriorConfigurator2 = _interopRequireDefault(_scriptsInteriorConfigurator);

var _scriptsCombinationSelectorBindings = require('./scripts/combinationSelectorBindings');

var _scriptsCombinationSelectorBindings2 = _interopRequireDefault(_scriptsCombinationSelectorBindings);

var _scriptsCombinationsBuilder = require('./scripts/combinationsBuilder');

var _scriptsCombinationsBuilder2 = _interopRequireDefault(_scriptsCombinationsBuilder);

aidaCore.ComponentRegister('configurator', {
    script: function script(props, dependencyProvider) {
        var brand = "V";
        var whenConfigurationChanged = props.whenConfigurationChanged;
        var translator = dependencyProvider.getTranslator();
        var catalogClient = (0, _infrastructureClientsCatalogClient2['default'])(dependencyProvider.getRestClient(), dependencyProvider.getErrorDialogPublisher(), {}, brand);
        var configurationClient = (0, _infrastructureClientsConfigurationClient2['default'])(dependencyProvider.getRestClient(), dependencyProvider.getErrorDialogPublisher(), {}, brand);
        var dialogPublisher = dependencyProvider.getDialogPublisher();
        return Configurator({ whenConfigurationChanged: whenConfigurationChanged, translator: translator, catalogClient: catalogClient, configurationClient: configurationClient, dialogPublisher: dialogPublisher });
    },
    template: _configuratorTemplate2['default']
});

function Configurator(_ref) {
    var whenConfigurationChanged = _ref.whenConfigurationChanged;
    var translator = _ref.translator;
    var catalogClient = _ref.catalogClient;
    var configurationClient = _ref.configurationClient;
    var dialogPublisher = _ref.dialogPublisher;

    var currentCatalog = undefined;
    var loadingCatalog = ko.observable(false);
    var modelSelected = ko.observable();
    var modelConfiguration = (0, _scriptsModelConfiguration2['default'])();
    var colorConfigurator = (0, _scriptsColorConfigurator2['default'])(whenColorIsSelected);
    var interiorConfigurator = (0, _scriptsInteriorConfigurator2['default'])(whenInteriorIsSelected);
    var availableEquipments = ko.observableArray([]);
    var configuratorNotifier = (0, _scriptsConfiguratorNotifier2['default'])(dialogPublisher, translator);
    var combinationBuilder = (0, _scriptsCombinationsBuilder2['default'])(dialogPublisher, translator);
    var configuratorApplier = (0, _scriptsConfiguratorApplier2['default'])(colorConfigurator, interiorConfigurator, configuratorNotifier, combinationBuilder, whenConfigurationChanged);
    var combinationSelectorBindings = (0, _scriptsCombinationSelectorBindings2['default'])(dialogPublisher, translator);

    function whenModelSelected(model) {
        modelConfiguration.setModel(model);
        loadingCatalog(true);
        catalogClient.getCatalog(modelConfiguration.modelId(), whenCatalogReceived, onCatalogError);
    }

    function whenModelUnselected() {
        modelConfiguration.clean();
        currentCatalog.clean();
        initializeSelectors();
    }

    function whenCatalogReceived(catalogJson) {
        loadingCatalog(false);
        currentCatalog = (0, _scriptsModelCatalogSelectables2['default'])(modelConfiguration.modelId(), modelConfiguration.modelDescription(), catalogJson);
        initializeSelectors();
        var model = currentCatalog.getModel();
        if (model.compulsoryCombinations && model.compulsoryCombinations.length > 1) {
            combinationSelectorBindings.updateToShowAsMandatory(model.code, model.compulsoryCombinations, currentCatalog, whenModelCombinationIsSelected);
        } else {
            configurationClient.createConfiguration(model, whenConfigurationApplied, onConfigurationError);
        }
    }

    function onCatalogError() {
        loadingCatalog(false);
    }

    function onConfigurationError() {
        modelSelected(undefined);
    }

    function whenColorIsSelected(color) {
        if (color && color.hasForcedCombinations) {
            combinationSelectorBindings.updateToShow(color.code, color.compulsoryCombinations, currentCatalog, whenColorCombinationSelected);
            return;
        }
        if (color) {
            configurationClient.changeColorWithoutCombination(modelConfiguration, color.code, whenConfigurationApplied, restoreConfiguredColor);
        } else {
            configurationClient.removeColor(modelConfiguration, whenConfigurationApplied);
        }
    }

    function whenInteriorIsSelected(interior) {
        if (_.isObject(interior) && interior.hasForcedCombinations) {
            combinationSelectorBindings.updateToShow(interior.code, interior.compulsoryCombinations, currentCatalog, whenInteriorCombinationSelected);
            return;
        }
        if (_.isObject(interior)) {
            configurationClient.changeInteriorWithoutCombination(modelConfiguration, interior.code, whenConfigurationApplied, restoreConfiguredInterior);
        } else {
            configurationClient.removeInterior(modelConfiguration, whenConfigurationApplied);
        }
    }

    function whenEquipmentSelected(equipment) {
        if (equipment.hasForcedCombinations) {
            combinationSelectorBindings.updateToShow(equipment.code, equipment.compulsoryCombinations, currentCatalog, whenEquipmentWithCombinationSelected);
            return;
        }
        if (equipment.isPackage()) {
            configurationClient.addPackageWithoutCombination(modelConfiguration, equipment.code, whenConfigurationApplied);
        } else {
            configurationClient.addEquipmentWithoutCombination(modelConfiguration, equipment.code, whenConfigurationApplied);
        }
    }

    function whenEquipmentUnselected(equipment) {
        if (equipment.isPackage()) {
            configurationClient.removePackage(modelConfiguration, equipment.code, whenConfigurationApplied);
        } else {
            configurationClient.removeEquipment(modelConfiguration, equipment.code, whenConfigurationApplied);
        }
    }

    function initializeSelectors() {
        colorConfigurator.initializeSelector(currentCatalog.colors);
        interiorConfigurator.initializeSelector(currentCatalog.interiors);
        availableEquipments(currentCatalog.equipments.concat(currentCatalog.packages));
    }

    function whenModelGroupSelected() {}

    function whenModelCombinationIsSelected(selectedCombination) {
        configurationClient.createConfigurationWithCombination(selectedCombination, whenConfigurationApplied, onConfigurationError);
    }

    function whenColorCombinationSelected(selectedCombination) {
        if (_.isObject(selectedCombination)) {
            configurationClient.changeColor(modelConfiguration, selectedCombination, whenConfigurationApplied, restoreConfiguredColor);
            return;
        }
        restoreConfiguredColor();
    }

    function whenInteriorCombinationSelected(selectedCombination) {
        if (_.isObject(selectedCombination)) {
            configurationClient.changeInterior(modelConfiguration, selectedCombination, whenConfigurationApplied, restoreConfiguredInterior);
            return;
        }
        restoreConfiguredInterior();
    }

    function whenEquipmentWithCombinationSelected(selectedCombination) {
        if (!_.isObject(selectedCombination)) return;

        if (selectedCombination.root.isPackage()) {
            configurationClient.addPackage(modelConfiguration, selectedCombination, whenConfigurationApplied);
        } else {
            configurationClient.addEquipment(modelConfiguration, selectedCombination, whenConfigurationApplied);
        }
    }

    function whenConfigurationApplied(newConfiguration, actionType) {
        configuratorApplier.applyConfiguration(modelConfiguration, newConfiguration, actionType, currentCatalog);
    }

    function restoreConfiguredColor() {
        colorConfigurator.selected(modelConfiguration.configuredColor());
    }

    function restoreConfiguredInterior() {
        interiorConfigurator.selected(modelConfiguration.configuredInterior());
    }

    function getLabels() {
        return {
            title: translator.translate('Configurator.Title')
        };
    }

    return {
        labels: getLabels(),
        colorOptions: colorConfigurator.options,
        selectedColor: colorConfigurator.selected,
        interiorOptions: interiorConfigurator.options,
        selectedInterior: interiorConfigurator.selected,
        availableEquipments: availableEquipments,
        modelSelected: modelSelected,
        whenModelSelected: whenModelSelected,
        whenModelUnselected: whenModelUnselected,
        whenModelGroupSelected: whenModelGroupSelected,
        whenEquipmentSelected: whenEquipmentSelected,
        whenEquipmentUnselected: whenEquipmentUnselected,
        loadingCatalog: loadingCatalog,
        combinationSelectorVisible: combinationSelectorBindings.combinationSelectorVisible,
        isCombinationMandatory: combinationSelectorBindings.isCombinationMandatory,
        combinationOptions: combinationSelectorBindings.combinationOptions,
        whenCombinationSelected: combinationSelectorBindings.whenSelected
    };
}

module.exports = exports['default'];

},{"../../infrastructure/clients/catalogClient":38,"../../infrastructure/clients/configurationClient":39,"./configurator-template":16,"./scripts/colorConfigurator":18,"./scripts/combinationSelectorBindings":20,"./scripts/combinationsBuilder":21,"./scripts/configuratorApplier":22,"./scripts/configuratorNotifier":23,"./scripts/interiorConfigurator":24,"./scripts/modelCatalogSelectables":25,"./scripts/modelConfiguration":26}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ColorConfigurator;

function ColorConfigurator(whenColorIsSelected) {

    var colorOptions = ko.observableArray([]);
    var colorSelected = ko.observable();

    colorSelected.subscribe(function () {
        whenColorIsSelected(colorSelected());
    });

    function initializeSelector(colors) {
        colorOptions.removeAll();
        ko.utils.arrayPushAll(colorOptions, colors);
        colorSelected(undefined);
    }

    function setOptionsForSelectedInterior(modelConfiguration, catalog) {
        if (!modelConfiguration.hasInterior()) {
            colorOptions(catalog.colors);
        } else {
            colorOptions(catalog.compatibleColorsWith(modelConfiguration.configuredInterior().code));
        }
    }

    return {
        options: colorOptions,
        selected: colorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedInterior: setOptionsForSelectedInterior
    };
}

module.exports = exports["default"];

},{}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = Combination;

function Combination(root, items, dialogPublisher, translator) {
    var whenSelectedCallback = function whenSelectedCallback() {};

    function select() {
        if (anyEquipmentIsNotInCatalog()) {
            dialogPublisher.error({ title: translator.translate("Configurator.AnyEquipmentIsNotInCatalog.Error") });
            return;
        }
        whenSelectedCallback(self);
    }

    function anyEquipmentIsNotInCatalog() {
        return _.find(items, function (x) {
            return !x.isInCatalog();
        }) != undefined;
    }

    function selectItems() {
        root.selected(true);
        _.each(items, function (x) {
            return x.selected(true);
        });
    }

    function whenSelected(callback) {
        whenSelectedCallback = callback;
    }

    var self = {
        root: root,
        items: items,
        select: select,
        whenSelected: whenSelected,
        selectItems: selectItems
    };

    return self;
}

module.exports = exports["default"];

},{}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationSelectorBindings;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combinationsBuilder = require('./combinationsBuilder');

var _combinationsBuilder2 = _interopRequireDefault(_combinationsBuilder);

function CombinationSelectorBindings(dialogPublisher, translator) {

    var combinationsBuilder = (0, _combinationsBuilder2['default'])(dialogPublisher, translator);
    var combinationOptions = ko.observable();
    var isCombinationMandatory = ko.observable(false);
    var whenCombinationSelectedCallback = function whenCombinationSelectedCallback() {};
    var combinationSelectorVisible = ko.observable(false);

    function updateToShowAsMandatory(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = true;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function updateToShow(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = false;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function update(itemCode, combinations, selectableCatalog, isMandatory, callback) {
        var combinationsForThisItem = combinationsBuilder.buildFor(itemCode, combinations, selectableCatalog);
        combinationOptions(combinationsForThisItem);
        isCombinationMandatory(isMandatory);
        whenCombinationSelectedCallback = callback;
        combinationSelectorVisible(true);
    }

    return {
        updateToShow: updateToShow,
        updateToShowAsMandatory: updateToShowAsMandatory,
        combinationSelectorVisible: combinationSelectorVisible,
        isCombinationMandatory: isCombinationMandatory,
        combinationOptions: combinationOptions,
        whenSelected: function whenSelected(selected) {
            return whenCombinationSelectedCallback(selected);
        }
    };
}

module.exports = exports['default'];

},{"./combinationsBuilder":21}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationsBuilder;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combination = require('./combination');

var _combination2 = _interopRequireDefault(_combination);

function CombinationsBuilder(dialogPublisher, translator) {

    function buildFor(itemCode, combinations, catalog) {
        var rootOfCombinationEquipment = catalog.findItem(itemCode);
        return _.map(combinations, function (combination) {
            return buildCombinationFor(rootOfCombinationEquipment, combination, catalog);
        });
    }

    function buildCombinationFor(rootItem, combination, catalog) {
        var combinationCodes = _.map(combination, function (item) {
            return item.code;
        });
        var catalogItems = catalog.findItems(combinationCodes);
        return (0, _combination2['default'])(rootItem, catalogItems, dialogPublisher, translator);
    }

    return {
        buildFor: buildFor,
        buildCombinationFor: buildCombinationFor
    };
}

module.exports = exports['default'];

},{"./combination":19}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorApplier;

function ConfiguratorApplier(colorConfigurator, interiorConfigurator, configuratorNotifier, combinationBuilder, whenConfigurationChanged) {

    var EmptyInterior = undefined;

    function applyConfiguration(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        var newAutofixes = _.filter(newConfiguration.autoFixes, function (x) {
            return x.isNewAutofix;
        });
        if (newAutofixes.length > 0) {
            configuratorNotifier.notifyAutofixesConfirmation(newAutofixes, function () {
                return continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
            });
        } else {
            continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
        }
    }

    function continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        configuratorNotifier.notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType);
        commitApply(modelConfiguration, newConfiguration, selectableCatalog);
    }

    function commitApply(modelConfiguration, newConfiguration, selectableCatalog) {
        clearAllSelections(modelConfiguration, selectableCatalog);

        modelConfiguration.setAutofixes(newConfiguration.autoFixes);

        applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog);
        applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog);
        applyColor(modelConfiguration, newConfiguration, selectableCatalog);
        applyInterior(modelConfiguration, newConfiguration, selectableCatalog);
        //MakeSelectorsReadOnlyIfNecessary();
        whenConfigurationChanged(modelConfiguration.toJson());
    }

    function clearAllSelections(modelConfiguration, selectableCatalog) {
        modelConfiguration.cleanSelections();
        selectableCatalog.unselectAll();
    }

    function applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog) {
        if (!newConfiguration.modelCompulsory || !newConfiguration.modelCompulsory.combinedItems) return;

        _.each(newConfiguration.modelCompulsory.combinedItems, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            modelConfiguration.addCompulsory(item);
        });
    }

    function applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog) {
        var equipmentsAndPackages = _(newConfiguration.equipments).concat(newConfiguration.packages).value();
        _.each(equipmentsAndPackages, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            applyCombination(item, x.combination, selectableCatalog);
            modelConfiguration.addEquipment(item);
        });
    }

    function applyColor(modelConfiguration, newConfiguration, selectableCatalog) {
        var colorSelectable = undefined;
        if (_.isObject(newConfiguration.color)) {
            colorSelectable = selectableCatalog.findItem(newConfiguration.color.code);
            applyCombination(colorSelectable, newConfiguration.color.combination, selectableCatalog);
        }

        //colorSelected(colorSelectable);
        modelConfiguration.setColor(colorSelectable);
        interiorConfigurator.setOptionsForSelectedColor(modelConfiguration, selectableCatalog);
    }

    function applyCombination(item, combination, selectableCatalog) {
        if (combination && combination.length > 0) {
            var combinationViewModel = combinationBuilder.buildCombinationFor(item, combination, selectableCatalog);
            item.setCombination(combinationViewModel);
            combinationViewModel.selectItems();
        }
    }

    function applyInterior(modelConfiguration, newConfiguration, selectableCatalog) {
        var interiorSelectable = EmptyInterior;
        if (_.isObject(newConfiguration.interior)) {
            interiorSelectable = selectableCatalog.findItem(newConfiguration.interior.code);
            applyCombination(interiorSelectable, newConfiguration.interior.combination, selectableCatalog);
        }
        //interiorSelector.selectedWithoutEvents(interiorSelectable);
        modelConfiguration.setInterior(interiorSelectable);
        colorConfigurator.setOptionsForSelectedInterior(modelConfiguration, selectableCatalog);
    }

    return {
        applyConfiguration: applyConfiguration,
        continueApply: continueApply
    };
}

module.exports = exports["default"];

},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorNotifier;

function ConfiguratorNotifier(dialogPublisher, translator) {

    function notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType) {
        var message = undefined;
        if (modelConfiguration.colorHasChanged(newConfiguration) && !actionType.IsChangeColor()) {
            message = translator.translate("Configurator.NotifyChangeColor.Message");
        }

        if (modelConfiguration.interiorHasChanged(newConfiguration) && !actionType.IsChangeInterior()) {
            if (message) message += " " + translator.translate("Configurator.NotifyChangeInteriorAndColor.Message");else message = translator.translate("Configurator.NotifyChangeInterior.Message");
        }

        if (message) {
            dialogPublisher.warning({ title: translator.translate("SharedDomain.Warning.Text"), message: message });
        }
    }

    function notifyAutofixesConfirmation(newAutofixes, whenConfirmed) {
        var fixesAsString = _.reduce(newAutofixes, function (acc, fix) {
            return acc + "- " + translator.translate("Configurator.ApplyConfiguration.Message", [fix.addedItem, fix.removedItem]) + '<br>';
        }, "");
        fixesAsString += "<br>" + translator.translate("Configurator.OkToContinue.Message");
        dialogPublisher.confirmation({
            title: translator.translate("Configurator.ApplyConfigurationConfirmation.Message"),
            message: fixesAsString,
            callback: whenConfirmed
        });
    }

    return {
        notifyChangesInConfiguration: notifyChangesInConfiguration,
        notifyAutofixesConfirmation: notifyAutofixesConfirmation
    };
}

module.exports = exports["default"];

},{}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = InteriorConfigurator;

function InteriorConfigurator(whenInteriorIsSelected) {

    var interiorOptions = ko.observableArray([]);
    var interiorSelected = ko.observable();

    interiorSelected.subscribe(function () {
        whenInteriorIsSelected(interiorSelected());
    });

    function initializeSelector(interiors) {
        interiorOptions.removeAll();
        ko.utils.arrayPushAll(interiorOptions, interiors);
        interiorSelected(undefined);
    }

    function setOptionsForSelectedColor(modelConfiguration, catalog) {
        if (!modelConfiguration.hasColor()) {
            interiorOptions(catalog.interiors);
        } else {
            interiorOptions(catalog.compatibleInteriorsWith(modelConfiguration.configuredColor().code));
        }
    }

    return {
        options: interiorOptions,
        selected: interiorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedColor: setOptionsForSelectedColor
    };
}

module.exports = exports["default"];

},{}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelCatalogSelectables;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _selectableItem = require("./selectableItem");

var _selectableItem2 = _interopRequireDefault(_selectableItem);

function ModelCatalogSelectables(modelCode, modelDescription, catalogJson) {

    var equipments = createSelectableEquipmentsFrom(catalogJson);
    var interiors = createSelectableInteriorsFrom(catalogJson);
    var colors = createSelectableColorsFrom(catalogJson);
    var packages = createSelectablePackagesFrom(catalogJson);
    var model = (0, _selectableItem2["default"])({
        code: modelCode,
        description: modelDescription,
        hasForcedCombinations: catalogJson.modelCompulsoryCombinationChoices && catalogJson.modelCompulsoryCombinationChoices.length > 0,
        compulsoryCombinations: catalogJson.modelCompulsoryCombinationChoices
    });

    var allItems = _(model).concat(interiors, colors, equipments, packages).value();

    function addRelationship(colorCode, interiorCode) {
        if (_.find(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode && x.interiorCode == interiorCode;
        })) return;
        catalogJson.relationship.push({ colorCode: colorCode, interiorCode: interiorCode });
    }

    function addColor(colorToAdd) {
        var color = (0, _selectableItem2["default"])({
            code: colorToAdd.code,
            description: colorToAdd.description });
        colors.push(color);
        allItems.push(color);
    }

    function addInterior(interiorToAdd) {
        var interior = (0, _selectableItem2["default"])({
            code: interiorToAdd.code,
            description: interiorToAdd.description });
        interiors.push(interior);
        allItems.push(interior);
    }

    function clean() {
        equipments.length = 0;
        interiors.length = 0;
        colors.length = 0;
        packages.length = 0;
        allItems.length = 0;
    }

    function getModel() {
        return model;
    }

    function createSelectablePackagesFrom(catalogJson) {
        return _.map(catalogJson.packages, function (x) {
            return (0, _selectableItem2["default"])(x, true);
        });
    }

    function createSelectableEquipmentsFrom(catalogJson) {
        return _.map(catalogJson.equipments, function (x) {
            return (0, _selectableItem2["default"])(x, false);
        });
    }

    function createSelectableInteriorsFrom(catalogJson) {
        return _.map(catalogJson.interiors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function createSelectableColorsFrom(catalogJson) {
        return _.map(catalogJson.colors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function findItems(codes) {
        return _.map(codes, function (code) {
            return findItem(code);
        });
    }

    function findItem(code) {
        var item = _.find(allItems, function (x) {
            return x.code == code;
        });
        if (_.isUndefined(item)) {
            return createEmptySelectableItem(code);
        }
        return item;
    }

    function createEmptySelectableItem(code) {
        return (0, _selectableItem2["default"])({ esmEquipment: false, code: code, description: '' });
    }

    function unselectAll() {
        _.each(allItems, function (x) {
            return x.selected(false);
        });
    }

    function compatibleColorsWith(interiorCode) {
        var interiorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.interiorCode == interiorCode;
        });
        return _.map(interiorRelationships, function (x) {
            return findColor(x.colorCode);
        });
    }

    function findColor(colorCode) {
        return _.find(colors, function (x) {
            return x.code == colorCode;
        });
    }

    function compatibleInteriorsWith(colorCode) {
        var colorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode;
        });
        return _.map(colorRelationships, function (x) {
            return findInterior(x.interiorCode);
        });
    }

    function findInterior(interiorCode) {
        return _.find(interiors, function (x) {
            return x.code == interiorCode;
        });
    }

    return {
        equipments: equipments,
        packages: packages,
        colors: colors,
        interiors: interiors,
        findItem: findItem,
        findItems: findItems,
        unselectAll: unselectAll,
        compatibleColorsWith: compatibleColorsWith,
        compatibleInteriorsWith: compatibleInteriorsWith,
        getModel: getModel,
        clean: clean,
        addColor: addColor,
        addInterior: addInterior,
        addRelationship: addRelationship
    };
}

module.exports = exports["default"];

},{"./selectableItem":27}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = ModelConfiguration;

function ModelConfiguration() {

    var modelId = ko.observable();
    var modelDescription = ko.observable();
    var equipments = ko.observableArray();
    var configuredColor = ko.observable();
    var configuredInterior = ko.observable();
    var modelCompulsory = ko.observableArray();
    var showOrderCreation = ko.observable(false);
    var unableToRebuildItems = ko.observableArray();
    var modelAutofixes = undefined;
    var modelCode = undefined;

    function addUnableToRebuildItem(item) {
        unableToRebuildItems.push(item);
    }

    function removeUnableToRebuildItem(item) {
        unableToRebuildItems.remove(item);
    }

    function setAutofixes(autofixes) {
        modelAutofixes = autofixes;
    }

    function canSaveOrder() {
        return hasModel() && hasColor() && hasInterior();
    }

    function addEquipment(equipment) {
        equipments.remove(equipment);
        equipments.push(equipment);
    }

    function addCompulsory(combinedItem) {
        modelCompulsory.push(combinedItem);
    }

    function setModel(model) {
        clean();
        modelCode = model.key.code;
        modelId(model.key.id);
        modelDescription(model.description);
    }

    function isNotTheSameModel(model) {
        return model.key.code != modelCode;
    }

    function clean() {
        modelId(undefined);
        modelDescription(undefined);
        cleanSelections();
    }

    function cleanSelections() {
        showOrderCreation(false);
        equipments.removeAll();
        modelCompulsory.removeAll();
        configuredColor(undefined);
        configuredInterior(undefined);
    }

    function setColor(color) {
        configuredColor(color);
    }

    function setInterior(interior) {
        configuredInterior(interior);
    }

    function toJson() {
        return {
            modelKey: { id: modelId(), code: '', description: modelDescription() },
            color: configuredColor() != undefined ? configuredColor().toJson() : {},
            interior: configuredInterior() != undefined ? configuredInterior().toJson() : {},
            equipments: _.map(equipmentsThatAreNotPackages(), function (x) {
                return x.toJson();
            }),
            packages: _.map(equipmentsThatArePackages(), function (x) {
                return x.toJson();
            }),
            modelCompulsory: { combinedItems: _.map(modelCompulsory(), function (x) {
                    return { code: x.code, type: x.type };
                }) },
            autoFixes: modelAutofixes
        };
    }

    function equipmentsThatArePackages() {
        return _.select(equipments(), function (x) {
            return x.isPackage();
        });
    }

    function equipmentsThatAreNotPackages() {
        return _.select(equipments(), function (x) {
            return !x.isPackage();
        });
    }

    function hasForcedColor() {
        if (configuredColor() == undefined) return false;

        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredColor().code);
        }) || configuredInterior() && configuredInterior().containsForcedItem(configuredColor().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredColor().code;
        });
    }

    function hasForcedInterior() {
        if (configuredInterior() == undefined) return false;
        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredInterior().code);
        }) || configuredColor() && configuredColor().containsForcedItem(configuredInterior().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredInterior().code;
        });
    }

    function hasColor() {
        return !_.isUndefined(configuredColor());
    }

    function hasInterior() {
        return !_.isUndefined(configuredInterior());
    }

    function hasModel() {
        return !_.isUndefined(modelId());
    }

    function hasEquipment(equipmentCode) {
        return _.any(equipments(), function (x) {
            return x.code == equipmentCode;
        }) || _.any(modelCompulsory(), function (x) {
            return x.code == equipmentCode;
        }) || configuredColor() && configuredColor().containsForcedItem(equipmentCode) || configuredInterior() && configuredInterior().containsForcedItem(equipmentCode);
    }

    function colorHasChanged(newConfiguration) {
        return configuredColor() && newConfiguration.color && configuredColor().code != newConfiguration.color.code;
    }

    function interiorHasChanged(newConfiguration) {
        return configuredInterior() && newConfiguration.interior && configuredInterior().code != newConfiguration.interior.code;
    }

    return {
        modelId: modelId,
        modelDescription: modelDescription,
        equipments: equipments,
        modelCompulsory: modelCompulsory,
        setModel: setModel,
        setColor: setColor,
        setInterior: setInterior,
        addEquipment: addEquipment,
        addCompulsory: addCompulsory,
        clean: clean,
        toJson: toJson,
        hasColor: hasColor,
        hasInterior: hasInterior,
        hasForcedColor: hasForcedColor,
        hasForcedInterior: hasForcedInterior,
        configuredColor: configuredColor,
        configuredInterior: configuredInterior,
        colorHasChanged: colorHasChanged,
        interiorHasChanged: interiorHasChanged,
        canSaveOrder: canSaveOrder,
        showOrderCreation: showOrderCreation,
        cleanSelections: cleanSelections,
        setAutofixes: setAutofixes,
        unableToRebuildItems: unableToRebuildItems,
        addUnableToRebuildItem: addUnableToRebuildItem,
        removeUnableToRebuildItem: removeUnableToRebuildItem,
        isNotTheSameModel: isNotTheSameModel,
        hasEquipment: hasEquipment
    };
}

module.exports = exports['default'];

},{}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = SelectableItem;

function SelectableItem(catalogItem, isTypePackage) {
    var selected = ko.observable(catalogItem.esmEquipment);
    var forcedItems = ko.observableArray();

    function contains(text) {
        if (!text) return false;
        return catalogItem.description.toUpperCase().indexOf(text.toUpperCase()) != -1 || catalogItem.code.toUpperCase().indexOf(text.toUpperCase()) != -1;
    }

    function isInCatalog() {
        return catalogItem.description != '';
    }

    function setCombination(combination) {
        forcedItems.removeAll();
        ko.utils.arrayPushAll(forcedItems, combination.items);
    }

    function toJson() {
        return {
            code: catalogItem.code,
            description: catalogItem.description,
            combination: combinationsToJson()
        };
    }

    function combinationsToJson() {
        return _.map(forcedItems(), function (x) {
            return { code: x.code, type: x.type };
        });
    }

    function containsForcedItem(code) {
        return _.any(forcedItems(), function (x) {
            return x.code == code;
        });
    }

    function isPackage() {
        return isTypePackage;
    }

    var self = {
        category: catalogItem.category,
        description: catalogItem.code + " - " + catalogItem.description,
        descriptionWithoutCode: catalogItem.description,
        selected: selected,
        contains: contains,
        containsForcedItem: containsForcedItem,
        code: catalogItem.code,
        type: catalogItem.type,
        isInCatalog: isInCatalog,
        hasForcedCombinations: catalogItem.hasForcedCombinations,
        compulsoryCombinations: catalogItem.compulsoryCombinations,
        toJson: toJson,
        setCombination: setCombination,
        forcedItems: forcedItems,
        isPackage: isPackage
    };
    return self;
}

module.exports = exports["default"];

},{}],28:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = "\n<div class=\"box box-default\">\n    <div class=\"box-header with-border\">\n        <h3 class=\"box-title\" data-bind=\"text: labels.title\"></h3>\n    </div>\n    <div class=\"box-body\">\n        <ul class=\"nav nav-tabs\" role=\"tablist\">\n            <li role=\"presentation\" class=\"active\"><a href=\"#all\" aria-controls=\"all\" role=\"tab\" data-toggle=\"tab\" data-bind=\"text: labels.allEquipments\"></a></li>\n            <li role=\"presentation\"><a href=\"#search\" aria-controls=\"search\" role=\"tab\" data-toggle=\"tab\" data-bind=\"text: labels.searchEquipments\"></a></li>\n        </ul>\n        <div class=\"tab-content\">\n            <div role=\"tabpanel\" class=\"tab-pane active\" id=\"all\">\n                <div class=\"panel-group\" id=\"accordion\" role=\"tablist\" aria-multiselectable=\"true\">\n                    <div data-bind=\"foreach: categories\">\n                        <div class=\"panel panel-default\">\n                            <div class=\"panel-heading\" role=\"tab\" id=\"headingOne\">\n                                <div class=\"panel-title\">\n                                    <a data-bind=\"text: name, attr: {href: '#' + id}\"\n                                       role=\"button\"\n                                       data-toggle=\"collapse\"\n                                       data-parent=\"#accordion\"\n                                       aria-expanded=\"false\">\n                                    </a>\n                                </div>\n                            </div>\n                            <div data-bind=\"attr: {id: id}\" class=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingOne\">\n                                <div class=\"panel-body\">\n                                    <div data-bind=\"template: {name: 'equipment_template', foreach: equipments}\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div role=\"tabpanel\" class=\"tab-pane\" id=\"search\">\n                <input style=\"padding: 10px\" id=\"search\" class=\"form-control\"\n                       data-bind=\"value: textToSearch,\n                                    valueUpdate: 'afterkeydown',\n                                    event: { 'keyup': search },\n                                    attr: { placeholder: labels.searchEquipments}\"\n                       type=\"text\" />\n                <div style=\"margin: 10px\" data-bind=\"template: {name: 'equipment_template', foreach: searchResults}\"></div>\n            </div>\n        </div>\n    </div>\n    <spinner params=\"show: loadingFlag\"></spinner>\n</div> \n\n<!-- templates -->\n<script type=\"text/html\" id=\"equipment_template\">\n    <div class=\"selectablebox\" data-bind=\"click: selectOrUnselect\">\n        <span data-bind=\"visible: isSelected()\">\n            <i class=\"fa fa-check\"></i>\n        </span> \n        <!-- ko if: descriptionWithoutCode != '' -->\n        <span data-bind=\"text: code + ' - ' + descriptionWithoutCode, attr: {'title': descriptionWithoutCode}\" class=\"truncate\" data-toggle=\"tooltip\"></span>\n        <!-- /ko -->\n        <!-- ko if: descriptionWithoutCode === '' -->\n        <span data-bind=\"text: code + ' - ' + labels.notAvailableDescription\"></span>\n        <!-- /ko -->\n    </div>\n</script>";
module.exports = exports["default"];

},{}],29:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = EquipmentsSelectorScript;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _equipmentsSelectorTemplate = require('./equipments-selector-template');

var _equipmentsSelectorTemplate2 = _interopRequireDefault(_equipmentsSelectorTemplate);

var _selectableEquipment = require('./selectableEquipment');

var _selectableEquipment2 = _interopRequireDefault(_selectableEquipment);

aidaCore.ComponentRegister('equipments-selector', {
    script: function script(props, dependencyProvider) {
        var translator = dependencyProvider.getTranslator();
        var equipments = props.equipments;
        var whenEquipmentSelected = props.whenEquipmentSelected;
        var whenEquipmentUnselected = props.whenEquipmentUnselected;
        var loadingFlag = props.loadingFlag;
        return EquipmentsSelectorScript({ equipments: equipments, loadingFlag: loadingFlag, translator: translator, whenEquipmentSelected: whenEquipmentSelected, whenEquipmentUnselected: whenEquipmentUnselected });
    },
    template: _equipmentsSelectorTemplate2['default']
});

function EquipmentsSelectorScript(_ref) {
    var equipments = _ref.equipments;
    var loadingFlag = _ref.loadingFlag;
    var translator = _ref.translator;
    var whenEquipmentSelected = _ref.whenEquipmentSelected;
    var whenEquipmentUnselected = _ref.whenEquipmentUnselected;

    var categories = ko.observableArray();
    var searcher = EquipmentsSearch();
    var allEquipments = [];

    equipments.subscribe(function () {
        setEquipments(equipments());
    });

    function setEquipments(equipments) {
        var allSelectableItems = ko.utils.unwrapObservable(equipments);
        var allSelectableEquipments = _.map(allSelectableItems, function (item) {
            return (0, _selectableEquipment2['default'])(item, whenEquipmentSelected, whenEquipmentUnselected);
        });
        clean(allSelectableEquipments);
        groupEquipmentsByCategory(allSelectableEquipments);
        initSearch();
    }

    function clean(selectableEquipments) {
        allEquipments = selectableEquipments;
        categories.removeAll();
    }

    function groupEquipmentsByCategory(equipments) {
        var equipmentsGroupedByCategory = _.groupBy(equipments, "category");
        _.each(equipmentsGroupedByCategory, function (equipments, category) {
            categories.push(EquipmentCategory(equipments, category));
        });
    }

    function initSearch() {
        searcher.setEquipments(allEquipments);
    }

    function unselectAllEquipments() {
        _.each(allEquipments, function (x) {
            return x.unselect();
        });
    }

    function getLabels() {
        return {
            title: translator.translate("SharedDomain.Equipments"),
            allEquipments: translator.translate("SharedDomain.AllItems"),
            searchEquipments: translator.translate("SharedDomain.SearchButton.Text"),
            notAvailableDescription: translator.translate("Configurator.NotAvailableDescription")
        };
    }

    return {
        labels: getLabels(),
        categories: categories,
        loadingFlag: loadingFlag,
        textToSearch: searcher.textToSearch,
        searchResults: searcher.results,
        search: searcher.search,
        unselectAllEquipments: unselectAllEquipments
    };
}

function EquipmentCategory(equipments, name) {
    return {
        name: name,
        id: _.uniqueId('category_'),
        equipments: equipments
    };
}

function EquipmentsSearch() {
    var textToSearch = ko.observable('');
    var results = ko.observableArray([]);
    var elements = [];

    function setEquipments(equipments) {
        results.removeAll();
        elements.length = 0;
        _.each(equipments, function (equipment) {
            elements.push(equipment);
        });
        search();
    }

    function search() {
        results.removeAll();
        var filteredResults = _.filter(elements, function (element) {
            return element.contains(textToSearch());
        });
        ko.utils.arrayPushAll(results, filteredResults);
    }

    return {
        results: results,
        textToSearch: textToSearch,
        search: search,
        setEquipments: setEquipments
    };
}
module.exports = exports['default'];

},{"./equipments-selector-template":28,"./selectableEquipment":30}],30:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = SelectableEquipment;

function SelectableEquipment(selectableItem, whenSelected, whenUnselected) {
    var isSelected = selectableItem.selected;

    function selectOrUnselect() {
        if (isSelected()) {
            whenUnselected(self);
        } else {
            whenSelected(self);
        }
    }

    function unselect() {
        isSelected(false);
    }

    var self = {
        isSelected: isSelected,
        selectOrUnselect: selectOrUnselect,
        unselect: unselect,
        code: selectableItem.code,
        descriptionWithoutCode: selectableItem.descriptionWithoutCode,
        category: selectableItem.category,
        contains: selectableItem.contains,
        isPackage: selectableItem.isPackage
    };
    return self;
}

module.exports = exports["default"];

},{}],31:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
                        value: true
});
exports["default"] = "\n<search-select params=\"label: labels.label, \n                        placeholder: labels.placeholder, \n                        options: options, \n                        selected: selected,\n                        whenSelected: whenInteriorSelected\">\n</search-select>";
module.exports = exports["default"];

},{}],32:[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _interiorSelectorTemplate = require('./interior-selector-template');

var _interiorSelectorTemplate2 = _interopRequireDefault(_interiorSelectorTemplate);

aidaCore.ComponentRegister('interior-selector', {
    script: function script(props, dependencyProvider) {
        var translator = dependencyProvider.getTranslator();
        var enableEvents = props.enableEvents || ko.observable(true);
        var whenInteriorSelected = props.whenInteriorSelected || function () {};

        function getLabels() {
            return {
                label: translator.translate('SharedDomain.Vehicle.Interior'),
                placeholder: translator.translate('SharedDomain.SelectValue')
            };
        }

        return {
            labels: getLabels(),
            options: props.options,
            selected: props.selected,
            enableEvents: enableEvents,
            whenInteriorSelected: whenInteriorSelected
        };
    },
    template: _interiorSelectorTemplate2['default']
});

},{"./interior-selector-template":31}],33:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
                        value: true
});
exports["default"] = "\n<!-- ko foreach: filters -->\n<search-select params=\"label: $parent.labels.modelGroupLabel, \n                        placeholder: $parent.labels.placeholder, \n                        options: options, \n                        enabled: enabled, \n                        selected: selected\">\n</search-select>\n<!-- /ko -->\n<search-select params=\"label: labels.modelLabel, \n                        placeholder: labels.placeholder, \n                        options: options, \n                        enabled: enabled, \n                        selected: selected\">\n</search-select>";
module.exports = exports["default"];

},{}],34:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = ModelSelectorScript;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _modelSelectorTemplate = require('./model-selector-template');

var _modelSelectorTemplate2 = _interopRequireDefault(_modelSelectorTemplate);

var _scriptsModelSelector = require('./scripts/modelSelector');

var _scriptsModelSelector2 = _interopRequireDefault(_scriptsModelSelector);

var _infrastructureClientsCatalogClient = require('../../infrastructure/clients/catalogClient');

var _infrastructureClientsCatalogClient2 = _interopRequireDefault(_infrastructureClientsCatalogClient);

aidaCore.ComponentRegister('model-selector', {
    script: {
        create: function create(props, dependencyProvider) {
            var translator = dependencyProvider.getTranslator();
            var catalogClient = (0, _infrastructureClientsCatalogClient2['default'])(dependencyProvider.getRestClient(), {}, {}, "V");
            var whenModelSelected = props.whenModelSelected;
            var whenModelUnselected = props.whenModelUnselected;
            var whenModelGroupSelected = props.whenModelGroupSelected;
            var modelSelected = props.modelSelected;

            return new ModelSelectorScript({ translator: translator, catalogClient: catalogClient, whenModelSelected: whenModelSelected, whenModelUnselected: whenModelUnselected, whenModelGroupSelected: whenModelGroupSelected, modelSelected: modelSelected });
        },
        onCreated: function onCreated(script) {
            return script.getModels();
        }
    },
    template: _modelSelectorTemplate2['default']
});

function ModelSelectorScript(_ref) {
    var translator = _ref.translator;
    var catalogClient = _ref.catalogClient;
    var whenModelSelected = _ref.whenModelSelected;
    var whenModelUnselected = _ref.whenModelUnselected;
    var whenModelGroupSelected = _ref.whenModelGroupSelected;
    var modelSelected = _ref.modelSelected;

    var modelSelector = (0, _scriptsModelSelector2['default'])(whenModelSelected, whenModelUnselected, whenModelGroupSelected, modelSelected);

    function getLabels() {
        return {
            modelGroupLabel: translator.translate('SharedDomain.Vehicle.ModelGroup'),
            modelLabel: translator.translate('SharedDomain.Vehicle.Model'),
            placeholder: translator.translate('SharedDomain.SelectValue')
        };
    }

    function getModels() {
        catalogClient.getModels(whenModelsReceived, onModelsError);
    }

    function whenModelsReceived(models) {
        modelSelector.setModels(models);
    }

    function onModelsError() {
        modelSelector.filtersAlreadyNotCreated(false);
    }

    return {
        getModels: getModels,
        labels: getLabels(),
        filters: modelSelector.filters,
        options: modelSelector.modelFilter.options,
        enabled: modelSelector.modelFilter.enabled,
        selected: modelSelector.modelFilter.selected,
        whenModelSelected: whenModelSelected
    };
}

module.exports = exports['default'];

},{"../../infrastructure/clients/catalogClient":38,"./model-selector-template":33,"./scripts/modelSelector":36}],35:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelFilter;

function ModelFilter(name, initialOptions, callbackFilterChange, modelSelected) {
    var selected = modelSelected || ko.observable();
    var options = ko.observableArray(initialOptions);

    selected.subscribe(function (value) {
        callbackFilterChange(name, value);
    });

    function select(value) {
        var selectedOption = _.find(options(), function (option) {
            return _.isEqual(option, value);
        });
        selected(selectedOption);
    }

    return {
        name: name,
        options: options,
        selected: selected,
        enabled: ko.computed(function () {
            return options().length != 0;
        }),

        selectValue: function selectValue(value) {
            var selectedOption = _.find(options(), function (option) {
                return option.description == value;
            });
            selected(selectedOption);
        },

        setNewOptions: function setNewOptions(newOptions) {
            options.removeAll();
            ko.utils.arrayPushAll(options, newOptions);
        },

        isModelFilter: function isModelFilter() {
            return name === "Modelo";
        },
        select: select
    };
}

module.exports = exports["default"];

},{}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelSelector;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _modelFilter = require("./modelFilter");

var _modelFilter2 = _interopRequireDefault(_modelFilter);

var _modelsCatalog = require("./modelsCatalog");

var _modelsCatalog2 = _interopRequireDefault(_modelsCatalog);

function ModelSelector(whenModelSelected, whenModelUnselected, whenModelGroupSelected, modelSelected) {
    var FILTER_NOT_FOUND = -1;
    var filtersAlreadyNotCreated = ko.observable(true);

    var catalog = undefined;
    var categoryFilters = ko.observableArray();
    var modelFilter = (0, _modelFilter2["default"])("Modelo", [], whenFilterChanged, modelSelected);

    function whenFilterChanged(name, selectedValue) {
        if (!_.isUndefined(selectedValue)) {
            whenModelSelected(selectedValue);
        } else {
            whenModelUnselected();
        }
    }

    function unselect() {
        modelFilter.selectValue(undefined);
    }

    function createFilters(models) {
        catalog = (0, _modelsCatalog2["default"])(models);
        var categories = catalog.getNamesOfCategories();

        _.forEach(categories, function (category) {
            categoryFilters.push((0, _modelFilter2["default"])(category, [], whenFilterChangeValue));
        });

        loadValuesForFirstfilter();
    }

    function loadValuesForFirstfilter() {
        var firstFilter = categoryFilters()[0];
        var options = catalog.valuesForCategory(firstFilter.name);
        firstFilter.setNewOptions(options);
    }

    function whenFilterChangeValue(filterName, selectedValue) {
        if (_.isUndefined(selectedValue)) {
            clearNextFilters(filterName);
        } else {
            setOptionsForNextFilter(filterName, selectedValue);
        }
    }

    function setOptionsForNextFilter(filter, selectedValue) {
        var nextFilter = findNextFilter(filter);
        var filteredOptions = undefined;
        if (nextFilter.isModelFilter()) {
            filteredOptions = catalog.getModels(filter, selectedValue);
            whenModelGroupSelected(selectedValue.id, nextFilter);
        } else {
            filteredOptions = catalog.valuesForCategory(nextFilter.name, selectedValue);
            clearNextFilters(nextFilter.name);
        }

        nextFilter.setNewOptions(filteredOptions);
    }

    function clearNextFilters(filterName) {
        var filterIndex = indexOfFilter(filterName);
        if (filterIndex == FILTER_NOT_FOUND) return;

        for (var i = filterIndex + 1; i < categoryFilters().length; i++) {
            categoryFilters()[i].setNewOptions([]);
        }

        modelFilter.setNewOptions([]);
    }

    function indexOfFilter(filterName) {
        for (var i = 0; i < categoryFilters().length; i++) {
            if (categoryFilters()[i].name === filterName) {
                return i;
            }
        }
        return FILTER_NOT_FOUND;
    }

    function findNextFilter(filter) {
        for (var i = 0; i < categoryFilters().length; i++) {
            if (categoryFilters()[i].name === filter) {
                if (i + 1 === categoryFilters().length) {
                    return modelFilter;
                } else {
                    return categoryFilters()[i + 1];
                }
            }
        }
    }

    function setModels(models) {
        createFilters(models);
        filtersAlreadyNotCreated(false);
    }

    function selectModel(modelId) {
        var model = catalog.getModel(modelId);

        _.forEach(categoryFilters(), function (categoryFilter) {
            categoryFilter.select(model.categories[categoryFilter.name]);
        });

        modelFilter.select(model);
    }

    return {
        filters: categoryFilters,
        modelFilter: modelFilter,
        filtersAlreadyNotCreated: filtersAlreadyNotCreated,
        setModels: setModels,
        unselect: unselect,
        selectModel: selectModel
    };
}

module.exports = exports["default"];

},{"./modelFilter":35,"./modelsCatalog":37}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelsCatalog;

function ModelsCatalog(models) {
    addHierarchicalIdsToModels();

    function addHierarchicalIdsToModels() {
        return _.map(models, addHierarchicalIdsToOneModel);
    }

    function addHierarchicalIdsToOneModel(model) {
        var parentId = "";
        _.forOwn(model.categories, function (category) {
            category.HierarchicalId = parentId + "_" + category.id;
            parentId = category.HierarchicalId;
        });
    }

    function getNamesOfCategories() {
        return _.keys(models[0].categories);
    }

    function valuesForCategory(category, parentFilter) {
        var selectedModels = undefined;

        if (_.isUndefined(parentFilter)) {
            selectedModels = models;
        } else {
            selectedModels = _(models).select(function (model) {
                var modelHierarchicalId = model.categories[category].HierarchicalId;
                return _(modelHierarchicalId).startsWith(parentFilter.HierarchicalId);
            }).value();
        }

        return _(selectedModels).map(function (model) {
            return model.categories[category];
        }).unique("id").value();
    }

    function getModels(category, filter) {
        return _(models).select(function (model) {
            return model.categories[category].HierarchicalId == filter.HierarchicalId;
        }).value();
    }

    function getModel(modelId) {
        return _.find(models, function (x) {
            return x.key.id == modelId;
        });
    }

    return {
        getNamesOfCategories: getNamesOfCategories,
        valuesForCategory: valuesForCategory,
        getModels: getModels,
        getModel: getModel
    };
}

module.exports = exports["default"];

},{}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CatalogClient;

function CatalogClient(restClient, errorPublisher, errorTitles, brand) {
    var catalogBaseUrl = "/brands/" + brand;

    return {
        getModels: function getModels(callback, errorCallback) {
            var url = catalogBaseUrl + "/models";
            restClient.get(url, function (result) {
                return callback(result);
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CatalogError, xhr, errorCallback);
            });
        },
        getCatalog: function getCatalog(model, callback, errorCallback) {
            var url = catalogBaseUrl + ("/models/" + model + "/catalog");
            restClient.get(url, function (result) {
                return callback(result);
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CatalogError, xhr, errorCallback);
            });
        },
        getModelsForModelGroup: function getModelsForModelGroup(modelGroup, filter, callback, errorCallback) {
            var url = catalogBaseUrl + ("/modelGroup/" + modelGroup);
            restClient.get(url, function (result) {
                return callback(filter, result);
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CatalogError, xhr, errorCallback);
            });
        }
    };
}

module.exports = exports["default"];

},{}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfigurationClient;

function ConfigurationClient(restClient, errorPublisher, errorTitles, brand) {
    var ChangeColor = "ChangeColor";
    var ChangeInterior = "ChangeInterior";
    var ChangeEquipments = "ChangeEquipments";
    var NewConfiguration = "NewConfiguration";

    function actionType(action) {
        return {
            IsChangeColor: function IsChangeColor() {
                return action == ChangeColor;
            },
            IsChangeInterior: function IsChangeInterior() {
                return action == ChangeInterior;
            },
            IsChangeEquipments: function IsChangeEquipments() {
                return action == ChangeEquipments;
            },
            IsNewConfiguration: function IsNewConfiguration() {
                return action == NewConfiguration;
            }
        };
    }

    return {
        addPackage: function addPackage(modelConfiguration, combination, callback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "/configuration/package/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectCombination, xhr);
            });
        },
        addPackageWithoutCombination: function addPackageWithoutCombination(modelConfiguration, equipmentCode, callback) {
            var url = "/configuration/package/" + equipmentCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectEquipment, xhr);
            });
        },
        removePackage: function removePackage(modelConfiguration, equipmentCode, callback) {
            var url = "/configuration/package/" + equipmentCode;

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotUnselect, xhr);
            });
        },
        addEquipment: function addEquipment(modelConfiguration, combination, callback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "/configuration/equipment/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectCombination, xhr);
            });
        },
        addEquipmentWithoutCombination: function addEquipmentWithoutCombination(modelConfiguration, equipmentCode, callback) {
            var url = "/configuration/equipment/" + equipmentCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectEquipment, xhr);
            });
        },
        removeEquipment: function removeEquipment(modelConfiguration, equipmentCode, callback) {
            var url = "/configuration/equipment/" + equipmentCode;

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotUnselect, xhr);
            });
        },
        changeColor: function changeColor(modelConfiguration, combination, callback, errorCallback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "/configuration/color/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeColor));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeColor, xhr, errorCallback);
            });
        },
        removeColor: function removeColor(modelConfiguration, callback) {
            var url = "/configuration/color/";

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeColor));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeColor, xhr);
            });
        },
        changeColorWithoutCombination: function changeColorWithoutCombination(modelConfiguration, colorCode, callback, errorCallback) {
            var url = "/configuration/color/" + colorCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeColor));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeColor, xhr, errorCallback);
            });
        },
        changeInterior: function changeInterior(modelConfiguration, combination, callback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "/configuration/interior/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeInterior));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeInterior, xhr);
            });
        },
        removeInterior: function removeInterior(modelConfiguration, callback) {
            var url = "/configuration/interior/";

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeInterior));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeInterior, xhr);
            });
        },
        changeInteriorWithoutCombination: function changeInteriorWithoutCombination(modelConfiguration, interiorCode, callback, errorCallback) {
            var url = "/configuration/interior/" + interiorCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeInterior));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeInterior, xhr, errorCallback);
            });
        },
        createConfiguration: function createConfiguration(model, callback, errorCallback) {
            var url = "/brands/" + brand + "/models/" + model.code;

            restClient.post(url, {}, {}, function (result) {
                return callback(result, actionType(NewConfiguration));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotCreateConfiguration, xhr, errorCallback);
            });
        },
        createConfigurationWithCombination: function createConfigurationWithCombination(combination, callback, errorCallback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "/brands/" + brand + "/models/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.post(url, {}, {}, function (result) {
                return callback(result, actionType(NewConfiguration));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotCreateConfiguration, xhr, errorCallback);
            });
        }
    };
}

module.exports = exports["default"];

},{}],"aida-configurator":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.exportApi = exportApi;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _domainConfiguratorConfigurator = require("./domain/configurator/configurator");

var _domainConfiguratorConfigurator2 = _interopRequireDefault(_domainConfiguratorConfigurator);

function exportApi() {
    return {
        Configurator: _domainConfiguratorConfigurator2["default"]
    };
}

var aidaConfigurator = require('aida-configurator').exportApi();
window.aidaConfigurator = aidaConfigurator;

},{"./domain/configurator/configurator":17,"aida-configurator":"aida-configurator"}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,28,29,30,31,32,33,34,35,36,37,38,39,"aida-configurator"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJTY3JpcHRzL3NyYy9kb21haW4vY29sb3Itc2VsZWN0b3IvY29sb3Itc2VsZWN0b3ItdGVtcGxhdGUuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbG9yLXNlbGVjdG9yL2NvbG9yLXNlbGVjdG9yLmpzIiwiU2NyaXB0cy9zcmMvZG9tYWluL2NvbWJpbmF0aW9uLXNlbGVjdG9yL2NvbWJpbmF0aW9uLXNlbGVjdG9yLXRlbXBsYXRlLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb21iaW5hdGlvbi1zZWxlY3Rvci9jb21iaW5hdGlvbi1zZWxlY3Rvci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL1NjcmlwdHMvY29sb3JDb25maWd1cmF0b3IuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbWJpbmF0aW9uLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9jb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbWJpbmF0aW9uc0J1aWxkZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbmZpZ3VyYXRvckFwcGxpZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbmZpZ3VyYXRvck5vdGlmaWVyLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9lcXVpcG1lbnRzU2VsZWN0b3IuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2ludGVyaW9yQ29uZmlndXJhdG9yLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9tb2RlbENhdGFsb2dTZWxlY3RhYmxlcy5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL1NjcmlwdHMvbW9kZWxDb25maWd1cmF0aW9uLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9zZWxlY3RhYmxlSXRlbS5qcyIsIlNjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvY29uZmlndXJhdG9yLXRlbXBsYXRlLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvY29uZmlndXJhdG9yLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3Ivc2NyaXB0cy9jb2xvckNvbmZpZ3VyYXRvci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29tYmluYXRpb24uanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9zY3JpcHRzL2NvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29tYmluYXRpb25zQnVpbGRlci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29uZmlndXJhdG9yQXBwbGllci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29uZmlndXJhdG9yTm90aWZpZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9zY3JpcHRzL2ludGVyaW9yQ29uZmlndXJhdG9yLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3Ivc2NyaXB0cy9tb2RlbENhdGFsb2dTZWxlY3RhYmxlcy5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvbW9kZWxDb25maWd1cmF0aW9uLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3Ivc2NyaXB0cy9zZWxlY3RhYmxlSXRlbS5qcyIsIlNjcmlwdHMvc3JjL2RvbWFpbi9lcXVpcG1lbnRzLXNlbGVjdG9yL2VxdWlwbWVudHMtc2VsZWN0b3ItdGVtcGxhdGUuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL2VxdWlwbWVudHMtc2VsZWN0b3IvZXF1aXBtZW50cy1zZWxlY3Rvci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vZXF1aXBtZW50cy1zZWxlY3Rvci9zZWxlY3RhYmxlRXF1aXBtZW50LmpzIiwiU2NyaXB0cy9zcmMvZG9tYWluL2ludGVyaW9yLXNlbGVjdG9yL2ludGVyaW9yLXNlbGVjdG9yLXRlbXBsYXRlLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2RvbWFpbi9pbnRlcmlvci1zZWxlY3Rvci9pbnRlcmlvci1zZWxlY3Rvci5qcyIsIlNjcmlwdHMvc3JjL2RvbWFpbi9tb2RlbC1zZWxlY3Rvci9tb2RlbC1zZWxlY3Rvci10ZW1wbGF0ZS5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vbW9kZWwtc2VsZWN0b3IvbW9kZWwtc2VsZWN0b3IuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL21vZGVsLXNlbGVjdG9yL3NjcmlwdHMvbW9kZWxGaWx0ZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9zcmMvZG9tYWluL21vZGVsLXNlbGVjdG9yL3NjcmlwdHMvbW9kZWxTZWxlY3Rvci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9kb21haW4vbW9kZWwtc2VsZWN0b3Ivc2NyaXB0cy9tb2RlbHNDYXRhbG9nLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvc3JjL2luZnJhc3RydWN0dXJlL2NsaWVudHMvY2F0YWxvZ0NsaWVudC5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL3NyYy9pbmZyYXN0cnVjdHVyZS9jbGllbnRzL2NvbmZpZ3VyYXRpb25DbGllbnQuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRv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QUUsVUFBVSxDQUFDLGdCQUFnQixDQUFDLENBQUM7YUFBQSxFQUMxRCxVQUFDLEdBQUcsRUFBRSxLQUFLLEVBQUUsU0FBUzt1QkFBSyxjQUFjLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxXQUFXLENBQUMseUJBQXlCLEVBQUUsR0FBRyxFQUFFLGFBQWEsQ0FBQzthQUFBLENBQzFILENBQUM7U0FDTDtLQUNKLENBQUM7Q0FDTDs7Ozs7Ozs7Ozs7Ozs7OENDdEl5QixvQ0FBb0M7Ozs7QUFFdkQsU0FBUyxTQUFTLEdBQUc7QUFDeEIsV0FBTztBQUNILG9CQUFZLDZDQUFBO0tBQ2YsQ0FBQztDQUNMOztBQUVELElBQUksZ0JBQWdCLEdBQUcsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7QUFDaEUsTUFBTSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8qIGVzbGludC1kaXNhYmxlICovIC8vIEF1dG9nZW5lcmF0ZWQgd2l0aCBHdWxwICh0YXNrOiBwYXJzZS1jb21wb25lbnRzLXRlbXBsYXRlcylcbi8vIERvbnQgY2hhbmdlIHRoaXMgZmlsZSwgY2hhbmdlIHRoZSAuaHRtbCBmaWxlIGluc3RlYWQgYW5kIHJ1biBHdWxwXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFwiXFxuPHNlYXJjaC1zZWxlY3QgcGFyYW1zPVxcXCJsYWJlbDogbGFiZWxzLmxhYmVsLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbGFiZWxzLnBsYWNlaG9sZGVyLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXFxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlblNlbGVjdGVkOiB3aGVuQ29sb3JTZWxlY3RlZFxcXCI+XFxuPC9zZWFyY2gtc2VsZWN0PlwiO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYlhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWlJc0ltWnBiR1VpT2lKRE9pOVFjbTlxWldOMGN5OVRTVTFCTWk5T1JWUXZVMkZzWlhNdlEyOXVabWxuZFhKaGRHOXlMME52Ym1acFozVnlZWFJ2Y2k1WFpXSXZVMk55YVhCMGN5OXpjbU12Wkc5dFlXbHVMMk52Ykc5eUxYTmxiR1ZqZEc5eUwyTnZiRzl5TFhObGJHVmpkRzl5TFhSbGJYQnNZWFJsTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sdGRmUT09Iiwi77u/aW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vY29sb3Itc2VsZWN0b3ItdGVtcGxhdGUnO1xyXG5cclxuYWlkYUNvcmUuQ29tcG9uZW50UmVnaXN0ZXIoJ2NvbG9yLXNlbGVjdG9yJywge1xyXG4gICAgc2NyaXB0OiAocHJvcHMsIGRlcGVuZGVuY3lQcm92aWRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0b3IgPSBkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0VHJhbnNsYXRvcigpO1xyXG4gICAgICAgIGNvbnN0IGVuYWJsZUV2ZW50cyA9IHByb3BzLmVuYWJsZUV2ZW50cyB8fCBrby5vYnNlcnZhYmxlKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IHdoZW5Db2xvclNlbGVjdGVkID0gcHJvcHMud2hlbkNvbG9yU2VsZWN0ZWQgfHwgKCgpID0+IHt9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uVmVoaWNsZS5Db2xvcicpLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uU2VsZWN0VmFsdWUnKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGFiZWxzOiBnZXRMYWJlbHMoKSxcclxuICAgICAgICAgICAgb3B0aW9uczogcHJvcHMub3B0aW9ucyxcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHByb3BzLnNlbGVjdGVkLFxyXG4gICAgICAgICAgICBlbmFibGVFdmVudHMsXHJcbiAgICAgICAgICAgIHdoZW5Db2xvclNlbGVjdGVkXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcclxufSk7IiwiLyogZXNsaW50LWRpc2FibGUgKi8gLy8gQXV0b2dlbmVyYXRlZCB3aXRoIEd1bHAgKHRhc2s6IHBhcnNlLWNvbXBvbmVudHMtdGVtcGxhdGVzKVxuLy8gRG9udCBjaGFuZ2UgdGhpcyBmaWxlLCBjaGFuZ2UgdGhlIC5odG1sIGZpbGUgaW5zdGVhZCBhbmQgcnVuIEd1bHBcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFwiXFxuPGRpdiBkYXRhLWJhY2tkcm9wPVxcXCJzdGF0aWNcXFwiIGRhdGEta2V5Ym9hcmQ9XFxcImZhbHNlXFxcIiBkYXRhLWJpbmQ9XFxcIm1vZGFsOiB7XFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLFxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiB7IG5hbWU6IGhlYWRlclRlbXBsYXRlLCBkYXRhOiB7IGhlYWRlckxhYmVsOiBsYWJlbHMubGFiZWwgfX0sXFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7IG5hbWU6ICdjb21iaW5hdGlvbnNfc2VsZWN0b3InLCBkYXRhOiB7IGNob2ljZXM6IGNob2ljZXMgfX1cXG4gICAgICAgICAgICAgICAgfVxcXCI+XFxuPC9kaXY+XFxuXFxuPHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2h0bWxcXFwiIGlkPVxcXCJoZWFkZXJfd2l0aG91dF9jbG9zZVxcXCI+XFxuICAgIDxoMyBkYXRhLWJpbmQ9XFxcInRleHQ6IGhlYWRlckxhYmVsXFxcIj48L2gzPlxcbjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgdHlwZT1cXFwidGV4dC9odG1sXFxcIiBpZD1cXFwiaGVhZGVyX3dpdGhfY2xvc2VcXFwiPlxcbiAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIiBhcmlhLWhpZGRlbj1cXFwidHJ1ZVxcXCI+w5c8L2J1dHRvbj5cXG4gICAgPGgzIGRhdGEtYmluZD1cXFwidGV4dDogaGVhZGVyTGFiZWxcXFwiPjwvaDM+XFxuPC9zY3JpcHQ+XFxuXFxuPHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2h0bWxcXFwiIGlkPVxcXCJjb21iaW5hdGlvbnNfc2VsZWN0b3JcXFwiPlxcbiAgICA8ZGl2IGRhdGEtYmluZD1cXFwiZm9yZWFjaDogY2hvaWNlc1xcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJzZWxlY3RhYmxlYm94XFxcIiBkYXRhLWJpbmQ9XFxcImNsaWNrOiBzZWxlY3RcXFwiIHN0eWxlPVxcXCJtYXJnaW46IDVweFxcXCI+XFxuICAgICAgICAgICAgPHVsIGRhdGEtYmluZD1cXFwiZm9yZWFjaDogaXRlbXNcXFwiPlxcbiAgICAgICAgICAgICAgICA8bGkgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBkZXNjcmlwdGlvblxcXCI+PC9saT5cXG4gICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgPC9kaXY+XFxuICAgIDwvZGl2Plxcbjwvc2NyaXB0PlwiO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYlhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWlJc0ltWnBiR1VpT2lKRE9pOVFjbTlxWldOMGN5OVRTVTFCTWk5T1JWUXZVMkZzWlhNdlEyOXVabWxuZFhKaGRHOXlMME52Ym1acFozVnlZWFJ2Y2k1WFpXSXZVMk55YVhCMGN5OXpjbU12Wkc5dFlXbHVMMk52YldKcGJtRjBhVzl1TFhObGJHVmpkRzl5TDJOdmJXSnBibUYwYVc5dUxYTmxiR1ZqZEc5eUxYUmxiWEJzWVhSbExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHRkZlE9PSIsIu+7v2ltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2NvbWJpbmF0aW9uLXNlbGVjdG9yLXRlbXBsYXRlJztcclxuXHJcbmFpZGFDb3JlLkNvbXBvbmVudFJlZ2lzdGVyKCdjb21iaW5hdGlvbi1zZWxlY3RvcicsIHtcclxuICAgIHNjcmlwdDoge1xyXG4gICAgICAgIGNyZWF0ZTogKHByb3BzLCBkZXBlbmRlbmN5UHJvdmlkZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogcHJvcHMudmlzaWJsZSxcclxuICAgICAgICAgICAgICAgIGlzU2VsZWN0aW9uTWFuZGF0b3J5OiBwcm9wcy5pc1NlbGVjdGlvbk1hbmRhdG9yeSB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdG9yOiBkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0VHJhbnNsYXRvcigpLFxyXG4gICAgICAgICAgICAgICAgd2hlblNlbGVjdGVkOiBwcm9wcy53aGVuU2VsZWN0ZWQgfHwgKCgpID0+IHsgfSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21iaW5hdGlvblNlbGVjdG9yU2NyaXB0KHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbWJpbmF0aW9uU2VsZWN0b3JTY3JpcHQoe3Zpc2libGUsIGlzU2VsZWN0aW9uTWFuZGF0b3J5LCBvcHRpb25zLCB0cmFuc2xhdG9yLCB3aGVuU2VsZWN0ZWR9KSB7XHJcblxyXG4gICAgbGV0IGN1cnJlbnRDb21iaW5hdGlvblNlbGVjdGVkO1xyXG4gICAgbGV0IGNob2ljZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW10pO1xyXG4gICAgbGV0IGhlYWRlclRlbXBsYXRlID0ga28ub2JzZXJ2YWJsZShnZXRIZWFkZXIoKSk7XHJcblxyXG4gICAgdmlzaWJsZS5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIGlmICh2aXNpYmxlKCkpIHtcclxuICAgICAgICAgICAgaW5pdGlhbGl6ZSgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoZW5TZWxlY3RlZChjdXJyZW50Q29tYmluYXRpb25TZWxlY3RlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWQoY29tYmluYXRpb24pIHtcclxuICAgICAgICBjdXJyZW50Q29tYmluYXRpb25TZWxlY3RlZCA9IGNvbWJpbmF0aW9uO1xyXG4gICAgICAgIHZpc2libGUoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgaGVhZGVyVGVtcGxhdGUoZ2V0SGVhZGVyKCkpO1xyXG4gICAgICAgIGN1cnJlbnRDb21iaW5hdGlvblNlbGVjdGVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGNob2ljZXMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgXy5lYWNoKG9wdGlvbnMoKSwgKG9wdGlvbikgPT4gb3B0aW9uLndoZW5TZWxlY3RlZCh3aGVuQ29tYmluYXRpb25TZWxlY3RlZCkpO1xyXG4gICAgICAgIGtvLnV0aWxzLmFycmF5UHVzaEFsbChjaG9pY2VzLCBvcHRpb25zKCkpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBnZXRIZWFkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGtvLnVud3JhcChpc1NlbGVjdGlvbk1hbmRhdG9yeSkgPyAnaGVhZGVyX3dpdGhvdXRfY2xvc2UnIDogJ2hlYWRlcl93aXRoX2Nsb3NlJztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLkNvbWJpbmF0aW9uU2VsZWN0b3IuSGVhZGVyXCIpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZpc2libGUsXHJcbiAgICAgICAgaGVhZGVyVGVtcGxhdGUsXHJcbiAgICAgICAgY2hvaWNlcyxcclxuICAgICAgICBpbml0aWFsaXplLFxyXG4gICAgICAgIGxhYmVsczogZ2V0TGFiZWxzKClcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xvckNvbmZpZ3VyYXRvcih3aGVuQ29sb3JJc1NlbGVjdGVkKSB7XHJcblxyXG4gICAgY29uc3QgY29sb3JPcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGNvbnN0IGNvbG9yU2VsZWN0ZWQgPSBrby5vYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgY29sb3JTZWxlY3RlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHdoZW5Db2xvcklzU2VsZWN0ZWQoY29sb3JTZWxlY3RlZCgpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTZWxlY3Rvcihjb2xvcnMpIHtcclxuICAgICAgICBjb2xvck9wdGlvbnMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKGNvbG9yT3B0aW9ucywgY29sb3JzKTtcclxuICAgICAgICBjb2xvclNlbGVjdGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNldE9wdGlvbnNGb3JTZWxlY3RlZEludGVyaW9yKG1vZGVsQ29uZmlndXJhdGlvbiwgY2F0YWxvZykge1xyXG4gICAgICAgIGlmICghbW9kZWxDb25maWd1cmF0aW9uLmhhc0ludGVyaW9yKCkpIHtcclxuICAgICAgICAgICAgY29sb3JPcHRpb25zKGNhdGFsb2cuY29sb3JzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xvck9wdGlvbnMoY2F0YWxvZy5jb21wYXRpYmxlQ29sb3JzV2l0aChtb2RlbENvbmZpZ3VyYXRpb24uY29uZmlndXJlZEludGVyaW9yKCkuY29kZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG9wdGlvbnM6IGNvbG9yT3B0aW9ucyxcclxuICAgICAgICBzZWxlY3RlZDogY29sb3JTZWxlY3RlZCxcclxuICAgICAgICBpbml0aWFsaXplU2VsZWN0b3IsXHJcbiAgICAgICAgc2V0T3B0aW9uc0ZvclNlbGVjdGVkSW50ZXJpb3JcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21iaW5hdGlvbihyb290LCBpdGVtcywgZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcbiAgICBsZXQgd2hlblNlbGVjdGVkQ2FsbGJhY2sgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0KCkge1xyXG4gICAgICAgIGlmIChhbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZygpKSB7XHJcbiAgICAgICAgICAgIGRpYWxvZ1B1Ymxpc2hlci5lcnJvcih7IHRpdGxlOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5BbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZy5FcnJvclwiKSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGVuU2VsZWN0ZWRDYWxsYmFjayhzZWxmKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZygpIHtcclxuICAgICAgICByZXR1cm4gXy5maW5kKGl0ZW1zLCAoeCkgPT4gIXguaXNJbkNhdGFsb2coKSkgIT0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdEl0ZW1zKCkge1xyXG4gICAgICAgIHJvb3Quc2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgXy5lYWNoKGl0ZW1zLCAoeCkgPT4geC5zZWxlY3RlZCh0cnVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlblNlbGVjdGVkKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgd2hlblNlbGVjdGVkQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZiA9IHtcclxuICAgICAgICByb290LFxyXG4gICAgICAgIGl0ZW1zLFxyXG4gICAgICAgIHNlbGVjdCxcclxuICAgICAgICB3aGVuU2VsZWN0ZWQsXHJcbiAgICAgICAgc2VsZWN0SXRlbXNcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbn0iLCJpbXBvcnQgQ29tYmluYXRpb25zQnVpbGRlciBmcm9tICcuL2NvbWJpbmF0aW9uc0J1aWxkZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcil7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbWJpbmF0aW9uc0J1aWxkZXIgPSBDb21iaW5hdGlvbnNCdWlsZGVyKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICBjb25zdCBjb21iaW5hdGlvbk9wdGlvbnMgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBpc0NvbWJpbmF0aW9uTWFuZGF0b3J5ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcbiAgICBsZXQgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWRDYWxsYmFjayA9ICgpID0+IHsgfTtcclxuICAgIGNvbnN0IGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVG9TaG93QXNNYW5kYXRvcnkoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGlzTWFuZGF0b3J5ID0gdHJ1ZTtcclxuICAgICAgICB1cGRhdGUoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGlzTWFuZGF0b3J5LCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVG9TaG93KGl0ZW1Db2RlLCBjb21iaW5hdGlvbnMsIHNlbGVjdGFibGVDYXRhbG9nLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBpc01hbmRhdG9yeSA9IGZhbHNlO1xyXG4gICAgICAgIHVwZGF0ZShpdGVtQ29kZSwgY29tYmluYXRpb25zLCBzZWxlY3RhYmxlQ2F0YWxvZywgaXNNYW5kYXRvcnksIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGUoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGlzTWFuZGF0b3J5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBjb21iaW5hdGlvbnNGb3JUaGlzSXRlbSA9IGNvbWJpbmF0aW9uc0J1aWxkZXIuYnVpbGRGb3IoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGNvbWJpbmF0aW9uT3B0aW9ucyhjb21iaW5hdGlvbnNGb3JUaGlzSXRlbSk7XHJcbiAgICAgICAgaXNDb21iaW5hdGlvbk1hbmRhdG9yeShpc01hbmRhdG9yeSk7XHJcbiAgICAgICAgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXBkYXRlVG9TaG93LFxyXG4gICAgICAgIHVwZGF0ZVRvU2hvd0FzTWFuZGF0b3J5LFxyXG4gICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlLFxyXG4gICAgICAgIGlzQ29tYmluYXRpb25NYW5kYXRvcnksXHJcbiAgICAgICAgY29tYmluYXRpb25PcHRpb25zLFxyXG4gICAgICAgIHdoZW5TZWxlY3RlZDogKHNlbGVjdGVkKSA9PiB3aGVuQ29tYmluYXRpb25TZWxlY3RlZENhbGxiYWNrKHNlbGVjdGVkKVxyXG4gICAgfTtcclxufSIsImltcG9ydCBDb21iaW5hdGlvbiBmcm9tICcuL2NvbWJpbmF0aW9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbWJpbmF0aW9uc0J1aWxkZXIoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGJ1aWxkRm9yKGl0ZW1Db2RlLCBjb21iaW5hdGlvbnMsIGNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgcm9vdE9mQ29tYmluYXRpb25FcXVpcG1lbnQgPSBjYXRhbG9nLmZpbmRJdGVtKGl0ZW1Db2RlKTtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY29tYmluYXRpb25zLCAoY29tYmluYXRpb24pID0+IGJ1aWxkQ29tYmluYXRpb25Gb3Iocm9vdE9mQ29tYmluYXRpb25FcXVpcG1lbnQsIGNvbWJpbmF0aW9uLCBjYXRhbG9nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpbGRDb21iaW5hdGlvbkZvcihyb290SXRlbSwgY29tYmluYXRpb24sIGNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgY29tYmluYXRpb25Db2RlcyA9IF8ubWFwKGNvbWJpbmF0aW9uLCAoaXRlbSkgPT4gaXRlbS5jb2RlKTtcclxuICAgICAgICBsZXQgY2F0YWxvZ0l0ZW1zID0gY2F0YWxvZy5maW5kSXRlbXMoY29tYmluYXRpb25Db2Rlcyk7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uKHJvb3RJdGVtLCBjYXRhbG9nSXRlbXMsIGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBidWlsZEZvcixcclxuICAgICAgICBidWlsZENvbWJpbmF0aW9uRm9yXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uZmlndXJhdG9yQXBwbGllcihjb2xvckNvbmZpZ3VyYXRvciwgaW50ZXJpb3JDb25maWd1cmF0b3IsIGNvbmZpZ3VyYXRvck5vdGlmaWVyLCBjb21iaW5hdGlvbkJ1aWxkZXIsIHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZCkge1xyXG5cclxuICAgIGNvbnN0IEVtcHR5SW50ZXJpb3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYXBwbHlDb25maWd1cmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgbmV3QXV0b2ZpeGVzID0gXy5maWx0ZXIobmV3Q29uZmlndXJhdGlvbi5hdXRvRml4ZXMsICh4KSA9PiB4LmlzTmV3QXV0b2ZpeCk7XHJcbiAgICAgICAgaWYgKG5ld0F1dG9maXhlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRvck5vdGlmaWVyLm5vdGlmeUF1dG9maXhlc0NvbmZpcm1hdGlvbihcclxuICAgICAgICAgICAgICAgIG5ld0F1dG9maXhlcyxcclxuICAgICAgICAgICAgICAgICgpID0+IGNvbnRpbnVlQXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBhY3Rpb25UeXBlLCBzZWxlY3RhYmxlQ2F0YWxvZylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250aW51ZUFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb250aW51ZUFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBjb25maWd1cmF0b3JOb3RpZmllci5ub3RpZnlDaGFuZ2VzSW5Db25maWd1cmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSk7XHJcbiAgICAgICAgY29tbWl0QXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tbWl0QXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGNsZWFyQWxsU2VsZWN0aW9ucyhtb2RlbENvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuXHJcbiAgICAgICAgbW9kZWxDb25maWd1cmF0aW9uLnNldEF1dG9maXhlcyhuZXdDb25maWd1cmF0aW9uLmF1dG9GaXhlcyk7XHJcblxyXG4gICAgICAgIGFwcGx5TW9kZWxDb21wdWxzb3J5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGFwcGx5RXF1aXBtZW50c0FuZFBhY2thZ2VzKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGFwcGx5Q29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgYXBwbHlJbnRlcmlvcihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICAvL01ha2VTZWxlY3RvcnNSZWFkT25seUlmTmVjZXNzYXJ5KCk7XHJcbiAgICAgICAgd2hlbkNvbmZpZ3VyYXRpb25DaGFuZ2VkKG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYXJBbGxTZWxlY3Rpb25zKG1vZGVsQ29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uY2xlYW5TZWxlY3Rpb25zKCk7XHJcbiAgICAgICAgc2VsZWN0YWJsZUNhdGFsb2cudW5zZWxlY3RBbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseU1vZGVsQ29tcHVsc29yeShtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFuZXdDb25maWd1cmF0aW9uLm1vZGVsQ29tcHVsc29yeSB8fCAhbmV3Q29uZmlndXJhdGlvbi5tb2RlbENvbXB1bHNvcnkuY29tYmluZWRJdGVtcykgcmV0dXJuO1xyXG5cclxuICAgICAgICBfLmVhY2gobmV3Q29uZmlndXJhdGlvbi5tb2RlbENvbXB1bHNvcnkuY29tYmluZWRJdGVtcywgKHgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBzZWxlY3RhYmxlQ2F0YWxvZy5maW5kSXRlbSh4LmNvZGUpO1xyXG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uYWRkQ29tcHVsc29yeShpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseUVxdWlwbWVudHNBbmRQYWNrYWdlcyhtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgbGV0IGVxdWlwbWVudHNBbmRQYWNrYWdlcyA9IF8obmV3Q29uZmlndXJhdGlvbi5lcXVpcG1lbnRzKS5jb25jYXQobmV3Q29uZmlndXJhdGlvbi5wYWNrYWdlcykudmFsdWUoKTtcclxuICAgICAgICBfLmVhY2goZXF1aXBtZW50c0FuZFBhY2thZ2VzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHNlbGVjdGFibGVDYXRhbG9nLmZpbmRJdGVtKHguY29kZSk7XHJcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5Q29tYmluYXRpb24oaXRlbSwgeC5jb21iaW5hdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uYWRkRXF1aXBtZW50KGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5Q29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGxldCBjb2xvclNlbGVjdGFibGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKF8uaXNPYmplY3QobmV3Q29uZmlndXJhdGlvbi5jb2xvcikpIHtcclxuICAgICAgICAgICAgY29sb3JTZWxlY3RhYmxlID0gc2VsZWN0YWJsZUNhdGFsb2cuZmluZEl0ZW0obmV3Q29uZmlndXJhdGlvbi5jb2xvci5jb2RlKTtcclxuICAgICAgICAgICAgYXBwbHlDb21iaW5hdGlvbihjb2xvclNlbGVjdGFibGUsIG5ld0NvbmZpZ3VyYXRpb24uY29sb3IuY29tYmluYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29sb3JTZWxlY3RlZChjb2xvclNlbGVjdGFibGUpO1xyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5zZXRDb2xvcihjb2xvclNlbGVjdGFibGUpO1xyXG4gICAgICAgIGludGVyaW9yQ29uZmlndXJhdG9yLnNldE9wdGlvbnNGb3JTZWxlY3RlZENvbG9yKG1vZGVsQ29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5Q29tYmluYXRpb24oaXRlbSwgY29tYmluYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKGNvbWJpbmF0aW9uICYmIGNvbWJpbmF0aW9uLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbWJpbmF0aW9uVmlld01vZGVsID0gY29tYmluYXRpb25CdWlsZGVyLmJ1aWxkQ29tYmluYXRpb25Gb3IoaXRlbSwgY29tYmluYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICAgICAgaXRlbS5zZXRDb21iaW5hdGlvbihjb21iaW5hdGlvblZpZXdNb2RlbCk7XHJcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uVmlld01vZGVsLnNlbGVjdEl0ZW1zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5SW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGxldCBpbnRlcmlvclNlbGVjdGFibGUgPSBFbXB0eUludGVyaW9yO1xyXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IpKSB7XHJcbiAgICAgICAgICAgIGludGVyaW9yU2VsZWN0YWJsZSA9IHNlbGVjdGFibGVDYXRhbG9nLmZpbmRJdGVtKG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IuY29kZSk7XHJcbiAgICAgICAgICAgIGFwcGx5Q29tYmluYXRpb24oaW50ZXJpb3JTZWxlY3RhYmxlLCBuZXdDb25maWd1cmF0aW9uLmludGVyaW9yLmNvbWJpbmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaW50ZXJpb3JTZWxlY3Rvci5zZWxlY3RlZFdpdGhvdXRFdmVudHMoaW50ZXJpb3JTZWxlY3RhYmxlKTtcclxuICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uc2V0SW50ZXJpb3IoaW50ZXJpb3JTZWxlY3RhYmxlKTtcclxuICAgICAgICBjb2xvckNvbmZpZ3VyYXRvci5zZXRPcHRpb25zRm9yU2VsZWN0ZWRJbnRlcmlvcihtb2RlbENvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcGx5Q29uZmlndXJhdGlvbixcclxuICAgICAgICBjb250aW51ZUFwcGx5XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uZmlndXJhdG9yTm90aWZpZXIoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gbm90aWZ5Q2hhbmdlc0luQ29uZmlndXJhdGlvbihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUpIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTtcclxuICAgICAgICBpZiAobW9kZWxDb25maWd1cmF0aW9uLmNvbG9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSAmJiAhYWN0aW9uVHlwZS5Jc0NoYW5nZUNvbG9yKCkpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSA9IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdGlmeUNoYW5nZUNvbG9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW9kZWxDb25maWd1cmF0aW9uLmludGVyaW9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSAmJiAhYWN0aW9uVHlwZS5Jc0NoYW5nZUludGVyaW9yKCkpIHtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UpIG1lc3NhZ2UgKz0gXCIgXCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5Ob3RpZnlDaGFuZ2VJbnRlcmlvckFuZENvbG9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgIGVsc2UgbWVzc2FnZSA9IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdGlmeUNoYW5nZUludGVyaW9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBkaWFsb2dQdWJsaXNoZXIud2FybmluZyh7IHRpdGxlOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIlNoYXJlZERvbWFpbi5XYXJuaW5nLlRleHRcIiksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5vdGlmeUF1dG9maXhlc0NvbmZpcm1hdGlvbihuZXdBdXRvZml4ZXMsIHdoZW5Db25maXJtZWQpIHtcclxuICAgICAgICBsZXQgZml4ZXNBc1N0cmluZyA9IF8ucmVkdWNlKG5ld0F1dG9maXhlcywgKGFjYywgZml4KSA9PiBhY2MgKyBcIi0gXCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5BcHBseUNvbmZpZ3VyYXRpb24uTWVzc2FnZVwiLCBbZml4LmFkZGVkSXRlbSwgZml4LnJlbW92ZWRJdGVtXSkgKyAnPGJyPicsIFwiXCIpO1xyXG4gICAgICAgIGZpeGVzQXNTdHJpbmcgKz0gXCI8YnI+XCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5Pa1RvQ29udGludWUuTWVzc2FnZVwiKTtcclxuICAgICAgICBkaWFsb2dQdWJsaXNoZXIuY29uZmlybWF0aW9uKHtcclxuICAgICAgICAgICAgdGl0bGU6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLkFwcGx5Q29uZmlndXJhdGlvbkNvbmZpcm1hdGlvbi5NZXNzYWdlXCIpLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBmaXhlc0FzU3RyaW5nLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogd2hlbkNvbmZpcm1lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm90aWZ5Q2hhbmdlc0luQ29uZmlndXJhdGlvbixcclxuICAgICAgICBub3RpZnlBdXRvZml4ZXNDb25maXJtYXRpb25cclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFcXVpcG1lbnRzU2VsZWN0b3IoKSB7XHJcblxyXG4gICAgbGV0IGNhdGVnb3JpZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIGxldCBzZWFyY2ggPSBFcXVpcG1lbnRzU2VhcmNoKCk7XHJcbiAgICBsZXQgYWxsRXF1aXBtZW50cyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEVxdWlwbWVudHMoZXF1aXBtZW50cywgcGFja2FnZXMpIHtcclxuICAgICAgICBsZXQgYWxsU2VsZWN0YWJsZUl0ZW1zID0gXyhwYWNrYWdlcykuY29uY2F0KGVxdWlwbWVudHMpLnZhbHVlKCk7XHJcbiAgICAgICAgY2xlYW4oYWxsU2VsZWN0YWJsZUl0ZW1zKTtcclxuICAgICAgICBncm91cEVxdWlwbWVudHNCeUNhdGVnb3J5KGFsbFNlbGVjdGFibGVJdGVtcyk7XHJcbiAgICAgICAgaW5pdFNlYXJjaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKGVxdWlwbWVudHMpIHtcclxuICAgICAgICBhbGxFcXVpcG1lbnRzID0gZXF1aXBtZW50cztcclxuICAgICAgICBjYXRlZ29yaWVzLnJlbW92ZUFsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdyb3VwRXF1aXBtZW50c0J5Q2F0ZWdvcnkoZXF1aXBtZW50cykge1xyXG4gICAgICAgIGxldCBlcXVpcG1lbnRzR3JvdXBlZEJ5Q2F0ZWdvcnkgPSBfLmdyb3VwQnkoZXF1aXBtZW50cywgXCJjYXRlZ29yeVwiKTtcclxuICAgICAgICBfLmVhY2goZXF1aXBtZW50c0dyb3VwZWRCeUNhdGVnb3J5LCBmdW5jdGlvbihlcXVpcG1lbnRzLCBjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBjYXRlZ29yaWVzLnB1c2goRXF1aXBtZW50Q2F0ZWdvcnkoZXF1aXBtZW50cywgY2F0ZWdvcnkpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0U2VhcmNoKCkge1xyXG4gICAgICAgIHNlYXJjaC5zZXRFcXVpcG1lbnRzKGFsbEVxdWlwbWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuc2VsZWN0QWxsRXF1aXBtZW50cygpIHtcclxuICAgICAgICBfLmVhY2goYWxsRXF1aXBtZW50cywgKHgpID0+IHguc2VsZWN0ZWQoZmFsc2UpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNhdGVnb3JpZXMsXHJcbiAgICAgICAgc2V0RXF1aXBtZW50cyxcclxuICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgdW5zZWxlY3RBbGxFcXVpcG1lbnRzOiB1bnNlbGVjdEFsbEVxdWlwbWVudHNcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVxdWlwbWVudENhdGVnb3J5KGVxdWlwbWVudHMsIG5hbWUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBpZDogXy51bmlxdWVJZCgnY2F0ZWdvcnlfJyksXHJcbiAgICAgICAgZXF1aXBtZW50c1xyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gRXF1aXBtZW50c1NlYXJjaCgpIHtcclxuICAgIGxldCB0ZXh0VG9TZWFyY2ggPSBrby5vYnNlcnZhYmxlKCcnKTtcclxuICAgIGxldCByZXN1bHRzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEVxdWlwbWVudHMoZXF1aXBtZW50cykge1xyXG4gICAgICAgIHJlc3VsdHMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICBfLmVhY2goZXF1aXBtZW50cywgZnVuY3Rpb24oZXF1aXBtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goZXF1aXBtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWFyY2goKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWFyY2goKSB7XHJcbiAgICAgICAgcmVzdWx0cy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBsZXQgZmlsdGVyZWRSZXN1bHRzID0gXy5maWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY29udGFpbnModGV4dFRvU2VhcmNoKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGtvLnV0aWxzLmFycmF5UHVzaEFsbChyZXN1bHRzLCBmaWx0ZXJlZFJlc3VsdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdWx0cyxcclxuICAgICAgICB0ZXh0VG9TZWFyY2gsXHJcbiAgICAgICAgc2VhcmNoLFxyXG4gICAgICAgIHNldEVxdWlwbWVudHNcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnRlcmlvckNvbmZpZ3VyYXRvcih3aGVuSW50ZXJpb3JJc1NlbGVjdGVkKSB7XHJcblxyXG4gICAgY29uc3QgaW50ZXJpb3JPcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGNvbnN0IGludGVyaW9yU2VsZWN0ZWQgPSBrby5vYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgaW50ZXJpb3JTZWxlY3RlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHdoZW5JbnRlcmlvcklzU2VsZWN0ZWQoaW50ZXJpb3JTZWxlY3RlZCgpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTZWxlY3RvcihpbnRlcmlvcnMpIHtcclxuICAgICAgICBpbnRlcmlvck9wdGlvbnMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKGludGVyaW9yT3B0aW9ucywgaW50ZXJpb3JzKTtcclxuICAgICAgICBpbnRlcmlvclNlbGVjdGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T3B0aW9uc0ZvclNlbGVjdGVkQ29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBjYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFtb2RlbENvbmZpZ3VyYXRpb24uaGFzQ29sb3IoKSkge1xyXG4gICAgICAgICAgICBpbnRlcmlvck9wdGlvbnMoY2F0YWxvZy5pbnRlcmlvcnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludGVyaW9yT3B0aW9ucyhjYXRhbG9nLmNvbXBhdGlibGVJbnRlcmlvcnNXaXRoKG1vZGVsQ29uZmlndXJhdGlvbi5jb25maWd1cmVkQ29sb3IoKS5jb2RlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb3B0aW9uczogaW50ZXJpb3JPcHRpb25zLFxyXG4gICAgICAgIHNlbGVjdGVkOiBpbnRlcmlvclNlbGVjdGVkLFxyXG4gICAgICAgIGluaXRpYWxpemVTZWxlY3RvcixcclxuICAgICAgICBzZXRPcHRpb25zRm9yU2VsZWN0ZWRDb2xvclxyXG4gICAgfTtcclxufSIsImltcG9ydCBTZWxlY3RhYmxlSXRlbSBmcm9tIFwiLi9zZWxlY3RhYmxlSXRlbVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxDYXRhbG9nU2VsZWN0YWJsZXMobW9kZWxDb2RlLCBtb2RlbERlc2NyaXB0aW9uLCBjYXRhbG9nSnNvbikge1xyXG5cclxuICAgIGxldCBlcXVpcG1lbnRzID0gY3JlYXRlU2VsZWN0YWJsZUVxdWlwbWVudHNGcm9tKGNhdGFsb2dKc29uKTtcclxuICAgIGxldCBpbnRlcmlvcnMgPSBjcmVhdGVTZWxlY3RhYmxlSW50ZXJpb3JzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgY29sb3JzID0gY3JlYXRlU2VsZWN0YWJsZUNvbG9yc0Zyb20oY2F0YWxvZ0pzb24pO1xyXG4gICAgbGV0IHBhY2thZ2VzID0gY3JlYXRlU2VsZWN0YWJsZVBhY2thZ2VzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgbW9kZWwgPSBTZWxlY3RhYmxlSXRlbSh7XHJcbiAgICAgICAgY29kZTogbW9kZWxDb2RlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtb2RlbERlc2NyaXB0aW9uLFxyXG4gICAgICAgIGhhc0ZvcmNlZENvbWJpbmF0aW9uczogY2F0YWxvZ0pzb24ubW9kZWxDb21wdWxzb3J5Q29tYmluYXRpb25DaG9pY2VzICYmIGNhdGFsb2dKc29uLm1vZGVsQ29tcHVsc29yeUNvbWJpbmF0aW9uQ2hvaWNlcy5sZW5ndGggPiAwLFxyXG4gICAgICAgIGNvbXB1bHNvcnlDb21iaW5hdGlvbnM6IGNhdGFsb2dKc29uLm1vZGVsQ29tcHVsc29yeUNvbWJpbmF0aW9uQ2hvaWNlc1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGFsbEl0ZW1zID0gXyhtb2RlbCkuY29uY2F0KGludGVyaW9ycywgY29sb3JzLCBlcXVpcG1lbnRzLCBwYWNrYWdlcykudmFsdWUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRSZWxhdGlvbnNoaXAoY29sb3JDb2RlLCBpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICBpZiAoXy5maW5kKGNhdGFsb2dKc29uLnJlbGF0aW9uc2hpcCwgeD0+IHguY29sb3JDb2RlID09IGNvbG9yQ29kZSAmJiB4LmludGVyaW9yQ29kZSA9PSBpbnRlcmlvckNvZGUpKSByZXR1cm47XHJcbiAgICAgICAgY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLnB1c2goe2NvbG9yQ29kZSxpbnRlcmlvckNvZGV9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDb2xvcihjb2xvclRvQWRkKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBTZWxlY3RhYmxlSXRlbSh7XHJcbiAgICAgICAgICAgIGNvZGU6IGNvbG9yVG9BZGQuY29kZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGNvbG9yVG9BZGQuZGVzY3JpcHRpb259XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb2xvcnMucHVzaChjb2xvcik7XHJcbiAgICAgICAgYWxsSXRlbXMucHVzaChjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkSW50ZXJpb3IoaW50ZXJpb3JUb0FkZCkge1xyXG4gICAgICAgIGNvbnN0IGludGVyaW9yID0gU2VsZWN0YWJsZUl0ZW0oe1xyXG4gICAgICAgICAgICBjb2RlOiBpbnRlcmlvclRvQWRkLmNvZGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpbnRlcmlvclRvQWRkLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaW50ZXJpb3JzLnB1c2goaW50ZXJpb3IpO1xyXG4gICAgICAgIGFsbEl0ZW1zLnB1c2goaW50ZXJpb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKCkge1xyXG4gICAgICAgIGVxdWlwbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICBpbnRlcmlvcnMubGVuZ3RoID0gMDtcclxuICAgICAgICBjb2xvcnMubGVuZ3RoID0gMDtcclxuICAgICAgICBwYWNrYWdlcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGFsbEl0ZW1zLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGFibGVQYWNrYWdlc0Zyb20oY2F0YWxvZ0pzb24pIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY2F0YWxvZ0pzb24ucGFja2FnZXMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4LCB0cnVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0YWJsZUVxdWlwbWVudHNGcm9tKGNhdGFsb2dKc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNhdGFsb2dKc29uLmVxdWlwbWVudHMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4LCBmYWxzZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGFibGVJbnRlcmlvcnNGcm9tKGNhdGFsb2dKc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNhdGFsb2dKc29uLmludGVyaW9ycywgKHgpID0+IFNlbGVjdGFibGVJdGVtKHgpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTZWxlY3RhYmxlQ29sb3JzRnJvbShjYXRhbG9nSnNvbikge1xyXG4gICAgICAgIHJldHVybiBfLm1hcChjYXRhbG9nSnNvbi5jb2xvcnMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZEl0ZW1zKGNvZGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNvZGVzLCAoY29kZSkgPT4gZmluZEl0ZW0oY29kZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRJdGVtKGNvZGUpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IF8uZmluZChhbGxJdGVtcywgKHgpID0+IHguY29kZSA9PSBjb2RlKTtcclxuICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChpdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRW1wdHlTZWxlY3RhYmxlSXRlbShjb2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRW1wdHlTZWxlY3RhYmxlSXRlbShjb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdGFibGVJdGVtKHsgZXNtRXF1aXBtZW50OiBmYWxzZSwgY29kZTogY29kZSwgZGVzY3JpcHRpb246ICcnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuc2VsZWN0QWxsKCkge1xyXG4gICAgICAgIF8uZWFjaChhbGxJdGVtcywgKHgpID0+IHguc2VsZWN0ZWQoZmFsc2UpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wYXRpYmxlQ29sb3JzV2l0aChpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICBsZXQgaW50ZXJpb3JSZWxhdGlvbnNoaXBzID0gXy5maWx0ZXIoY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLCAoeCkgPT4geC5pbnRlcmlvckNvZGUgPT0gaW50ZXJpb3JDb2RlKTtcclxuICAgICAgICByZXR1cm4gXy5tYXAoaW50ZXJpb3JSZWxhdGlvbnNoaXBzLCAoeCkgPT4gZmluZENvbG9yKHguY29sb3JDb2RlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZENvbG9yKGNvbG9yQ29kZSkge1xyXG4gICAgICAgIHJldHVybiBfLmZpbmQoY29sb3JzLCAoeCkgPT4geC5jb2RlID09IGNvbG9yQ29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGF0aWJsZUludGVyaW9yc1dpdGgoY29sb3JDb2RlKSB7XHJcbiAgICAgICAgbGV0IGNvbG9yUmVsYXRpb25zaGlwcyA9IF8uZmlsdGVyKGNhdGFsb2dKc29uLnJlbGF0aW9uc2hpcCwgKHgpID0+IHguY29sb3JDb2RlID09IGNvbG9yQ29kZSk7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNvbG9yUmVsYXRpb25zaGlwcywgKHgpID0+IGZpbmRJbnRlcmlvcih4LmludGVyaW9yQ29kZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRJbnRlcmlvcihpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICByZXR1cm4gXy5maW5kKGludGVyaW9ycywgKHgpID0+IHguY29kZSA9PSBpbnRlcmlvckNvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZXF1aXBtZW50cyxcclxuICAgICAgICBwYWNrYWdlcyxcclxuICAgICAgICBjb2xvcnMsXHJcbiAgICAgICAgaW50ZXJpb3JzLFxyXG4gICAgICAgIGZpbmRJdGVtLFxyXG4gICAgICAgIGZpbmRJdGVtcyxcclxuICAgICAgICB1bnNlbGVjdEFsbCxcclxuICAgICAgICBjb21wYXRpYmxlQ29sb3JzV2l0aCxcclxuICAgICAgICBjb21wYXRpYmxlSW50ZXJpb3JzV2l0aCxcclxuICAgICAgICBnZXRNb2RlbCxcclxuICAgICAgICBjbGVhbixcclxuICAgICAgICBhZGRDb2xvcixcclxuICAgICAgICBhZGRJbnRlcmlvcixcclxuICAgICAgICBhZGRSZWxhdGlvbnNoaXBcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbENvbmZpZ3VyYXRpb24oKSB7XHJcblxyXG4gICAgY29uc3QgbW9kZWxJZCA9IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGNvbnN0IG1vZGVsRGVzY3JpcHRpb24gPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBlcXVpcG1lbnRzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XHJcbiAgICBjb25zdCBjb25maWd1cmVkQ29sb3IgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBjb25maWd1cmVkSW50ZXJpb3IgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBtb2RlbENvbXB1bHNvcnkgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIGNvbnN0IHNob3dPcmRlckNyZWF0aW9uID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcbiAgICBjb25zdCB1bmFibGVUb1JlYnVpbGRJdGVtcyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG4gICAgbGV0IG1vZGVsQXV0b2ZpeGVzOyAgXHJcbiAgICBsZXQgbW9kZWxDb2RlO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhZGRVbmFibGVUb1JlYnVpbGRJdGVtKGl0ZW0pIHtcclxuICAgICAgICB1bmFibGVUb1JlYnVpbGRJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVVuYWJsZVRvUmVidWlsZEl0ZW0oaXRlbSkge1xyXG4gICAgICAgIHVuYWJsZVRvUmVidWlsZEl0ZW1zLnJlbW92ZShpdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRBdXRvZml4ZXMoYXV0b2ZpeGVzKSB7XHJcbiAgICAgICAgbW9kZWxBdXRvZml4ZXMgPSBhdXRvZml4ZXM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGNhblNhdmVPcmRlcigpIHtcclxuICAgICAgICByZXR1cm4gaGFzTW9kZWwoKSAmJiBoYXNDb2xvcigpICYmIGhhc0ludGVyaW9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkRXF1aXBtZW50KGVxdWlwbWVudCkge1xyXG4gICAgICAgIGVxdWlwbWVudHMucmVtb3ZlKGVxdWlwbWVudCk7XHJcbiAgICAgICAgZXF1aXBtZW50cy5wdXNoKGVxdWlwbWVudCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFkZENvbXB1bHNvcnkoY29tYmluZWRJdGVtKSB7XHJcbiAgICAgICAgbW9kZWxDb21wdWxzb3J5LnB1c2goY29tYmluZWRJdGVtKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2V0TW9kZWwobW9kZWwpIHtcclxuICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgIG1vZGVsQ29kZSA9IG1vZGVsLmtleS5jb2RlO1xyXG4gICAgICAgIG1vZGVsSWQobW9kZWwua2V5LmlkKTtcclxuICAgICAgICBtb2RlbERlc2NyaXB0aW9uKG1vZGVsLmRlc2NyaXB0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc05vdFRoZVNhbWVNb2RlbChtb2RlbCkge1xyXG4gICAgICAgIHJldHVybiBtb2RlbC5rZXkuY29kZSAhPSBtb2RlbENvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYW4oKSB7XHJcbiAgICAgICAgbW9kZWxJZCh1bmRlZmluZWQpO1xyXG4gICAgICAgIG1vZGVsRGVzY3JpcHRpb24odW5kZWZpbmVkKTtcclxuICAgICAgICBjbGVhblNlbGVjdGlvbnMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY2xlYW5TZWxlY3Rpb25zKCkge1xyXG4gICAgICAgIHNob3dPcmRlckNyZWF0aW9uKGZhbHNlKTtcclxuICAgICAgICBlcXVpcG1lbnRzLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIG1vZGVsQ29tcHVsc29yeS5yZW1vdmVBbGwoKTtcclxuICAgICAgICBjb25maWd1cmVkQ29sb3IodW5kZWZpbmVkKTtcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRDb2xvcihjb2xvcikge1xyXG4gICAgICAgIGNvbmZpZ3VyZWRDb2xvcihjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0SW50ZXJpb3IoaW50ZXJpb3IpIHtcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IoaW50ZXJpb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvSnNvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtb2RlbEtleTogeyBpZDogbW9kZWxJZCgpLCBjb2RlOiAnJywgZGVzY3JpcHRpb246IG1vZGVsRGVzY3JpcHRpb24oKSB9LFxyXG4gICAgICAgICAgICBjb2xvcjogY29uZmlndXJlZENvbG9yKCkgIT0gdW5kZWZpbmVkID8gY29uZmlndXJlZENvbG9yKCkudG9Kc29uKCkgOiB7fSxcclxuICAgICAgICAgICAgaW50ZXJpb3I6IGNvbmZpZ3VyZWRJbnRlcmlvcigpICE9IHVuZGVmaW5lZCA/IGNvbmZpZ3VyZWRJbnRlcmlvcigpLnRvSnNvbigpIDoge30sXHJcbiAgICAgICAgICAgIGVxdWlwbWVudHM6IF8ubWFwKGVxdWlwbWVudHNUaGF0QXJlTm90UGFja2FnZXMoKSwgKHgpID0+IHgudG9Kc29uKCkpLFxyXG4gICAgICAgICAgICBwYWNrYWdlczogXy5tYXAoZXF1aXBtZW50c1RoYXRBcmVQYWNrYWdlcygpLCAoeCk9PngudG9Kc29uKCkpLFxyXG4gICAgICAgICAgICBtb2RlbENvbXB1bHNvcnk6IHtjb21iaW5lZEl0ZW1zOiBfLm1hcChtb2RlbENvbXB1bHNvcnkoKSwgKHgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7Y29kZTogeC5jb2RlLCB0eXBlOiB4LnR5cGV9O1xyXG4gICAgICAgICAgICB9KX0sXHJcbiAgICAgICAgICAgIGF1dG9GaXhlczogbW9kZWxBdXRvZml4ZXNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBlcXVpcG1lbnRzVGhhdEFyZVBhY2thZ2VzKCkge1xyXG4gICAgICAgIHJldHVybiBfLnNlbGVjdChlcXVpcG1lbnRzKCksICh4KT0+eC5pc1BhY2thZ2UoKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGVxdWlwbWVudHNUaGF0QXJlTm90UGFja2FnZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uc2VsZWN0KGVxdWlwbWVudHMoKSwgKHgpPT4heC5pc1BhY2thZ2UoKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGhhc0ZvcmNlZENvbG9yKCkge1xyXG4gICAgICAgIGlmIChjb25maWd1cmVkQ29sb3IoKSA9PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gXy5hbnkoZXF1aXBtZW50cygpLCAoeCkgPT4geC5jb250YWluc0ZvcmNlZEl0ZW0oY29uZmlndXJlZENvbG9yKCkuY29kZSkpIHx8IFxyXG4gICAgICAgICAgICAgICAgKGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmIGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShjb25maWd1cmVkQ29sb3IoKS5jb2RlKSkgfHxcclxuICAgICAgICAgICAgICAgIF8uYW55KG1vZGVsQ29tcHVsc29yeSgpLCAoeCkgPT4geC5jb2RlID09IGNvbmZpZ3VyZWRDb2xvcigpLmNvZGUpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBoYXNGb3JjZWRJbnRlcmlvcigpIHtcclxuICAgICAgICBpZiAoY29uZmlndXJlZEludGVyaW9yKCkgPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIF8uYW55KGVxdWlwbWVudHMoKSwgKHgpID0+IHguY29udGFpbnNGb3JjZWRJdGVtKGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvZGUpKSB8fCBcclxuICAgICAgICAgICAgICAgIChjb25maWd1cmVkQ29sb3IoKSAmJiBjb25maWd1cmVkQ29sb3IoKS5jb250YWluc0ZvcmNlZEl0ZW0oY29uZmlndXJlZEludGVyaW9yKCkuY29kZSkpIHx8XHJcbiAgICAgICAgICAgICAgICBfLmFueShtb2RlbENvbXB1bHNvcnkoKSwgKHgpID0+IHguY29kZSA9PSBjb25maWd1cmVkSW50ZXJpb3IoKS5jb2RlKTtcclxuICAgIH0gICAgICAgIFxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc0NvbG9yKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChjb25maWd1cmVkQ29sb3IoKSk7ICAgICAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGhhc0ludGVyaW9yKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChjb25maWd1cmVkSW50ZXJpb3IoKSk7ICAgICAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGhhc01vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChtb2RlbElkKCkpOyAgXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzRXF1aXBtZW50KGVxdWlwbWVudENvZGUpe1xyXG4gICAgICAgIHJldHVybiBfLmFueShlcXVpcG1lbnRzKCksIHg9PiB4LmNvZGUgPT0gZXF1aXBtZW50Q29kZSkgIHx8XHJcbiAgICAgICAgICAgICAgIF8uYW55KG1vZGVsQ29tcHVsc29yeSgpLCB4ID0+IHguY29kZSA9PSBlcXVpcG1lbnRDb2RlKSB8fCBcclxuICAgICAgICAgICAgICAoY29uZmlndXJlZENvbG9yKCkgJiYgY29uZmlndXJlZENvbG9yKCkuY29udGFpbnNGb3JjZWRJdGVtKGVxdWlwbWVudENvZGUpKSB8fCAgXHJcbiAgICAgICAgICAgICAgKGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmIGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShlcXVpcG1lbnRDb2RlKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGNvbG9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyZWRDb2xvcigpICYmIFxyXG4gICAgICAgICAgICBuZXdDb25maWd1cmF0aW9uLmNvbG9yICYmXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyZWRDb2xvcigpLmNvZGUgIT0gbmV3Q29uZmlndXJhdGlvbi5jb2xvci5jb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGludGVyaW9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmXHJcbiAgICAgICAgICAgIG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IgJiZcclxuICAgICAgICAgICAgY29uZmlndXJlZEludGVyaW9yKCkuY29kZSAhPSBuZXdDb25maWd1cmF0aW9uLmludGVyaW9yLmNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBtb2RlbElkLFxyXG4gICAgICAgIG1vZGVsRGVzY3JpcHRpb24sXHJcbiAgICAgICAgZXF1aXBtZW50cyxcclxuICAgICAgICBtb2RlbENvbXB1bHNvcnksXHJcbiAgICAgICAgc2V0TW9kZWwsXHJcbiAgICAgICAgc2V0Q29sb3IsXHJcbiAgICAgICAgc2V0SW50ZXJpb3IsXHJcbiAgICAgICAgYWRkRXF1aXBtZW50LFxyXG4gICAgICAgIGFkZENvbXB1bHNvcnksXHJcbiAgICAgICAgY2xlYW4sXHJcbiAgICAgICAgdG9Kc29uLFxyXG4gICAgICAgIGhhc0NvbG9yLFxyXG4gICAgICAgIGhhc0ludGVyaW9yLFxyXG4gICAgICAgIGhhc0ZvcmNlZENvbG9yLFxyXG4gICAgICAgIGhhc0ZvcmNlZEludGVyaW9yLFxyXG4gICAgICAgIGNvbmZpZ3VyZWRDb2xvcixcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IsXHJcbiAgICAgICAgY29sb3JIYXNDaGFuZ2VkLFxyXG4gICAgICAgIGludGVyaW9ySGFzQ2hhbmdlZCxcclxuICAgICAgICBjYW5TYXZlT3JkZXIsXHJcbiAgICAgICAgc2hvd09yZGVyQ3JlYXRpb24sXHJcbiAgICAgICAgY2xlYW5TZWxlY3Rpb25zLFxyXG4gICAgICAgIHNldEF1dG9maXhlcyxcclxuICAgICAgICB1bmFibGVUb1JlYnVpbGRJdGVtcyxcclxuICAgICAgICBhZGRVbmFibGVUb1JlYnVpbGRJdGVtLFxyXG4gICAgICAgIHJlbW92ZVVuYWJsZVRvUmVidWlsZEl0ZW0sXHJcbiAgICAgICAgaXNOb3RUaGVTYW1lTW9kZWwsXHJcbiAgICAgICAgaGFzRXF1aXBtZW50XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VsZWN0YWJsZUl0ZW0oY2F0YWxvZ0l0ZW0sIGlzVHlwZVBhY2thZ2UpIHtcclxuICAgIGxldCBzZWxlY3RlZCA9IGtvLm9ic2VydmFibGUoY2F0YWxvZ0l0ZW0uZXNtRXF1aXBtZW50KTtcclxuICAgIGxldCBmb3JjZWRJdGVtcyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKHRleHQpIHtcclxuICAgICAgICBpZiAoIXRleHQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24udG9VcHBlckNhc2UoKS5pbmRleE9mKHRleHQudG9VcHBlckNhc2UoKSkgIT0gLTEgfHxcclxuICAgICAgICAgICAgY2F0YWxvZ0l0ZW0uY29kZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YodGV4dC50b1VwcGVyQ2FzZSgpKSAhPSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0luQ2F0YWxvZygpIHtcclxuICAgICAgICByZXR1cm4gY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24gIT0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0Q29tYmluYXRpb24oY29tYmluYXRpb24pIHtcclxuICAgICAgICBmb3JjZWRJdGVtcy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwoZm9yY2VkSXRlbXMsIGNvbWJpbmF0aW9uLml0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b0pzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29kZTogY2F0YWxvZ0l0ZW0uY29kZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGNhdGFsb2dJdGVtLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBjb21iaW5hdGlvbjogY29tYmluYXRpb25zVG9Kc29uKClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbWJpbmF0aW9uc1RvSnNvbigpIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoZm9yY2VkSXRlbXMoKSwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBjb2RlOiB4LmNvZGUsIHR5cGU6IHgudHlwZSB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zRm9yY2VkSXRlbShjb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uYW55KGZvcmNlZEl0ZW1zKCksICh4KSA9PiB4LmNvZGUgPT0gY29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNQYWNrYWdlKCkge1xyXG4gICAgICAgIHJldHVybiBpc1R5cGVQYWNrYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzZWxmID0ge1xyXG4gICAgICAgIGNhdGVnb3J5OiBjYXRhbG9nSXRlbS5jYXRlZ29yeSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogY2F0YWxvZ0l0ZW0uY29kZSArIFwiIC0gXCIgKyBjYXRhbG9nSXRlbS5kZXNjcmlwdGlvbixcclxuICAgICAgICBkZXNjcmlwdGlvbldpdGhvdXRDb2RlOiBjYXRhbG9nSXRlbS5kZXNjcmlwdGlvbixcclxuICAgICAgICBzZWxlY3RlZCxcclxuICAgICAgICBjb250YWlucyxcclxuICAgICAgICBjb250YWluc0ZvcmNlZEl0ZW0sXHJcbiAgICAgICAgY29kZTogY2F0YWxvZ0l0ZW0uY29kZSxcclxuICAgICAgICB0eXBlOiBjYXRhbG9nSXRlbS50eXBlLFxyXG4gICAgICAgIGlzSW5DYXRhbG9nLFxyXG4gICAgICAgIGhhc0ZvcmNlZENvbWJpbmF0aW9uczogY2F0YWxvZ0l0ZW0uaGFzRm9yY2VkQ29tYmluYXRpb25zLFxyXG4gICAgICAgIGNvbXB1bHNvcnlDb21iaW5hdGlvbnM6IGNhdGFsb2dJdGVtLmNvbXB1bHNvcnlDb21iaW5hdGlvbnMsXHJcbiAgICAgICAgdG9Kc29uLFxyXG4gICAgICAgIHNldENvbWJpbmF0aW9uLFxyXG4gICAgICAgIGZvcmNlZEl0ZW1zLFxyXG4gICAgICAgIGlzUGFja2FnZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBzZWxmO1xyXG59XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlICovIC8vIEF1dG9nZW5lcmF0ZWQgd2l0aCBHdWxwICh0YXNrOiBwYXJzZS1jb21wb25lbnRzLXRlbXBsYXRlcylcbi8vIERvbnQgY2hhbmdlIHRoaXMgZmlsZSwgY2hhbmdlIHRoZSAuaHRtbCBmaWxlIGluc3RlYWQgYW5kIHJ1biBHdWxwXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBcIlxcbjxkaXYgY2xhc3M9XFxcImJveCBib3gtZGVmYXVsdFxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJveC1oZWFkZXIgd2l0aC1ib3JkZXJcXFwiPlxcbiAgICAgICAgPGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiIGRhdGEtYmluZD1cXFwidGV4dDogbGFiZWxzLnRpdGxlXFxcIj48L2gzPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYm94LWJvZHlcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICA8bW9kZWwtc2VsZWN0b3IgcGFyYW1zPVxcXCJtb2RlbFNlbGVjdGVkOiBtb2RlbFNlbGVjdGVkLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5Nb2RlbFNlbGVjdGVkOiB3aGVuTW9kZWxTZWxlY3RlZCwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbk1vZGVsVW5zZWxlY3RlZDogd2hlbk1vZGVsVW5zZWxlY3RlZCwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbk1vZGVsR3JvdXBTZWxlY3RlZDogd2hlbk1vZGVsR3JvdXBTZWxlY3RlZFxcXCI+XFxuICAgICAgICAgICAgPC9tb2RlbC1zZWxlY3Rvcj5cXG4gICAgICAgICAgICA8Y29sb3Itc2VsZWN0b3IgcGFyYW1zPVxcXCJvcHRpb25zOiBjb2xvck9wdGlvbnMsIHNlbGVjdGVkOiBzZWxlY3RlZENvbG9yXFxcIj48L2NvbG9yLXNlbGVjdG9yPlxcbiAgICAgICAgICAgIDxpbnRlcmlvci1zZWxlY3RvciBwYXJhbXM9XFxcIm9wdGlvbnM6IGludGVyaW9yT3B0aW9ucywgc2VsZWN0ZWQ6IHNlbGVjdGVkSW50ZXJpb3JcXFwiPjwvaW50ZXJpb3Itc2VsZWN0b3I+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxzcGlubmVyIHBhcmFtcz1cXFwic2hvdzogbG9hZGluZ0NhdGFsb2dcXFwiPjwvc3Bpbm5lcj5cXG48L2Rpdj5cXG48ZXF1aXBtZW50cy1zZWxlY3RvciBwYXJhbXM9XFxcImVxdWlwbWVudHM6IGF2YWlsYWJsZUVxdWlwbWVudHMsIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbkVxdWlwbWVudFNlbGVjdGVkOiB3aGVuRXF1aXBtZW50U2VsZWN0ZWQsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuRXF1aXBtZW50VW5zZWxlY3RlZDogd2hlbkVxdWlwbWVudFVuc2VsZWN0ZWQsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nRmxhZzogbG9hZGluZ0NhdGFsb2dcXFwiPlxcbjwvZXF1aXBtZW50cy1zZWxlY3Rvcj5cXG48Y29tYmluYXRpb24tc2VsZWN0b3IgcGFyYW1zPVxcXCJ2aXNpYmxlOiBjb21iaW5hdGlvblNlbGVjdG9yVmlzaWJsZSwgb3B0aW9uczogY29tYmluYXRpb25PcHRpb25zLCBpc1NlbGVjdGlvbk1hbmRhdG9yeTogaXNDb21iaW5hdGlvbk1hbmRhdG9yeSwgd2hlblNlbGVjdGVkOiB3aGVuQ29tYmluYXRpb25TZWxlY3RlZFxcXCI+PC9jb21iaW5hdGlvbi1zZWxlY3Rvcj5cIjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSkRPaTlRY205cVpXTjBjeTlUU1UxQk1pOU9SVlF2VTJGc1pYTXZRMjl1Wm1sbmRYSmhkRzl5TDBOdmJtWnBaM1Z5WVhSdmNpNVhaV0l2VTJOeWFYQjBjeTl6Y21NdlpHOXRZV2x1TDJOdmJtWnBaM1Z5WVhSdmNpOWpiMjVtYVdkMWNtRjBiM0l0ZEdWdGNHeGhkR1V1YW5NaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNlcxMTkiLCLvu79pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9jb25maWd1cmF0b3ItdGVtcGxhdGUnO1xyXG5pbXBvcnQgTW9kZWxDYXRhbG9nU2VsZWN0YWJsZXMgZnJvbSAnLi9zY3JpcHRzL21vZGVsQ2F0YWxvZ1NlbGVjdGFibGVzJztcclxuaW1wb3J0IENhdGFsb2dDbGllbnQgZnJvbSAnLi4vLi4vaW5mcmFzdHJ1Y3R1cmUvY2xpZW50cy9jYXRhbG9nQ2xpZW50JztcclxuaW1wb3J0IENvbmZpZ3VyYXRpb25DbGllbnQgZnJvbSAnLi4vLi4vaW5mcmFzdHJ1Y3R1cmUvY2xpZW50cy9jb25maWd1cmF0aW9uQ2xpZW50JztcclxuaW1wb3J0IE1vZGVsQ29uZmlndXJhdGlvbiBmcm9tICcuL3NjcmlwdHMvbW9kZWxDb25maWd1cmF0aW9uJztcclxuaW1wb3J0IENvbmZpZ3VyYXRvckFwcGxpZXIgZnJvbSAnLi9zY3JpcHRzL2NvbmZpZ3VyYXRvckFwcGxpZXInO1xyXG5pbXBvcnQgQ29uZmlndXJhdG9yTm90aWZpZXIgZnJvbSAnLi9zY3JpcHRzL2NvbmZpZ3VyYXRvck5vdGlmaWVyJztcclxuaW1wb3J0IENvbG9yQ29uZmlndXJhdG9yIGZyb20gJy4vc2NyaXB0cy9jb2xvckNvbmZpZ3VyYXRvcic7XHJcbmltcG9ydCBJbnRlcmlvckNvbmZpZ3VyYXRvciBmcm9tICcuL3NjcmlwdHMvaW50ZXJpb3JDb25maWd1cmF0b3InO1xyXG5pbXBvcnQgQ29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzIGZyb20gJy4vc2NyaXB0cy9jb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MnO1xyXG5pbXBvcnQgQ29tYmluYXRpb25CdWlsZGVyIGZyb20gJy4vc2NyaXB0cy9jb21iaW5hdGlvbnNCdWlsZGVyJztcclxuXHJcbmFpZGFDb3JlLkNvbXBvbmVudFJlZ2lzdGVyKCdjb25maWd1cmF0b3InLCB7XHJcbiAgICBzY3JpcHQ6IChwcm9wcywgZGVwZW5kZW5jeVByb3ZpZGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYnJhbmQgPSBcIlZcIjtcclxuICAgICAgICBjb25zdCB3aGVuQ29uZmlndXJhdGlvbkNoYW5nZWQgPSBwcm9wcy53aGVuQ29uZmlndXJhdGlvbkNoYW5nZWQ7XHJcbiAgICAgICAgY29uc3QgdHJhbnNsYXRvciA9IGRlcGVuZGVuY3lQcm92aWRlci5nZXRUcmFuc2xhdG9yKCk7XHJcbiAgICAgICAgY29uc3QgY2F0YWxvZ0NsaWVudCA9IENhdGFsb2dDbGllbnQoZGVwZW5kZW5jeVByb3ZpZGVyLmdldFJlc3RDbGllbnQoKSwgZGVwZW5kZW5jeVByb3ZpZGVyLmdldEVycm9yRGlhbG9nUHVibGlzaGVyKCksIHt9LCBicmFuZCk7XHJcbiAgICAgICAgY29uc3QgY29uZmlndXJhdGlvbkNsaWVudCA9IENvbmZpZ3VyYXRpb25DbGllbnQoZGVwZW5kZW5jeVByb3ZpZGVyLmdldFJlc3RDbGllbnQoKSwgZGVwZW5kZW5jeVByb3ZpZGVyLmdldEVycm9yRGlhbG9nUHVibGlzaGVyKCksIHt9LCBicmFuZCk7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nUHVibGlzaGVyID0gZGVwZW5kZW5jeVByb3ZpZGVyLmdldERpYWxvZ1B1Ymxpc2hlcigpO1xyXG4gICAgICAgIHJldHVybiBDb25maWd1cmF0b3IoeyB3aGVuQ29uZmlndXJhdGlvbkNoYW5nZWQsIHRyYW5zbGF0b3IsIGNhdGFsb2dDbGllbnQsIGNvbmZpZ3VyYXRpb25DbGllbnQsIGRpYWxvZ1B1Ymxpc2hlciB9KTtcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25maWd1cmF0b3Ioe3doZW5Db25maWd1cmF0aW9uQ2hhbmdlZCwgdHJhbnNsYXRvciwgY2F0YWxvZ0NsaWVudCwgY29uZmlndXJhdGlvbkNsaWVudCwgZGlhbG9nUHVibGlzaGVyfSkge1xyXG5cclxuICAgIGxldCBjdXJyZW50Q2F0YWxvZztcclxuICAgIGNvbnN0IGxvYWRpbmdDYXRhbG9nID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcbiAgICBjb25zdCBtb2RlbFNlbGVjdGVkID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgY29uc3QgbW9kZWxDb25maWd1cmF0aW9uID0gTW9kZWxDb25maWd1cmF0aW9uKCk7XHJcbiAgICBjb25zdCBjb2xvckNvbmZpZ3VyYXRvciA9IENvbG9yQ29uZmlndXJhdG9yKHdoZW5Db2xvcklzU2VsZWN0ZWQpO1xyXG4gICAgY29uc3QgaW50ZXJpb3JDb25maWd1cmF0b3IgPSBJbnRlcmlvckNvbmZpZ3VyYXRvcih3aGVuSW50ZXJpb3JJc1NlbGVjdGVkKTtcclxuICAgIGNvbnN0IGF2YWlsYWJsZUVxdWlwbWVudHMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW10pO1xyXG4gICAgY29uc3QgY29uZmlndXJhdG9yTm90aWZpZXIgPSBDb25maWd1cmF0b3JOb3RpZmllcihkaWFsb2dQdWJsaXNoZXIsIHRyYW5zbGF0b3IpO1xyXG4gICAgY29uc3QgY29tYmluYXRpb25CdWlsZGVyID0gQ29tYmluYXRpb25CdWlsZGVyKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICBjb25zdCBjb25maWd1cmF0b3JBcHBsaWVyID0gQ29uZmlndXJhdG9yQXBwbGllcihjb2xvckNvbmZpZ3VyYXRvciwgaW50ZXJpb3JDb25maWd1cmF0b3IsIGNvbmZpZ3VyYXRvck5vdGlmaWVyLCBjb21iaW5hdGlvbkJ1aWxkZXIsIHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZCk7XHJcbiAgICBjb25zdCBjb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MgPSBDb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKTtcclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuTW9kZWxTZWxlY3RlZChtb2RlbCkge1xyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5zZXRNb2RlbChtb2RlbCk7XHJcbiAgICAgICAgbG9hZGluZ0NhdGFsb2codHJ1ZSk7XHJcbiAgICAgICAgY2F0YWxvZ0NsaWVudC5nZXRDYXRhbG9nKG1vZGVsQ29uZmlndXJhdGlvbi5tb2RlbElkKCksIHdoZW5DYXRhbG9nUmVjZWl2ZWQsIG9uQ2F0YWxvZ0Vycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuTW9kZWxVbnNlbGVjdGVkKCkge1xyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5jbGVhbigpO1xyXG4gICAgICAgIGN1cnJlbnRDYXRhbG9nLmNsZWFuKCk7XHJcbiAgICAgICAgaW5pdGlhbGl6ZVNlbGVjdG9ycygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5DYXRhbG9nUmVjZWl2ZWQoY2F0YWxvZ0pzb24pIHtcclxuICAgICAgICBsb2FkaW5nQ2F0YWxvZyhmYWxzZSk7XHJcbiAgICAgICAgY3VycmVudENhdGFsb2cgPSBNb2RlbENhdGFsb2dTZWxlY3RhYmxlcyhtb2RlbENvbmZpZ3VyYXRpb24ubW9kZWxJZCgpLCBtb2RlbENvbmZpZ3VyYXRpb24ubW9kZWxEZXNjcmlwdGlvbigpLCBjYXRhbG9nSnNvbik7XHJcbiAgICAgICAgaW5pdGlhbGl6ZVNlbGVjdG9ycygpO1xyXG4gICAgICAgIGxldCBtb2RlbCA9IGN1cnJlbnRDYXRhbG9nLmdldE1vZGVsKCk7XHJcbiAgICAgICAgaWYgKG1vZGVsLmNvbXB1bHNvcnlDb21iaW5hdGlvbnMgJiYgbW9kZWwuY29tcHVsc29yeUNvbWJpbmF0aW9ucy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy51cGRhdGVUb1Nob3dBc01hbmRhdG9yeShtb2RlbC5jb2RlLCBtb2RlbC5jb21wdWxzb3J5Q29tYmluYXRpb25zLCBjdXJyZW50Q2F0YWxvZywgd2hlbk1vZGVsQ29tYmluYXRpb25Jc1NlbGVjdGVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmNyZWF0ZUNvbmZpZ3VyYXRpb24obW9kZWwsIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZCwgb25Db25maWd1cmF0aW9uRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkNhdGFsb2dFcnJvcigpIHtcclxuICAgICAgICBsb2FkaW5nQ2F0YWxvZyhmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Db25maWd1cmF0aW9uRXJyb3IoKSB7XHJcbiAgICAgICAgbW9kZWxTZWxlY3RlZCh1bmRlZmluZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Db2xvcklzU2VsZWN0ZWQoY29sb3IpIHtcclxuICAgICAgICBpZiAoY29sb3IgJiYgY29sb3IuaGFzRm9yY2VkQ29tYmluYXRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy51cGRhdGVUb1Nob3coY29sb3IuY29kZSwgY29sb3IuY29tcHVsc29yeUNvbWJpbmF0aW9ucywgY3VycmVudENhdGFsb2csIHdoZW5Db2xvckNvbWJpbmF0aW9uU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb2xvcikge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmNoYW5nZUNvbG9yV2l0aG91dENvbWJpbmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgY29sb3IuY29kZSwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkLCByZXN0b3JlQ29uZmlndXJlZENvbG9yKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LnJlbW92ZUNvbG9yKG1vZGVsQ29uZmlndXJhdGlvbiwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbkludGVyaW9ySXNTZWxlY3RlZChpbnRlcmlvcikge1xyXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KGludGVyaW9yKSAmJiBpbnRlcmlvci5oYXNGb3JjZWRDb21iaW5hdGlvbnMpIHtcclxuICAgICAgICAgICAgY29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzLnVwZGF0ZVRvU2hvdyhpbnRlcmlvci5jb2RlLCBpbnRlcmlvci5jb21wdWxzb3J5Q29tYmluYXRpb25zLCBjdXJyZW50Q2F0YWxvZywgd2hlbkludGVyaW9yQ29tYmluYXRpb25TZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKF8uaXNPYmplY3QoaW50ZXJpb3IpKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25DbGllbnQuY2hhbmdlSW50ZXJpb3JXaXRob3V0Q29tYmluYXRpb24obW9kZWxDb25maWd1cmF0aW9uLCBpbnRlcmlvci5jb2RlLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQsIHJlc3RvcmVDb25maWd1cmVkSW50ZXJpb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25DbGllbnQucmVtb3ZlSW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuRXF1aXBtZW50U2VsZWN0ZWQoZXF1aXBtZW50KSB7XHJcbiAgICAgICAgaWYgKGVxdWlwbWVudC5oYXNGb3JjZWRDb21iaW5hdGlvbnMpIHtcclxuICAgICAgICAgICAgY29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzLnVwZGF0ZVRvU2hvdyhlcXVpcG1lbnQuY29kZSwgZXF1aXBtZW50LmNvbXB1bHNvcnlDb21iaW5hdGlvbnMsIGN1cnJlbnRDYXRhbG9nLCB3aGVuRXF1aXBtZW50V2l0aENvbWJpbmF0aW9uU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcXVpcG1lbnQuaXNQYWNrYWdlKCkpIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5hZGRQYWNrYWdlV2l0aG91dENvbWJpbmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgZXF1aXBtZW50LmNvZGUsIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5hZGRFcXVpcG1lbnRXaXRob3V0Q29tYmluYXRpb24obW9kZWxDb25maWd1cmF0aW9uLCBlcXVpcG1lbnQuY29kZSwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbkVxdWlwbWVudFVuc2VsZWN0ZWQoZXF1aXBtZW50KSB7XHJcbiAgICAgICAgaWYgKGVxdWlwbWVudC5pc1BhY2thZ2UoKSkge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LnJlbW92ZVBhY2thZ2UobW9kZWxDb25maWd1cmF0aW9uLCBlcXVpcG1lbnQuY29kZSwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LnJlbW92ZUVxdWlwbWVudChtb2RlbENvbmZpZ3VyYXRpb24sIGVxdWlwbWVudC5jb2RlLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplU2VsZWN0b3JzKCkge1xyXG4gICAgICAgIGNvbG9yQ29uZmlndXJhdG9yLmluaXRpYWxpemVTZWxlY3RvcihjdXJyZW50Q2F0YWxvZy5jb2xvcnMpO1xyXG4gICAgICAgIGludGVyaW9yQ29uZmlndXJhdG9yLmluaXRpYWxpemVTZWxlY3RvcihjdXJyZW50Q2F0YWxvZy5pbnRlcmlvcnMpO1xyXG4gICAgICAgIGF2YWlsYWJsZUVxdWlwbWVudHMoY3VycmVudENhdGFsb2cuZXF1aXBtZW50cy5jb25jYXQoY3VycmVudENhdGFsb2cucGFja2FnZXMpKTsgICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Nb2RlbEdyb3VwU2VsZWN0ZWQoKSB7IH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuTW9kZWxDb21iaW5hdGlvbklzU2VsZWN0ZWQoc2VsZWN0ZWRDb21iaW5hdGlvbikge1xyXG4gICAgICAgIGNvbmZpZ3VyYXRpb25DbGllbnQuY3JlYXRlQ29uZmlndXJhdGlvbldpdGhDb21iaW5hdGlvbihzZWxlY3RlZENvbWJpbmF0aW9uLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQsIG9uQ29uZmlndXJhdGlvbkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuQ29sb3JDb21iaW5hdGlvblNlbGVjdGVkKHNlbGVjdGVkQ29tYmluYXRpb24pIHtcclxuICAgICAgICBpZiAoXy5pc09iamVjdChzZWxlY3RlZENvbWJpbmF0aW9uKSkge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmNoYW5nZUNvbG9yKG1vZGVsQ29uZmlndXJhdGlvbiwgc2VsZWN0ZWRDb21iaW5hdGlvbiwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkLCByZXN0b3JlQ29uZmlndXJlZENvbG9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXN0b3JlQ29uZmlndXJlZENvbG9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbkludGVyaW9yQ29tYmluYXRpb25TZWxlY3RlZChzZWxlY3RlZENvbWJpbmF0aW9uKSB7XHJcbiAgICAgICAgaWYgKF8uaXNPYmplY3Qoc2VsZWN0ZWRDb21iaW5hdGlvbikpIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5jaGFuZ2VJbnRlcmlvcihtb2RlbENvbmZpZ3VyYXRpb24sIHNlbGVjdGVkQ29tYmluYXRpb24sIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZCwgcmVzdG9yZUNvbmZpZ3VyZWRJbnRlcmlvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdG9yZUNvbmZpZ3VyZWRJbnRlcmlvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5FcXVpcG1lbnRXaXRoQ29tYmluYXRpb25TZWxlY3RlZChzZWxlY3RlZENvbWJpbmF0aW9uKSB7XHJcbiAgICAgICAgaWYgKCFfLmlzT2JqZWN0KHNlbGVjdGVkQ29tYmluYXRpb24pKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RlZENvbWJpbmF0aW9uLnJvb3QuaXNQYWNrYWdlKCkpIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5hZGRQYWNrYWdlKG1vZGVsQ29uZmlndXJhdGlvbiwgc2VsZWN0ZWRDb21iaW5hdGlvbiwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmFkZEVxdWlwbWVudChtb2RlbENvbmZpZ3VyYXRpb24sIHNlbGVjdGVkQ29tYmluYXRpb24sIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZChuZXdDb25maWd1cmF0aW9uLCBhY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgY29uZmlndXJhdG9yQXBwbGllci5hcHBseUNvbmZpZ3VyYXRpb24obW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBhY3Rpb25UeXBlLCBjdXJyZW50Q2F0YWxvZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzdG9yZUNvbmZpZ3VyZWRDb2xvcigpIHtcclxuICAgICAgICBjb2xvckNvbmZpZ3VyYXRvci5zZWxlY3RlZChtb2RlbENvbmZpZ3VyYXRpb24uY29uZmlndXJlZENvbG9yKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc3RvcmVDb25maWd1cmVkSW50ZXJpb3IoKSB7XHJcbiAgICAgICAgaW50ZXJpb3JDb25maWd1cmF0b3Iuc2VsZWN0ZWQobW9kZWxDb25maWd1cmF0aW9uLmNvbmZpZ3VyZWRJbnRlcmlvcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGl0bGU6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdDb25maWd1cmF0b3IuVGl0bGUnKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBsYWJlbHM6IGdldExhYmVscygpLFxyXG4gICAgICAgIGNvbG9yT3B0aW9uczogY29sb3JDb25maWd1cmF0b3Iub3B0aW9ucyxcclxuICAgICAgICBzZWxlY3RlZENvbG9yOiBjb2xvckNvbmZpZ3VyYXRvci5zZWxlY3RlZCxcclxuICAgICAgICBpbnRlcmlvck9wdGlvbnM6IGludGVyaW9yQ29uZmlndXJhdG9yLm9wdGlvbnMsXHJcbiAgICAgICAgc2VsZWN0ZWRJbnRlcmlvcjogaW50ZXJpb3JDb25maWd1cmF0b3Iuc2VsZWN0ZWQsXHJcbiAgICAgICAgYXZhaWxhYmxlRXF1aXBtZW50cyxcclxuICAgICAgICBtb2RlbFNlbGVjdGVkLFxyXG4gICAgICAgIHdoZW5Nb2RlbFNlbGVjdGVkLFxyXG4gICAgICAgIHdoZW5Nb2RlbFVuc2VsZWN0ZWQsXHJcbiAgICAgICAgd2hlbk1vZGVsR3JvdXBTZWxlY3RlZCxcclxuICAgICAgICB3aGVuRXF1aXBtZW50U2VsZWN0ZWQsXHJcbiAgICAgICAgd2hlbkVxdWlwbWVudFVuc2VsZWN0ZWQsXHJcbiAgICAgICAgbG9hZGluZ0NhdGFsb2csXHJcbiAgICAgICAgY29tYmluYXRpb25TZWxlY3RvclZpc2libGU6IGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy5jb21iaW5hdGlvblNlbGVjdG9yVmlzaWJsZSxcclxuICAgICAgICBpc0NvbWJpbmF0aW9uTWFuZGF0b3J5OiBjb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MuaXNDb21iaW5hdGlvbk1hbmRhdG9yeSxcclxuICAgICAgICBjb21iaW5hdGlvbk9wdGlvbnM6IGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy5jb21iaW5hdGlvbk9wdGlvbnMsXHJcbiAgICAgICAgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWQ6IGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy53aGVuU2VsZWN0ZWRcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xvckNvbmZpZ3VyYXRvcih3aGVuQ29sb3JJc1NlbGVjdGVkKSB7XHJcblxyXG4gICAgY29uc3QgY29sb3JPcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGNvbnN0IGNvbG9yU2VsZWN0ZWQgPSBrby5vYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgY29sb3JTZWxlY3RlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHdoZW5Db2xvcklzU2VsZWN0ZWQoY29sb3JTZWxlY3RlZCgpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTZWxlY3Rvcihjb2xvcnMpIHtcclxuICAgICAgICBjb2xvck9wdGlvbnMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKGNvbG9yT3B0aW9ucywgY29sb3JzKTtcclxuICAgICAgICBjb2xvclNlbGVjdGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNldE9wdGlvbnNGb3JTZWxlY3RlZEludGVyaW9yKG1vZGVsQ29uZmlndXJhdGlvbiwgY2F0YWxvZykge1xyXG4gICAgICAgIGlmICghbW9kZWxDb25maWd1cmF0aW9uLmhhc0ludGVyaW9yKCkpIHtcclxuICAgICAgICAgICAgY29sb3JPcHRpb25zKGNhdGFsb2cuY29sb3JzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xvck9wdGlvbnMoY2F0YWxvZy5jb21wYXRpYmxlQ29sb3JzV2l0aChtb2RlbENvbmZpZ3VyYXRpb24uY29uZmlndXJlZEludGVyaW9yKCkuY29kZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG9wdGlvbnM6IGNvbG9yT3B0aW9ucyxcclxuICAgICAgICBzZWxlY3RlZDogY29sb3JTZWxlY3RlZCxcclxuICAgICAgICBpbml0aWFsaXplU2VsZWN0b3IsXHJcbiAgICAgICAgc2V0T3B0aW9uc0ZvclNlbGVjdGVkSW50ZXJpb3JcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21iaW5hdGlvbihyb290LCBpdGVtcywgZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcbiAgICBsZXQgd2hlblNlbGVjdGVkQ2FsbGJhY2sgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0KCkge1xyXG4gICAgICAgIGlmIChhbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZygpKSB7XHJcbiAgICAgICAgICAgIGRpYWxvZ1B1Ymxpc2hlci5lcnJvcih7IHRpdGxlOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5BbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZy5FcnJvclwiKSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGVuU2VsZWN0ZWRDYWxsYmFjayhzZWxmKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZygpIHtcclxuICAgICAgICByZXR1cm4gXy5maW5kKGl0ZW1zLCAoeCkgPT4gIXguaXNJbkNhdGFsb2coKSkgIT0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdEl0ZW1zKCkge1xyXG4gICAgICAgIHJvb3Quc2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgXy5lYWNoKGl0ZW1zLCAoeCkgPT4geC5zZWxlY3RlZCh0cnVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlblNlbGVjdGVkKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgd2hlblNlbGVjdGVkQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZiA9IHtcclxuICAgICAgICByb290LFxyXG4gICAgICAgIGl0ZW1zLFxyXG4gICAgICAgIHNlbGVjdCxcclxuICAgICAgICB3aGVuU2VsZWN0ZWQsXHJcbiAgICAgICAgc2VsZWN0SXRlbXNcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbn0iLCJpbXBvcnQgQ29tYmluYXRpb25zQnVpbGRlciBmcm9tICcuL2NvbWJpbmF0aW9uc0J1aWxkZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcil7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbWJpbmF0aW9uc0J1aWxkZXIgPSBDb21iaW5hdGlvbnNCdWlsZGVyKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICBjb25zdCBjb21iaW5hdGlvbk9wdGlvbnMgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBpc0NvbWJpbmF0aW9uTWFuZGF0b3J5ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcbiAgICBsZXQgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWRDYWxsYmFjayA9ICgpID0+IHsgfTtcclxuICAgIGNvbnN0IGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVG9TaG93QXNNYW5kYXRvcnkoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGlzTWFuZGF0b3J5ID0gdHJ1ZTtcclxuICAgICAgICB1cGRhdGUoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGlzTWFuZGF0b3J5LCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVG9TaG93KGl0ZW1Db2RlLCBjb21iaW5hdGlvbnMsIHNlbGVjdGFibGVDYXRhbG9nLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBpc01hbmRhdG9yeSA9IGZhbHNlO1xyXG4gICAgICAgIHVwZGF0ZShpdGVtQ29kZSwgY29tYmluYXRpb25zLCBzZWxlY3RhYmxlQ2F0YWxvZywgaXNNYW5kYXRvcnksIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGUoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGlzTWFuZGF0b3J5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBjb21iaW5hdGlvbnNGb3JUaGlzSXRlbSA9IGNvbWJpbmF0aW9uc0J1aWxkZXIuYnVpbGRGb3IoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGNvbWJpbmF0aW9uT3B0aW9ucyhjb21iaW5hdGlvbnNGb3JUaGlzSXRlbSk7XHJcbiAgICAgICAgaXNDb21iaW5hdGlvbk1hbmRhdG9yeShpc01hbmRhdG9yeSk7XHJcbiAgICAgICAgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXBkYXRlVG9TaG93LFxyXG4gICAgICAgIHVwZGF0ZVRvU2hvd0FzTWFuZGF0b3J5LFxyXG4gICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlLFxyXG4gICAgICAgIGlzQ29tYmluYXRpb25NYW5kYXRvcnksXHJcbiAgICAgICAgY29tYmluYXRpb25PcHRpb25zLFxyXG4gICAgICAgIHdoZW5TZWxlY3RlZDogKHNlbGVjdGVkKSA9PiB3aGVuQ29tYmluYXRpb25TZWxlY3RlZENhbGxiYWNrKHNlbGVjdGVkKVxyXG4gICAgfTtcclxufSIsImltcG9ydCBDb21iaW5hdGlvbiBmcm9tICcuL2NvbWJpbmF0aW9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbWJpbmF0aW9uc0J1aWxkZXIoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGJ1aWxkRm9yKGl0ZW1Db2RlLCBjb21iaW5hdGlvbnMsIGNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgcm9vdE9mQ29tYmluYXRpb25FcXVpcG1lbnQgPSBjYXRhbG9nLmZpbmRJdGVtKGl0ZW1Db2RlKTtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY29tYmluYXRpb25zLCAoY29tYmluYXRpb24pID0+IGJ1aWxkQ29tYmluYXRpb25Gb3Iocm9vdE9mQ29tYmluYXRpb25FcXVpcG1lbnQsIGNvbWJpbmF0aW9uLCBjYXRhbG9nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpbGRDb21iaW5hdGlvbkZvcihyb290SXRlbSwgY29tYmluYXRpb24sIGNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgY29tYmluYXRpb25Db2RlcyA9IF8ubWFwKGNvbWJpbmF0aW9uLCAoaXRlbSkgPT4gaXRlbS5jb2RlKTtcclxuICAgICAgICBsZXQgY2F0YWxvZ0l0ZW1zID0gY2F0YWxvZy5maW5kSXRlbXMoY29tYmluYXRpb25Db2Rlcyk7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uKHJvb3RJdGVtLCBjYXRhbG9nSXRlbXMsIGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBidWlsZEZvcixcclxuICAgICAgICBidWlsZENvbWJpbmF0aW9uRm9yXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uZmlndXJhdG9yQXBwbGllcihjb2xvckNvbmZpZ3VyYXRvciwgaW50ZXJpb3JDb25maWd1cmF0b3IsIGNvbmZpZ3VyYXRvck5vdGlmaWVyLCBjb21iaW5hdGlvbkJ1aWxkZXIsIHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZCkge1xyXG5cclxuICAgIGNvbnN0IEVtcHR5SW50ZXJpb3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYXBwbHlDb25maWd1cmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgbmV3QXV0b2ZpeGVzID0gXy5maWx0ZXIobmV3Q29uZmlndXJhdGlvbi5hdXRvRml4ZXMsICh4KSA9PiB4LmlzTmV3QXV0b2ZpeCk7XHJcbiAgICAgICAgaWYgKG5ld0F1dG9maXhlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRvck5vdGlmaWVyLm5vdGlmeUF1dG9maXhlc0NvbmZpcm1hdGlvbihcclxuICAgICAgICAgICAgICAgIG5ld0F1dG9maXhlcyxcclxuICAgICAgICAgICAgICAgICgpID0+IGNvbnRpbnVlQXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBhY3Rpb25UeXBlLCBzZWxlY3RhYmxlQ2F0YWxvZylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250aW51ZUFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb250aW51ZUFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBjb25maWd1cmF0b3JOb3RpZmllci5ub3RpZnlDaGFuZ2VzSW5Db25maWd1cmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSk7XHJcbiAgICAgICAgY29tbWl0QXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tbWl0QXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGNsZWFyQWxsU2VsZWN0aW9ucyhtb2RlbENvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuXHJcbiAgICAgICAgbW9kZWxDb25maWd1cmF0aW9uLnNldEF1dG9maXhlcyhuZXdDb25maWd1cmF0aW9uLmF1dG9GaXhlcyk7XHJcblxyXG4gICAgICAgIGFwcGx5TW9kZWxDb21wdWxzb3J5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGFwcGx5RXF1aXBtZW50c0FuZFBhY2thZ2VzKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGFwcGx5Q29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgYXBwbHlJbnRlcmlvcihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICAvL01ha2VTZWxlY3RvcnNSZWFkT25seUlmTmVjZXNzYXJ5KCk7XHJcbiAgICAgICAgd2hlbkNvbmZpZ3VyYXRpb25DaGFuZ2VkKG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYXJBbGxTZWxlY3Rpb25zKG1vZGVsQ29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uY2xlYW5TZWxlY3Rpb25zKCk7XHJcbiAgICAgICAgc2VsZWN0YWJsZUNhdGFsb2cudW5zZWxlY3RBbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseU1vZGVsQ29tcHVsc29yeShtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFuZXdDb25maWd1cmF0aW9uLm1vZGVsQ29tcHVsc29yeSB8fCAhbmV3Q29uZmlndXJhdGlvbi5tb2RlbENvbXB1bHNvcnkuY29tYmluZWRJdGVtcykgcmV0dXJuO1xyXG5cclxuICAgICAgICBfLmVhY2gobmV3Q29uZmlndXJhdGlvbi5tb2RlbENvbXB1bHNvcnkuY29tYmluZWRJdGVtcywgKHgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBzZWxlY3RhYmxlQ2F0YWxvZy5maW5kSXRlbSh4LmNvZGUpO1xyXG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uYWRkQ29tcHVsc29yeShpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseUVxdWlwbWVudHNBbmRQYWNrYWdlcyhtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgbGV0IGVxdWlwbWVudHNBbmRQYWNrYWdlcyA9IF8obmV3Q29uZmlndXJhdGlvbi5lcXVpcG1lbnRzKS5jb25jYXQobmV3Q29uZmlndXJhdGlvbi5wYWNrYWdlcykudmFsdWUoKTtcclxuICAgICAgICBfLmVhY2goZXF1aXBtZW50c0FuZFBhY2thZ2VzLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHNlbGVjdGFibGVDYXRhbG9nLmZpbmRJdGVtKHguY29kZSk7XHJcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5Q29tYmluYXRpb24oaXRlbSwgeC5jb21iaW5hdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uYWRkRXF1aXBtZW50KGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5Q29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGxldCBjb2xvclNlbGVjdGFibGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKF8uaXNPYmplY3QobmV3Q29uZmlndXJhdGlvbi5jb2xvcikpIHtcclxuICAgICAgICAgICAgY29sb3JTZWxlY3RhYmxlID0gc2VsZWN0YWJsZUNhdGFsb2cuZmluZEl0ZW0obmV3Q29uZmlndXJhdGlvbi5jb2xvci5jb2RlKTtcclxuICAgICAgICAgICAgYXBwbHlDb21iaW5hdGlvbihjb2xvclNlbGVjdGFibGUsIG5ld0NvbmZpZ3VyYXRpb24uY29sb3IuY29tYmluYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY29sb3JTZWxlY3RlZChjb2xvclNlbGVjdGFibGUpO1xyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5zZXRDb2xvcihjb2xvclNlbGVjdGFibGUpO1xyXG4gICAgICAgIGludGVyaW9yQ29uZmlndXJhdG9yLnNldE9wdGlvbnNGb3JTZWxlY3RlZENvbG9yKG1vZGVsQ29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5Q29tYmluYXRpb24oaXRlbSwgY29tYmluYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKGNvbWJpbmF0aW9uICYmIGNvbWJpbmF0aW9uLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgbGV0IGNvbWJpbmF0aW9uVmlld01vZGVsID0gY29tYmluYXRpb25CdWlsZGVyLmJ1aWxkQ29tYmluYXRpb25Gb3IoaXRlbSwgY29tYmluYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICAgICAgaXRlbS5zZXRDb21iaW5hdGlvbihjb21iaW5hdGlvblZpZXdNb2RlbCk7XHJcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uVmlld01vZGVsLnNlbGVjdEl0ZW1zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5SW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGxldCBpbnRlcmlvclNlbGVjdGFibGUgPSBFbXB0eUludGVyaW9yO1xyXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IpKSB7XHJcbiAgICAgICAgICAgIGludGVyaW9yU2VsZWN0YWJsZSA9IHNlbGVjdGFibGVDYXRhbG9nLmZpbmRJdGVtKG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IuY29kZSk7XHJcbiAgICAgICAgICAgIGFwcGx5Q29tYmluYXRpb24oaW50ZXJpb3JTZWxlY3RhYmxlLCBuZXdDb25maWd1cmF0aW9uLmludGVyaW9yLmNvbWJpbmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vaW50ZXJpb3JTZWxlY3Rvci5zZWxlY3RlZFdpdGhvdXRFdmVudHMoaW50ZXJpb3JTZWxlY3RhYmxlKTtcclxuICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uc2V0SW50ZXJpb3IoaW50ZXJpb3JTZWxlY3RhYmxlKTtcclxuICAgICAgICBjb2xvckNvbmZpZ3VyYXRvci5zZXRPcHRpb25zRm9yU2VsZWN0ZWRJbnRlcmlvcihtb2RlbENvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcGx5Q29uZmlndXJhdGlvbixcclxuICAgICAgICBjb250aW51ZUFwcGx5XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uZmlndXJhdG9yTm90aWZpZXIoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gbm90aWZ5Q2hhbmdlc0luQ29uZmlndXJhdGlvbihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUpIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTtcclxuICAgICAgICBpZiAobW9kZWxDb25maWd1cmF0aW9uLmNvbG9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSAmJiAhYWN0aW9uVHlwZS5Jc0NoYW5nZUNvbG9yKCkpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSA9IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdGlmeUNoYW5nZUNvbG9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW9kZWxDb25maWd1cmF0aW9uLmludGVyaW9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSAmJiAhYWN0aW9uVHlwZS5Jc0NoYW5nZUludGVyaW9yKCkpIHtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UpIG1lc3NhZ2UgKz0gXCIgXCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5Ob3RpZnlDaGFuZ2VJbnRlcmlvckFuZENvbG9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgIGVsc2UgbWVzc2FnZSA9IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdGlmeUNoYW5nZUludGVyaW9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBkaWFsb2dQdWJsaXNoZXIud2FybmluZyh7IHRpdGxlOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIlNoYXJlZERvbWFpbi5XYXJuaW5nLlRleHRcIiksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5vdGlmeUF1dG9maXhlc0NvbmZpcm1hdGlvbihuZXdBdXRvZml4ZXMsIHdoZW5Db25maXJtZWQpIHtcclxuICAgICAgICBsZXQgZml4ZXNBc1N0cmluZyA9IF8ucmVkdWNlKG5ld0F1dG9maXhlcywgKGFjYywgZml4KSA9PiBhY2MgKyBcIi0gXCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5BcHBseUNvbmZpZ3VyYXRpb24uTWVzc2FnZVwiLCBbZml4LmFkZGVkSXRlbSwgZml4LnJlbW92ZWRJdGVtXSkgKyAnPGJyPicsIFwiXCIpO1xyXG4gICAgICAgIGZpeGVzQXNTdHJpbmcgKz0gXCI8YnI+XCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5Pa1RvQ29udGludWUuTWVzc2FnZVwiKTtcclxuICAgICAgICBkaWFsb2dQdWJsaXNoZXIuY29uZmlybWF0aW9uKHtcclxuICAgICAgICAgICAgdGl0bGU6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLkFwcGx5Q29uZmlndXJhdGlvbkNvbmZpcm1hdGlvbi5NZXNzYWdlXCIpLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBmaXhlc0FzU3RyaW5nLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogd2hlbkNvbmZpcm1lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm90aWZ5Q2hhbmdlc0luQ29uZmlndXJhdGlvbixcclxuICAgICAgICBub3RpZnlBdXRvZml4ZXNDb25maXJtYXRpb25cclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnRlcmlvckNvbmZpZ3VyYXRvcih3aGVuSW50ZXJpb3JJc1NlbGVjdGVkKSB7XHJcblxyXG4gICAgY29uc3QgaW50ZXJpb3JPcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGNvbnN0IGludGVyaW9yU2VsZWN0ZWQgPSBrby5vYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgaW50ZXJpb3JTZWxlY3RlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHdoZW5JbnRlcmlvcklzU2VsZWN0ZWQoaW50ZXJpb3JTZWxlY3RlZCgpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTZWxlY3RvcihpbnRlcmlvcnMpIHtcclxuICAgICAgICBpbnRlcmlvck9wdGlvbnMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKGludGVyaW9yT3B0aW9ucywgaW50ZXJpb3JzKTtcclxuICAgICAgICBpbnRlcmlvclNlbGVjdGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T3B0aW9uc0ZvclNlbGVjdGVkQ29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBjYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFtb2RlbENvbmZpZ3VyYXRpb24uaGFzQ29sb3IoKSkge1xyXG4gICAgICAgICAgICBpbnRlcmlvck9wdGlvbnMoY2F0YWxvZy5pbnRlcmlvcnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludGVyaW9yT3B0aW9ucyhjYXRhbG9nLmNvbXBhdGlibGVJbnRlcmlvcnNXaXRoKG1vZGVsQ29uZmlndXJhdGlvbi5jb25maWd1cmVkQ29sb3IoKS5jb2RlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb3B0aW9uczogaW50ZXJpb3JPcHRpb25zLFxyXG4gICAgICAgIHNlbGVjdGVkOiBpbnRlcmlvclNlbGVjdGVkLFxyXG4gICAgICAgIGluaXRpYWxpemVTZWxlY3RvcixcclxuICAgICAgICBzZXRPcHRpb25zRm9yU2VsZWN0ZWRDb2xvclxyXG4gICAgfTtcclxufSIsImltcG9ydCBTZWxlY3RhYmxlSXRlbSBmcm9tIFwiLi9zZWxlY3RhYmxlSXRlbVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxDYXRhbG9nU2VsZWN0YWJsZXMobW9kZWxDb2RlLCBtb2RlbERlc2NyaXB0aW9uLCBjYXRhbG9nSnNvbikge1xyXG5cclxuICAgIGxldCBlcXVpcG1lbnRzID0gY3JlYXRlU2VsZWN0YWJsZUVxdWlwbWVudHNGcm9tKGNhdGFsb2dKc29uKTtcclxuICAgIGxldCBpbnRlcmlvcnMgPSBjcmVhdGVTZWxlY3RhYmxlSW50ZXJpb3JzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgY29sb3JzID0gY3JlYXRlU2VsZWN0YWJsZUNvbG9yc0Zyb20oY2F0YWxvZ0pzb24pO1xyXG4gICAgbGV0IHBhY2thZ2VzID0gY3JlYXRlU2VsZWN0YWJsZVBhY2thZ2VzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgbW9kZWwgPSBTZWxlY3RhYmxlSXRlbSh7XHJcbiAgICAgICAgY29kZTogbW9kZWxDb2RlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtb2RlbERlc2NyaXB0aW9uLFxyXG4gICAgICAgIGhhc0ZvcmNlZENvbWJpbmF0aW9uczogY2F0YWxvZ0pzb24ubW9kZWxDb21wdWxzb3J5Q29tYmluYXRpb25DaG9pY2VzICYmIGNhdGFsb2dKc29uLm1vZGVsQ29tcHVsc29yeUNvbWJpbmF0aW9uQ2hvaWNlcy5sZW5ndGggPiAwLFxyXG4gICAgICAgIGNvbXB1bHNvcnlDb21iaW5hdGlvbnM6IGNhdGFsb2dKc29uLm1vZGVsQ29tcHVsc29yeUNvbWJpbmF0aW9uQ2hvaWNlc1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGFsbEl0ZW1zID0gXyhtb2RlbCkuY29uY2F0KGludGVyaW9ycywgY29sb3JzLCBlcXVpcG1lbnRzLCBwYWNrYWdlcykudmFsdWUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRSZWxhdGlvbnNoaXAoY29sb3JDb2RlLCBpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICBpZiAoXy5maW5kKGNhdGFsb2dKc29uLnJlbGF0aW9uc2hpcCwgeD0+IHguY29sb3JDb2RlID09IGNvbG9yQ29kZSAmJiB4LmludGVyaW9yQ29kZSA9PSBpbnRlcmlvckNvZGUpKSByZXR1cm47XHJcbiAgICAgICAgY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLnB1c2goe2NvbG9yQ29kZSxpbnRlcmlvckNvZGV9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDb2xvcihjb2xvclRvQWRkKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBTZWxlY3RhYmxlSXRlbSh7XHJcbiAgICAgICAgICAgIGNvZGU6IGNvbG9yVG9BZGQuY29kZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGNvbG9yVG9BZGQuZGVzY3JpcHRpb259XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb2xvcnMucHVzaChjb2xvcik7XHJcbiAgICAgICAgYWxsSXRlbXMucHVzaChjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkSW50ZXJpb3IoaW50ZXJpb3JUb0FkZCkge1xyXG4gICAgICAgIGNvbnN0IGludGVyaW9yID0gU2VsZWN0YWJsZUl0ZW0oe1xyXG4gICAgICAgICAgICBjb2RlOiBpbnRlcmlvclRvQWRkLmNvZGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpbnRlcmlvclRvQWRkLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaW50ZXJpb3JzLnB1c2goaW50ZXJpb3IpO1xyXG4gICAgICAgIGFsbEl0ZW1zLnB1c2goaW50ZXJpb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKCkge1xyXG4gICAgICAgIGVxdWlwbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICBpbnRlcmlvcnMubGVuZ3RoID0gMDtcclxuICAgICAgICBjb2xvcnMubGVuZ3RoID0gMDtcclxuICAgICAgICBwYWNrYWdlcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGFsbEl0ZW1zLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGFibGVQYWNrYWdlc0Zyb20oY2F0YWxvZ0pzb24pIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY2F0YWxvZ0pzb24ucGFja2FnZXMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4LCB0cnVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0YWJsZUVxdWlwbWVudHNGcm9tKGNhdGFsb2dKc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNhdGFsb2dKc29uLmVxdWlwbWVudHMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4LCBmYWxzZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGFibGVJbnRlcmlvcnNGcm9tKGNhdGFsb2dKc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNhdGFsb2dKc29uLmludGVyaW9ycywgKHgpID0+IFNlbGVjdGFibGVJdGVtKHgpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTZWxlY3RhYmxlQ29sb3JzRnJvbShjYXRhbG9nSnNvbikge1xyXG4gICAgICAgIHJldHVybiBfLm1hcChjYXRhbG9nSnNvbi5jb2xvcnMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZEl0ZW1zKGNvZGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNvZGVzLCAoY29kZSkgPT4gZmluZEl0ZW0oY29kZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRJdGVtKGNvZGUpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IF8uZmluZChhbGxJdGVtcywgKHgpID0+IHguY29kZSA9PSBjb2RlKTtcclxuICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChpdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRW1wdHlTZWxlY3RhYmxlSXRlbShjb2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRW1wdHlTZWxlY3RhYmxlSXRlbShjb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdGFibGVJdGVtKHsgZXNtRXF1aXBtZW50OiBmYWxzZSwgY29kZTogY29kZSwgZGVzY3JpcHRpb246ICcnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuc2VsZWN0QWxsKCkge1xyXG4gICAgICAgIF8uZWFjaChhbGxJdGVtcywgKHgpID0+IHguc2VsZWN0ZWQoZmFsc2UpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wYXRpYmxlQ29sb3JzV2l0aChpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICBsZXQgaW50ZXJpb3JSZWxhdGlvbnNoaXBzID0gXy5maWx0ZXIoY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLCAoeCkgPT4geC5pbnRlcmlvckNvZGUgPT0gaW50ZXJpb3JDb2RlKTtcclxuICAgICAgICByZXR1cm4gXy5tYXAoaW50ZXJpb3JSZWxhdGlvbnNoaXBzLCAoeCkgPT4gZmluZENvbG9yKHguY29sb3JDb2RlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZENvbG9yKGNvbG9yQ29kZSkge1xyXG4gICAgICAgIHJldHVybiBfLmZpbmQoY29sb3JzLCAoeCkgPT4geC5jb2RlID09IGNvbG9yQ29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGF0aWJsZUludGVyaW9yc1dpdGgoY29sb3JDb2RlKSB7XHJcbiAgICAgICAgbGV0IGNvbG9yUmVsYXRpb25zaGlwcyA9IF8uZmlsdGVyKGNhdGFsb2dKc29uLnJlbGF0aW9uc2hpcCwgKHgpID0+IHguY29sb3JDb2RlID09IGNvbG9yQ29kZSk7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNvbG9yUmVsYXRpb25zaGlwcywgKHgpID0+IGZpbmRJbnRlcmlvcih4LmludGVyaW9yQ29kZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRJbnRlcmlvcihpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICByZXR1cm4gXy5maW5kKGludGVyaW9ycywgKHgpID0+IHguY29kZSA9PSBpbnRlcmlvckNvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZXF1aXBtZW50cyxcclxuICAgICAgICBwYWNrYWdlcyxcclxuICAgICAgICBjb2xvcnMsXHJcbiAgICAgICAgaW50ZXJpb3JzLFxyXG4gICAgICAgIGZpbmRJdGVtLFxyXG4gICAgICAgIGZpbmRJdGVtcyxcclxuICAgICAgICB1bnNlbGVjdEFsbCxcclxuICAgICAgICBjb21wYXRpYmxlQ29sb3JzV2l0aCxcclxuICAgICAgICBjb21wYXRpYmxlSW50ZXJpb3JzV2l0aCxcclxuICAgICAgICBnZXRNb2RlbCxcclxuICAgICAgICBjbGVhbixcclxuICAgICAgICBhZGRDb2xvcixcclxuICAgICAgICBhZGRJbnRlcmlvcixcclxuICAgICAgICBhZGRSZWxhdGlvbnNoaXBcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbENvbmZpZ3VyYXRpb24oKSB7XHJcblxyXG4gICAgY29uc3QgbW9kZWxJZCA9IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGNvbnN0IG1vZGVsRGVzY3JpcHRpb24gPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBlcXVpcG1lbnRzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XHJcbiAgICBjb25zdCBjb25maWd1cmVkQ29sb3IgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBjb25maWd1cmVkSW50ZXJpb3IgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBtb2RlbENvbXB1bHNvcnkgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIGNvbnN0IHNob3dPcmRlckNyZWF0aW9uID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcbiAgICBjb25zdCB1bmFibGVUb1JlYnVpbGRJdGVtcyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG4gICAgbGV0IG1vZGVsQXV0b2ZpeGVzOyAgXHJcbiAgICBsZXQgbW9kZWxDb2RlO1xyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBhZGRVbmFibGVUb1JlYnVpbGRJdGVtKGl0ZW0pIHtcclxuICAgICAgICB1bmFibGVUb1JlYnVpbGRJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVVuYWJsZVRvUmVidWlsZEl0ZW0oaXRlbSkge1xyXG4gICAgICAgIHVuYWJsZVRvUmVidWlsZEl0ZW1zLnJlbW92ZShpdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRBdXRvZml4ZXMoYXV0b2ZpeGVzKSB7XHJcbiAgICAgICAgbW9kZWxBdXRvZml4ZXMgPSBhdXRvZml4ZXM7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGNhblNhdmVPcmRlcigpIHtcclxuICAgICAgICByZXR1cm4gaGFzTW9kZWwoKSAmJiBoYXNDb2xvcigpICYmIGhhc0ludGVyaW9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkRXF1aXBtZW50KGVxdWlwbWVudCkge1xyXG4gICAgICAgIGVxdWlwbWVudHMucmVtb3ZlKGVxdWlwbWVudCk7XHJcbiAgICAgICAgZXF1aXBtZW50cy5wdXNoKGVxdWlwbWVudCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGFkZENvbXB1bHNvcnkoY29tYmluZWRJdGVtKSB7XHJcbiAgICAgICAgbW9kZWxDb21wdWxzb3J5LnB1c2goY29tYmluZWRJdGVtKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2V0TW9kZWwobW9kZWwpIHtcclxuICAgICAgICBjbGVhbigpO1xyXG4gICAgICAgIG1vZGVsQ29kZSA9IG1vZGVsLmtleS5jb2RlO1xyXG4gICAgICAgIG1vZGVsSWQobW9kZWwua2V5LmlkKTtcclxuICAgICAgICBtb2RlbERlc2NyaXB0aW9uKG1vZGVsLmRlc2NyaXB0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc05vdFRoZVNhbWVNb2RlbChtb2RlbCkge1xyXG4gICAgICAgIHJldHVybiBtb2RlbC5rZXkuY29kZSAhPSBtb2RlbENvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYW4oKSB7XHJcbiAgICAgICAgbW9kZWxJZCh1bmRlZmluZWQpO1xyXG4gICAgICAgIG1vZGVsRGVzY3JpcHRpb24odW5kZWZpbmVkKTtcclxuICAgICAgICBjbGVhblNlbGVjdGlvbnMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gY2xlYW5TZWxlY3Rpb25zKCkge1xyXG4gICAgICAgIHNob3dPcmRlckNyZWF0aW9uKGZhbHNlKTtcclxuICAgICAgICBlcXVpcG1lbnRzLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIG1vZGVsQ29tcHVsc29yeS5yZW1vdmVBbGwoKTtcclxuICAgICAgICBjb25maWd1cmVkQ29sb3IodW5kZWZpbmVkKTtcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRDb2xvcihjb2xvcikge1xyXG4gICAgICAgIGNvbmZpZ3VyZWRDb2xvcihjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0SW50ZXJpb3IoaW50ZXJpb3IpIHtcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IoaW50ZXJpb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvSnNvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtb2RlbEtleTogeyBpZDogbW9kZWxJZCgpLCBjb2RlOiAnJywgZGVzY3JpcHRpb246IG1vZGVsRGVzY3JpcHRpb24oKSB9LFxyXG4gICAgICAgICAgICBjb2xvcjogY29uZmlndXJlZENvbG9yKCkgIT0gdW5kZWZpbmVkID8gY29uZmlndXJlZENvbG9yKCkudG9Kc29uKCkgOiB7fSxcclxuICAgICAgICAgICAgaW50ZXJpb3I6IGNvbmZpZ3VyZWRJbnRlcmlvcigpICE9IHVuZGVmaW5lZCA/IGNvbmZpZ3VyZWRJbnRlcmlvcigpLnRvSnNvbigpIDoge30sXHJcbiAgICAgICAgICAgIGVxdWlwbWVudHM6IF8ubWFwKGVxdWlwbWVudHNUaGF0QXJlTm90UGFja2FnZXMoKSwgKHgpID0+IHgudG9Kc29uKCkpLFxyXG4gICAgICAgICAgICBwYWNrYWdlczogXy5tYXAoZXF1aXBtZW50c1RoYXRBcmVQYWNrYWdlcygpLCAoeCk9PngudG9Kc29uKCkpLFxyXG4gICAgICAgICAgICBtb2RlbENvbXB1bHNvcnk6IHtjb21iaW5lZEl0ZW1zOiBfLm1hcChtb2RlbENvbXB1bHNvcnkoKSwgKHgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7Y29kZTogeC5jb2RlLCB0eXBlOiB4LnR5cGV9O1xyXG4gICAgICAgICAgICB9KX0sXHJcbiAgICAgICAgICAgIGF1dG9GaXhlczogbW9kZWxBdXRvZml4ZXNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBlcXVpcG1lbnRzVGhhdEFyZVBhY2thZ2VzKCkge1xyXG4gICAgICAgIHJldHVybiBfLnNlbGVjdChlcXVpcG1lbnRzKCksICh4KT0+eC5pc1BhY2thZ2UoKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGVxdWlwbWVudHNUaGF0QXJlTm90UGFja2FnZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uc2VsZWN0KGVxdWlwbWVudHMoKSwgKHgpPT4heC5pc1BhY2thZ2UoKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGhhc0ZvcmNlZENvbG9yKCkge1xyXG4gICAgICAgIGlmIChjb25maWd1cmVkQ29sb3IoKSA9PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gXy5hbnkoZXF1aXBtZW50cygpLCAoeCkgPT4geC5jb250YWluc0ZvcmNlZEl0ZW0oY29uZmlndXJlZENvbG9yKCkuY29kZSkpIHx8IFxyXG4gICAgICAgICAgICAgICAgKGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmIGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShjb25maWd1cmVkQ29sb3IoKS5jb2RlKSkgfHxcclxuICAgICAgICAgICAgICAgIF8uYW55KG1vZGVsQ29tcHVsc29yeSgpLCAoeCkgPT4geC5jb2RlID09IGNvbmZpZ3VyZWRDb2xvcigpLmNvZGUpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiBoYXNGb3JjZWRJbnRlcmlvcigpIHtcclxuICAgICAgICBpZiAoY29uZmlndXJlZEludGVyaW9yKCkgPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIF8uYW55KGVxdWlwbWVudHMoKSwgKHgpID0+IHguY29udGFpbnNGb3JjZWRJdGVtKGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvZGUpKSB8fCBcclxuICAgICAgICAgICAgICAgIChjb25maWd1cmVkQ29sb3IoKSAmJiBjb25maWd1cmVkQ29sb3IoKS5jb250YWluc0ZvcmNlZEl0ZW0oY29uZmlndXJlZEludGVyaW9yKCkuY29kZSkpIHx8XHJcbiAgICAgICAgICAgICAgICBfLmFueShtb2RlbENvbXB1bHNvcnkoKSwgKHgpID0+IHguY29kZSA9PSBjb25maWd1cmVkSW50ZXJpb3IoKS5jb2RlKTtcclxuICAgIH0gICAgICAgIFxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc0NvbG9yKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChjb25maWd1cmVkQ29sb3IoKSk7ICAgICAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGhhc0ludGVyaW9yKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChjb25maWd1cmVkSW50ZXJpb3IoKSk7ICAgICAgICAgICAgXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGhhc01vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChtb2RlbElkKCkpOyAgXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzRXF1aXBtZW50KGVxdWlwbWVudENvZGUpe1xyXG4gICAgICAgIHJldHVybiBfLmFueShlcXVpcG1lbnRzKCksIHg9PiB4LmNvZGUgPT0gZXF1aXBtZW50Q29kZSkgIHx8XHJcbiAgICAgICAgICAgICAgIF8uYW55KG1vZGVsQ29tcHVsc29yeSgpLCB4ID0+IHguY29kZSA9PSBlcXVpcG1lbnRDb2RlKSB8fCBcclxuICAgICAgICAgICAgICAoY29uZmlndXJlZENvbG9yKCkgJiYgY29uZmlndXJlZENvbG9yKCkuY29udGFpbnNGb3JjZWRJdGVtKGVxdWlwbWVudENvZGUpKSB8fCAgXHJcbiAgICAgICAgICAgICAgKGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmIGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShlcXVpcG1lbnRDb2RlKSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGNvbG9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyZWRDb2xvcigpICYmIFxyXG4gICAgICAgICAgICBuZXdDb25maWd1cmF0aW9uLmNvbG9yICYmXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyZWRDb2xvcigpLmNvZGUgIT0gbmV3Q29uZmlndXJhdGlvbi5jb2xvci5jb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGludGVyaW9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmXHJcbiAgICAgICAgICAgIG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IgJiZcclxuICAgICAgICAgICAgY29uZmlndXJlZEludGVyaW9yKCkuY29kZSAhPSBuZXdDb25maWd1cmF0aW9uLmludGVyaW9yLmNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBtb2RlbElkLFxyXG4gICAgICAgIG1vZGVsRGVzY3JpcHRpb24sXHJcbiAgICAgICAgZXF1aXBtZW50cyxcclxuICAgICAgICBtb2RlbENvbXB1bHNvcnksXHJcbiAgICAgICAgc2V0TW9kZWwsXHJcbiAgICAgICAgc2V0Q29sb3IsXHJcbiAgICAgICAgc2V0SW50ZXJpb3IsXHJcbiAgICAgICAgYWRkRXF1aXBtZW50LFxyXG4gICAgICAgIGFkZENvbXB1bHNvcnksXHJcbiAgICAgICAgY2xlYW4sXHJcbiAgICAgICAgdG9Kc29uLFxyXG4gICAgICAgIGhhc0NvbG9yLFxyXG4gICAgICAgIGhhc0ludGVyaW9yLFxyXG4gICAgICAgIGhhc0ZvcmNlZENvbG9yLFxyXG4gICAgICAgIGhhc0ZvcmNlZEludGVyaW9yLFxyXG4gICAgICAgIGNvbmZpZ3VyZWRDb2xvcixcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IsXHJcbiAgICAgICAgY29sb3JIYXNDaGFuZ2VkLFxyXG4gICAgICAgIGludGVyaW9ySGFzQ2hhbmdlZCxcclxuICAgICAgICBjYW5TYXZlT3JkZXIsXHJcbiAgICAgICAgc2hvd09yZGVyQ3JlYXRpb24sXHJcbiAgICAgICAgY2xlYW5TZWxlY3Rpb25zLFxyXG4gICAgICAgIHNldEF1dG9maXhlcyxcclxuICAgICAgICB1bmFibGVUb1JlYnVpbGRJdGVtcyxcclxuICAgICAgICBhZGRVbmFibGVUb1JlYnVpbGRJdGVtLFxyXG4gICAgICAgIHJlbW92ZVVuYWJsZVRvUmVidWlsZEl0ZW0sXHJcbiAgICAgICAgaXNOb3RUaGVTYW1lTW9kZWwsXHJcbiAgICAgICAgaGFzRXF1aXBtZW50XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VsZWN0YWJsZUl0ZW0oY2F0YWxvZ0l0ZW0sIGlzVHlwZVBhY2thZ2UpIHtcclxuICAgIGxldCBzZWxlY3RlZCA9IGtvLm9ic2VydmFibGUoY2F0YWxvZ0l0ZW0uZXNtRXF1aXBtZW50KTtcclxuICAgIGxldCBmb3JjZWRJdGVtcyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKHRleHQpIHtcclxuICAgICAgICBpZiAoIXRleHQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24udG9VcHBlckNhc2UoKS5pbmRleE9mKHRleHQudG9VcHBlckNhc2UoKSkgIT0gLTEgfHxcclxuICAgICAgICAgICAgY2F0YWxvZ0l0ZW0uY29kZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YodGV4dC50b1VwcGVyQ2FzZSgpKSAhPSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0luQ2F0YWxvZygpIHtcclxuICAgICAgICByZXR1cm4gY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24gIT0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0Q29tYmluYXRpb24oY29tYmluYXRpb24pIHtcclxuICAgICAgICBmb3JjZWRJdGVtcy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwoZm9yY2VkSXRlbXMsIGNvbWJpbmF0aW9uLml0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b0pzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29kZTogY2F0YWxvZ0l0ZW0uY29kZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGNhdGFsb2dJdGVtLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBjb21iaW5hdGlvbjogY29tYmluYXRpb25zVG9Kc29uKClcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbWJpbmF0aW9uc1RvSnNvbigpIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoZm9yY2VkSXRlbXMoKSwgZnVuY3Rpb24oeCkge1xyXG4gICAgICAgICAgICByZXR1cm4geyBjb2RlOiB4LmNvZGUsIHR5cGU6IHgudHlwZSB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zRm9yY2VkSXRlbShjb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uYW55KGZvcmNlZEl0ZW1zKCksICh4KSA9PiB4LmNvZGUgPT0gY29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNQYWNrYWdlKCkge1xyXG4gICAgICAgIHJldHVybiBpc1R5cGVQYWNrYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzZWxmID0ge1xyXG4gICAgICAgIGNhdGVnb3J5OiBjYXRhbG9nSXRlbS5jYXRlZ29yeSxcclxuICAgICAgICBkZXNjcmlwdGlvbjogY2F0YWxvZ0l0ZW0uY29kZSArIFwiIC0gXCIgKyBjYXRhbG9nSXRlbS5kZXNjcmlwdGlvbixcclxuICAgICAgICBkZXNjcmlwdGlvbldpdGhvdXRDb2RlOiBjYXRhbG9nSXRlbS5kZXNjcmlwdGlvbixcclxuICAgICAgICBzZWxlY3RlZCxcclxuICAgICAgICBjb250YWlucyxcclxuICAgICAgICBjb250YWluc0ZvcmNlZEl0ZW0sXHJcbiAgICAgICAgY29kZTogY2F0YWxvZ0l0ZW0uY29kZSxcclxuICAgICAgICB0eXBlOiBjYXRhbG9nSXRlbS50eXBlLFxyXG4gICAgICAgIGlzSW5DYXRhbG9nLFxyXG4gICAgICAgIGhhc0ZvcmNlZENvbWJpbmF0aW9uczogY2F0YWxvZ0l0ZW0uaGFzRm9yY2VkQ29tYmluYXRpb25zLFxyXG4gICAgICAgIGNvbXB1bHNvcnlDb21iaW5hdGlvbnM6IGNhdGFsb2dJdGVtLmNvbXB1bHNvcnlDb21iaW5hdGlvbnMsXHJcbiAgICAgICAgdG9Kc29uLFxyXG4gICAgICAgIHNldENvbWJpbmF0aW9uLFxyXG4gICAgICAgIGZvcmNlZEl0ZW1zLFxyXG4gICAgICAgIGlzUGFja2FnZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBzZWxmO1xyXG59XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlICovIC8vIEF1dG9nZW5lcmF0ZWQgd2l0aCBHdWxwICh0YXNrOiBwYXJzZS1jb21wb25lbnRzLXRlbXBsYXRlcylcbi8vIERvbnQgY2hhbmdlIHRoaXMgZmlsZSwgY2hhbmdlIHRoZSAuaHRtbCBmaWxlIGluc3RlYWQgYW5kIHJ1biBHdWxwXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBcIlxcbjxkaXYgY2xhc3M9XFxcImJveCBib3gtZGVmYXVsdFxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcImJveC1oZWFkZXIgd2l0aC1ib3JkZXJcXFwiPlxcbiAgICAgICAgPGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiIGRhdGEtYmluZD1cXFwidGV4dDogbGFiZWxzLnRpdGxlXFxcIj48L2gzPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYm94LWJvZHlcXFwiPlxcbiAgICAgICAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2LXRhYnNcXFwiIHJvbGU9XFxcInRhYmxpc3RcXFwiPlxcbiAgICAgICAgICAgIDxsaSByb2xlPVxcXCJwcmVzZW50YXRpb25cXFwiIGNsYXNzPVxcXCJhY3RpdmVcXFwiPjxhIGhyZWY9XFxcIiNhbGxcXFwiIGFyaWEtY29udHJvbHM9XFxcImFsbFxcXCIgcm9sZT1cXFwidGFiXFxcIiBkYXRhLXRvZ2dsZT1cXFwidGFiXFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IGxhYmVscy5hbGxFcXVpcG1lbnRzXFxcIj48L2E+PC9saT5cXG4gICAgICAgICAgICA8bGkgcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIj48YSBocmVmPVxcXCIjc2VhcmNoXFxcIiBhcmlhLWNvbnRyb2xzPVxcXCJzZWFyY2hcXFwiIHJvbGU9XFxcInRhYlxcXCIgZGF0YS10b2dnbGU9XFxcInRhYlxcXCIgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBsYWJlbHMuc2VhcmNoRXF1aXBtZW50c1xcXCI+PC9hPjwvbGk+XFxuICAgICAgICA8L3VsPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwidGFiLWNvbnRlbnRcXFwiPlxcbiAgICAgICAgICAgIDxkaXYgcm9sZT1cXFwidGFicGFuZWxcXFwiIGNsYXNzPVxcXCJ0YWItcGFuZSBhY3RpdmVcXFwiIGlkPVxcXCJhbGxcXFwiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ncm91cFxcXCIgaWQ9XFxcImFjY29yZGlvblxcXCIgcm9sZT1cXFwidGFibGlzdFxcXCIgYXJpYS1tdWx0aXNlbGVjdGFibGU9XFxcInRydWVcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBkYXRhLWJpbmQ9XFxcImZvcmVhY2g6IGNhdGVnb3JpZXNcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHRcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1oZWFkaW5nXFxcIiByb2xlPVxcXCJ0YWJcXFwiIGlkPVxcXCJoZWFkaW5nT25lXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsLXRpdGxlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBkYXRhLWJpbmQ9XFxcInRleHQ6IG5hbWUsIGF0dHI6IHtocmVmOiAnIycgKyBpZH1cXFwiXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cXFwiYnV0dG9uXFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVxcXCJjb2xsYXBzZVxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXBhcmVudD1cXFwiI2FjY29yZGlvblxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVxcXCJmYWxzZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYmluZD1cXFwiYXR0cjoge2lkOiBpZH1cXFwiIGNsYXNzPVxcXCJwYW5lbC1jb2xsYXBzZSBjb2xsYXBzZVxcXCIgcm9sZT1cXFwidGFicGFuZWxcXFwiIGFyaWEtbGFiZWxsZWRieT1cXFwiaGVhZGluZ09uZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGRhdGEtYmluZD1cXFwidGVtcGxhdGU6IHtuYW1lOiAnZXF1aXBtZW50X3RlbXBsYXRlJywgZm9yZWFjaDogZXF1aXBtZW50c31cXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgcm9sZT1cXFwidGFicGFuZWxcXFwiIGNsYXNzPVxcXCJ0YWItcGFuZVxcXCIgaWQ9XFxcInNlYXJjaFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwicGFkZGluZzogMTBweFxcXCIgaWQ9XFxcInNlYXJjaFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCJcXG4gICAgICAgICAgICAgICAgICAgICAgIGRhdGEtYmluZD1cXFwidmFsdWU6IHRleHRUb1NlYXJjaCxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVVwZGF0ZTogJ2FmdGVya2V5ZG93bicsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IHsgJ2tleXVwJzogc2VhcmNoIH0sXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cjogeyBwbGFjZWhvbGRlcjogbGFiZWxzLnNlYXJjaEVxdWlwbWVudHN9XFxcIlxcbiAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cXFwidGV4dFxcXCIgLz5cXG4gICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cXFwibWFyZ2luOiAxMHB4XFxcIiBkYXRhLWJpbmQ9XFxcInRlbXBsYXRlOiB7bmFtZTogJ2VxdWlwbWVudF90ZW1wbGF0ZScsIGZvcmVhY2g6IHNlYXJjaFJlc3VsdHN9XFxcIj48L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPHNwaW5uZXIgcGFyYW1zPVxcXCJzaG93OiBsb2FkaW5nRmxhZ1xcXCI+PC9zcGlubmVyPlxcbjwvZGl2PiBcXG5cXG48IS0tIHRlbXBsYXRlcyAtLT5cXG48c2NyaXB0IHR5cGU9XFxcInRleHQvaHRtbFxcXCIgaWQ9XFxcImVxdWlwbWVudF90ZW1wbGF0ZVxcXCI+XFxuICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdGFibGVib3hcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IHNlbGVjdE9yVW5zZWxlY3RcXFwiPlxcbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVxcXCJ2aXNpYmxlOiBpc1NlbGVjdGVkKClcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgPC9zcGFuPiBcXG4gICAgICAgIDwhLS0ga28gaWY6IGRlc2NyaXB0aW9uV2l0aG91dENvZGUgIT0gJycgLS0+XFxuICAgICAgICA8c3BhbiBkYXRhLWJpbmQ9XFxcInRleHQ6IGNvZGUgKyAnIC0gJyArIGRlc2NyaXB0aW9uV2l0aG91dENvZGUsIGF0dHI6IHsndGl0bGUnOiBkZXNjcmlwdGlvbldpdGhvdXRDb2RlfVxcXCIgY2xhc3M9XFxcInRydW5jYXRlXFxcIiBkYXRhLXRvZ2dsZT1cXFwidG9vbHRpcFxcXCI+PC9zcGFuPlxcbiAgICAgICAgPCEtLSAva28gLS0+XFxuICAgICAgICA8IS0tIGtvIGlmOiBkZXNjcmlwdGlvbldpdGhvdXRDb2RlID09PSAnJyAtLT5cXG4gICAgICAgIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogY29kZSArICcgLSAnICsgbGFiZWxzLm5vdEF2YWlsYWJsZURlc2NyaXB0aW9uXFxcIj48L3NwYW4+XFxuICAgICAgICA8IS0tIC9rbyAtLT5cXG4gICAgPC9kaXY+XFxuPC9zY3JpcHQ+XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUlzSW1acGJHVWlPaUpET2k5UWNtOXFaV04wY3k5VFNVMUJNaTlPUlZRdlUyRnNaWE12UTI5dVptbG5kWEpoZEc5eUwwTnZibVpwWjNWeVlYUnZjaTVYWldJdlUyTnlhWEIwY3k5emNtTXZaRzl0WVdsdUwyVnhkV2x3YldWdWRITXRjMlZzWldOMGIzSXZaWEYxYVhCdFpXNTBjeTF6Wld4bFkzUnZjaTEwWlcxd2JHRjBaUzVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYlhYMD0iLCLvu79pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9lcXVpcG1lbnRzLXNlbGVjdG9yLXRlbXBsYXRlJztcclxuaW1wb3J0IFNlbGVjdGFibGVFcXVpcG1lbnQgZnJvbSAnLi9zZWxlY3RhYmxlRXF1aXBtZW50JztcclxuXHJcbmFpZGFDb3JlLkNvbXBvbmVudFJlZ2lzdGVyKCdlcXVpcG1lbnRzLXNlbGVjdG9yJywge1xyXG4gICAgc2NyaXB0OiAocHJvcHMsIGRlcGVuZGVuY3lQcm92aWRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0b3IgPSBkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0VHJhbnNsYXRvcigpO1xyXG4gICAgICAgIGNvbnN0IGVxdWlwbWVudHMgPSBwcm9wcy5lcXVpcG1lbnRzO1xyXG4gICAgICAgIGNvbnN0IHdoZW5FcXVpcG1lbnRTZWxlY3RlZCA9IHByb3BzLndoZW5FcXVpcG1lbnRTZWxlY3RlZDtcclxuICAgICAgICBjb25zdCB3aGVuRXF1aXBtZW50VW5zZWxlY3RlZCA9IHByb3BzLndoZW5FcXVpcG1lbnRVbnNlbGVjdGVkO1xyXG4gICAgICAgIGNvbnN0IGxvYWRpbmdGbGFnID0gcHJvcHMubG9hZGluZ0ZsYWc7XHJcbiAgICAgICAgcmV0dXJuIEVxdWlwbWVudHNTZWxlY3RvclNjcmlwdCh7IGVxdWlwbWVudHMsIGxvYWRpbmdGbGFnLCB0cmFuc2xhdG9yLCB3aGVuRXF1aXBtZW50U2VsZWN0ZWQsIHdoZW5FcXVpcG1lbnRVbnNlbGVjdGVkIH0pO1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVxdWlwbWVudHNTZWxlY3RvclNjcmlwdCh7ZXF1aXBtZW50cywgbG9hZGluZ0ZsYWcsIHRyYW5zbGF0b3IsIHdoZW5FcXVpcG1lbnRTZWxlY3RlZCwgd2hlbkVxdWlwbWVudFVuc2VsZWN0ZWR9KSB7XHJcblxyXG4gICAgbGV0IGNhdGVnb3JpZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIGxldCBzZWFyY2hlciA9IEVxdWlwbWVudHNTZWFyY2goKTtcclxuICAgIGxldCBhbGxFcXVpcG1lbnRzID0gW107XHJcblxyXG4gICAgZXF1aXBtZW50cy5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHNldEVxdWlwbWVudHMoZXF1aXBtZW50cygpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEVxdWlwbWVudHMoZXF1aXBtZW50cykge1xyXG4gICAgICAgIGxldCBhbGxTZWxlY3RhYmxlSXRlbXMgPSBrby51dGlscy51bndyYXBPYnNlcnZhYmxlKGVxdWlwbWVudHMpO1xyXG4gICAgICAgIGxldCBhbGxTZWxlY3RhYmxlRXF1aXBtZW50cyA9IF8ubWFwKGFsbFNlbGVjdGFibGVJdGVtcywgKGl0ZW0pID0+IFNlbGVjdGFibGVFcXVpcG1lbnQoaXRlbSwgd2hlbkVxdWlwbWVudFNlbGVjdGVkLCB3aGVuRXF1aXBtZW50VW5zZWxlY3RlZCkpOyBcclxuICAgICAgICBjbGVhbihhbGxTZWxlY3RhYmxlRXF1aXBtZW50cyk7XHJcbiAgICAgICAgZ3JvdXBFcXVpcG1lbnRzQnlDYXRlZ29yeShhbGxTZWxlY3RhYmxlRXF1aXBtZW50cyk7XHJcbiAgICAgICAgaW5pdFNlYXJjaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKHNlbGVjdGFibGVFcXVpcG1lbnRzKSB7XHJcbiAgICAgICAgYWxsRXF1aXBtZW50cyA9IHNlbGVjdGFibGVFcXVpcG1lbnRzO1xyXG4gICAgICAgIGNhdGVnb3JpZXMucmVtb3ZlQWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3JvdXBFcXVpcG1lbnRzQnlDYXRlZ29yeShlcXVpcG1lbnRzKSB7XHJcbiAgICAgICAgbGV0IGVxdWlwbWVudHNHcm91cGVkQnlDYXRlZ29yeSA9IF8uZ3JvdXBCeShlcXVpcG1lbnRzLCBcImNhdGVnb3J5XCIpO1xyXG4gICAgICAgIF8uZWFjaChlcXVpcG1lbnRzR3JvdXBlZEJ5Q2F0ZWdvcnksIGZ1bmN0aW9uKGVxdWlwbWVudHMsIGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChFcXVpcG1lbnRDYXRlZ29yeShlcXVpcG1lbnRzLCBjYXRlZ29yeSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRTZWFyY2goKSB7XHJcbiAgICAgICAgc2VhcmNoZXIuc2V0RXF1aXBtZW50cyhhbGxFcXVpcG1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bnNlbGVjdEFsbEVxdWlwbWVudHMoKSB7XHJcbiAgICAgICAgXy5lYWNoKGFsbEVxdWlwbWVudHMsICh4KSA9PiB4LnVuc2VsZWN0KCkpO1xyXG4gICAgfSAgICAgICBcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGl0bGU6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiU2hhcmVkRG9tYWluLkVxdWlwbWVudHNcIiksXHJcbiAgICAgICAgICAgIGFsbEVxdWlwbWVudHM6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiU2hhcmVkRG9tYWluLkFsbEl0ZW1zXCIpLFxyXG4gICAgICAgICAgICBzZWFyY2hFcXVpcG1lbnRzOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIlNoYXJlZERvbWFpbi5TZWFyY2hCdXR0b24uVGV4dFwiKSxcclxuICAgICAgICAgICAgbm90QXZhaWxhYmxlRGVzY3JpcHRpb246IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdEF2YWlsYWJsZURlc2NyaXB0aW9uXCIpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGxhYmVsczogZ2V0TGFiZWxzKCksXHJcbiAgICAgICAgY2F0ZWdvcmllcyxcclxuICAgICAgICBsb2FkaW5nRmxhZyxcclxuICAgICAgICB0ZXh0VG9TZWFyY2g6IHNlYXJjaGVyLnRleHRUb1NlYXJjaCxcclxuICAgICAgICBzZWFyY2hSZXN1bHRzOiBzZWFyY2hlci5yZXN1bHRzLFxyXG4gICAgICAgIHNlYXJjaDogc2VhcmNoZXIuc2VhcmNoLFxyXG4gICAgICAgIHVuc2VsZWN0QWxsRXF1aXBtZW50czogdW5zZWxlY3RBbGxFcXVpcG1lbnRzXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBFcXVpcG1lbnRDYXRlZ29yeShlcXVpcG1lbnRzLCBuYW1lKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgaWQ6IF8udW5pcXVlSWQoJ2NhdGVnb3J5XycpLFxyXG4gICAgICAgIGVxdWlwbWVudHNcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVxdWlwbWVudHNTZWFyY2goKSB7XHJcbiAgICBsZXQgdGV4dFRvU2VhcmNoID0ga28ub2JzZXJ2YWJsZSgnJyk7XHJcbiAgICBsZXQgcmVzdWx0cyA9IGtvLm9ic2VydmFibGVBcnJheShbXSk7XHJcbiAgICBsZXQgZWxlbWVudHMgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRFcXVpcG1lbnRzKGVxdWlwbWVudHMpIHtcclxuICAgICAgICByZXN1bHRzLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIGVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgXy5lYWNoKGVxdWlwbWVudHMsIGZ1bmN0aW9uKGVxdWlwbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKGVxdWlwbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VhcmNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoKCkge1xyXG4gICAgICAgIHJlc3VsdHMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkUmVzdWx0cyA9IF8uZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmNvbnRhaW5zKHRleHRUb1NlYXJjaCgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwocmVzdWx0cywgZmlsdGVyZWRSZXN1bHRzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3VsdHMsXHJcbiAgICAgICAgdGV4dFRvU2VhcmNoLFxyXG4gICAgICAgIHNlYXJjaCxcclxuICAgICAgICBzZXRFcXVpcG1lbnRzXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VsZWN0YWJsZUVxdWlwbWVudChzZWxlY3RhYmxlSXRlbSwgd2hlblNlbGVjdGVkLCB3aGVuVW5zZWxlY3RlZCkge1xyXG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGFibGVJdGVtLnNlbGVjdGVkO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdE9yVW5zZWxlY3QoKSB7XHJcbiAgICAgICAgaWYgKGlzU2VsZWN0ZWQoKSkge1xyXG4gICAgICAgICAgICB3aGVuVW5zZWxlY3RlZChzZWxmKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aGVuU2VsZWN0ZWQoc2VsZik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuc2VsZWN0KCkge1xyXG4gICAgICAgIGlzU2VsZWN0ZWQoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzZWxmID0ge1xyXG4gICAgICAgIGlzU2VsZWN0ZWQsXHJcbiAgICAgICAgc2VsZWN0T3JVbnNlbGVjdCxcclxuICAgICAgICB1bnNlbGVjdCxcclxuICAgICAgICBjb2RlOiBzZWxlY3RhYmxlSXRlbS5jb2RlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uV2l0aG91dENvZGU6IHNlbGVjdGFibGVJdGVtLmRlc2NyaXB0aW9uV2l0aG91dENvZGUsXHJcbiAgICAgICAgY2F0ZWdvcnk6IHNlbGVjdGFibGVJdGVtLmNhdGVnb3J5LFxyXG4gICAgICAgIGNvbnRhaW5zOiBzZWxlY3RhYmxlSXRlbS5jb250YWlucyxcclxuICAgICAgICBpc1BhY2thZ2U6IHNlbGVjdGFibGVJdGVtLmlzUGFja2FnZVxyXG4gICAgfTtcclxuICAgIHJldHVybiBzZWxmO1xyXG59IiwiLyogZXNsaW50LWRpc2FibGUgKi8gLy8gQXV0b2dlbmVyYXRlZCB3aXRoIEd1bHAgKHRhc2s6IHBhcnNlLWNvbXBvbmVudHMtdGVtcGxhdGVzKVxuLy8gRG9udCBjaGFuZ2UgdGhpcyBmaWxlLCBjaGFuZ2UgdGhlIC5odG1sIGZpbGUgaW5zdGVhZCBhbmQgcnVuIEd1bHBcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gXCJcXG48c2VhcmNoLXNlbGVjdCBwYXJhbXM9XFxcImxhYmVsOiBsYWJlbHMubGFiZWwsIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBsYWJlbHMucGxhY2Vob2xkZXIsIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuU2VsZWN0ZWQ6IHdoZW5JbnRlcmlvclNlbGVjdGVkXFxcIj5cXG48L3NlYXJjaC1zZWxlY3Q+XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUlzSW1acGJHVWlPaUpET2k5UWNtOXFaV04wY3k5VFNVMUJNaTlPUlZRdlUyRnNaWE12UTI5dVptbG5kWEpoZEc5eUwwTnZibVpwWjNWeVlYUnZjaTVYWldJdlUyTnlhWEIwY3k5emNtTXZaRzl0WVdsdUwybHVkR1Z5YVc5eUxYTmxiR1ZqZEc5eUwybHVkR1Z5YVc5eUxYTmxiR1ZqZEc5eUxYUmxiWEJzWVhSbExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHRkZlE9PSIsIu+7v2ltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2ludGVyaW9yLXNlbGVjdG9yLXRlbXBsYXRlJztcclxuXHJcbmFpZGFDb3JlLkNvbXBvbmVudFJlZ2lzdGVyKCdpbnRlcmlvci1zZWxlY3RvcicsIHtcclxuICAgIHNjcmlwdDogKHByb3BzLCBkZXBlbmRlbmN5UHJvdmlkZXIpID0+IHtcclxuICAgICAgICBjb25zdCB0cmFuc2xhdG9yID0gZGVwZW5kZW5jeVByb3ZpZGVyLmdldFRyYW5zbGF0b3IoKTtcclxuICAgICAgICBjb25zdCBlbmFibGVFdmVudHMgPSBwcm9wcy5lbmFibGVFdmVudHMgfHwga28ub2JzZXJ2YWJsZSh0cnVlKTtcclxuICAgICAgICBjb25zdCB3aGVuSW50ZXJpb3JTZWxlY3RlZCA9IHByb3BzLndoZW5JbnRlcmlvclNlbGVjdGVkIHx8ICgoKSA9PiB7fSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZSgnU2hhcmVkRG9tYWluLlZlaGljbGUuSW50ZXJpb3InKSxcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZSgnU2hhcmVkRG9tYWluLlNlbGVjdFZhbHVlJylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxhYmVsczogZ2V0TGFiZWxzKCksXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXHJcbiAgICAgICAgICAgIHNlbGVjdGVkOiBwcm9wcy5zZWxlY3RlZCxcclxuICAgICAgICAgICAgZW5hYmxlRXZlbnRzLFxyXG4gICAgICAgICAgICB3aGVuSW50ZXJpb3JTZWxlY3RlZFxyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlXHJcbn0pOyIsIi8qIGVzbGludC1kaXNhYmxlICovIC8vIEF1dG9nZW5lcmF0ZWQgd2l0aCBHdWxwICh0YXNrOiBwYXJzZS1jb21wb25lbnRzLXRlbXBsYXRlcylcbi8vIERvbnQgY2hhbmdlIHRoaXMgZmlsZSwgY2hhbmdlIHRoZSAuaHRtbCBmaWxlIGluc3RlYWQgYW5kIHJ1biBHdWxwXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFwiXFxuPCEtLSBrbyBmb3JlYWNoOiBmaWx0ZXJzIC0tPlxcbjxzZWFyY2gtc2VsZWN0IHBhcmFtcz1cXFwibGFiZWw6ICRwYXJlbnQubGFiZWxzLm1vZGVsR3JvdXBMYWJlbCwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICRwYXJlbnQubGFiZWxzLnBsYWNlaG9sZGVyLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBlbmFibGVkLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWRcXFwiPlxcbjwvc2VhcmNoLXNlbGVjdD5cXG48IS0tIC9rbyAtLT5cXG48c2VhcmNoLXNlbGVjdCBwYXJhbXM9XFxcImxhYmVsOiBsYWJlbHMubW9kZWxMYWJlbCwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGxhYmVscy5wbGFjZWhvbGRlciwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucywgXFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZW5hYmxlZCwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkXFxcIj5cXG48L3NlYXJjaC1zZWxlY3Q+XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUlzSW1acGJHVWlPaUpET2k5UWNtOXFaV04wY3k5VFNVMUJNaTlPUlZRdlUyRnNaWE12UTI5dVptbG5kWEpoZEc5eUwwTnZibVpwWjNWeVlYUnZjaTVYWldJdlUyTnlhWEIwY3k5emNtTXZaRzl0WVdsdUwyMXZaR1ZzTFhObGJHVmpkRzl5TDIxdlpHVnNMWE5sYkdWamRHOXlMWFJsYlhCc1lYUmxMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2x0ZGZRPT0iLCLvu79pbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9tb2RlbC1zZWxlY3Rvci10ZW1wbGF0ZSc7XHJcbmltcG9ydCBNb2RlbFNlbGVjdG9yIGZyb20gJy4vc2NyaXB0cy9tb2RlbFNlbGVjdG9yJztcclxuaW1wb3J0IENhdGFsb2dDbGllbnQgZnJvbSAnLi4vLi4vaW5mcmFzdHJ1Y3R1cmUvY2xpZW50cy9jYXRhbG9nQ2xpZW50JztcclxuXHJcbmFpZGFDb3JlLkNvbXBvbmVudFJlZ2lzdGVyKCdtb2RlbC1zZWxlY3RvcicsIHtcclxuICAgIHNjcmlwdDoge1xyXG4gICAgICAgIGNyZWF0ZTogKHByb3BzLCBkZXBlbmRlbmN5UHJvdmlkZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRvciA9IGRlcGVuZGVuY3lQcm92aWRlci5nZXRUcmFuc2xhdG9yKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhdGFsb2dDbGllbnQgPSBDYXRhbG9nQ2xpZW50KGRlcGVuZGVuY3lQcm92aWRlci5nZXRSZXN0Q2xpZW50KCkse30se30sXCJWXCIpO1xyXG4gICAgICAgICAgICBjb25zdCB3aGVuTW9kZWxTZWxlY3RlZCA9IHByb3BzLndoZW5Nb2RlbFNlbGVjdGVkO1xyXG4gICAgICAgICAgICBjb25zdCB3aGVuTW9kZWxVbnNlbGVjdGVkID0gcHJvcHMud2hlbk1vZGVsVW5zZWxlY3RlZDtcclxuICAgICAgICAgICAgY29uc3Qgd2hlbk1vZGVsR3JvdXBTZWxlY3RlZCA9IHByb3BzLndoZW5Nb2RlbEdyb3VwU2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGVsU2VsZWN0ZWQgPSBwcm9wcy5tb2RlbFNlbGVjdGVkO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb2RlbFNlbGVjdG9yU2NyaXB0KHt0cmFuc2xhdG9yLCBjYXRhbG9nQ2xpZW50LCB3aGVuTW9kZWxTZWxlY3RlZCwgd2hlbk1vZGVsVW5zZWxlY3RlZCwgd2hlbk1vZGVsR3JvdXBTZWxlY3RlZCwgbW9kZWxTZWxlY3RlZH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DcmVhdGVkOiAoc2NyaXB0KSA9PiBzY3JpcHQuZ2V0TW9kZWxzKClcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcclxufSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbFNlbGVjdG9yU2NyaXB0KHt0cmFuc2xhdG9yLCBjYXRhbG9nQ2xpZW50LCB3aGVuTW9kZWxTZWxlY3RlZCwgd2hlbk1vZGVsVW5zZWxlY3RlZCwgd2hlbk1vZGVsR3JvdXBTZWxlY3RlZCwgbW9kZWxTZWxlY3RlZH0pIHtcclxuXHJcbiAgICBsZXQgbW9kZWxTZWxlY3RvciA9IE1vZGVsU2VsZWN0b3Iod2hlbk1vZGVsU2VsZWN0ZWQsIHdoZW5Nb2RlbFVuc2VsZWN0ZWQsIHdoZW5Nb2RlbEdyb3VwU2VsZWN0ZWQsIG1vZGVsU2VsZWN0ZWQpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtb2RlbEdyb3VwTGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uVmVoaWNsZS5Nb2RlbEdyb3VwJyksXHJcbiAgICAgICAgICAgIG1vZGVsTGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uVmVoaWNsZS5Nb2RlbCcpLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogdHJhbnNsYXRvci50cmFuc2xhdGUoJ1NoYXJlZERvbWFpbi5TZWxlY3RWYWx1ZScpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRNb2RlbHMoKSB7XHJcbiAgICAgICAgY2F0YWxvZ0NsaWVudC5nZXRNb2RlbHMod2hlbk1vZGVsc1JlY2VpdmVkLCBvbk1vZGVsc0Vycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuTW9kZWxzUmVjZWl2ZWQobW9kZWxzKSB7XHJcbiAgICAgICAgbW9kZWxTZWxlY3Rvci5zZXRNb2RlbHMobW9kZWxzKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk1vZGVsc0Vycm9yKCkge1xyXG4gICAgICAgIG1vZGVsU2VsZWN0b3IuZmlsdGVyc0FscmVhZHlOb3RDcmVhdGVkKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldE1vZGVscyxcclxuICAgICAgICBsYWJlbHM6IGdldExhYmVscygpLFxyXG4gICAgICAgIGZpbHRlcnM6IG1vZGVsU2VsZWN0b3IuZmlsdGVycyxcclxuICAgICAgICBvcHRpb25zOiBtb2RlbFNlbGVjdG9yLm1vZGVsRmlsdGVyLm9wdGlvbnMsXHJcbiAgICAgICAgZW5hYmxlZDogbW9kZWxTZWxlY3Rvci5tb2RlbEZpbHRlci5lbmFibGVkLFxyXG4gICAgICAgIHNlbGVjdGVkOiBtb2RlbFNlbGVjdG9yLm1vZGVsRmlsdGVyLnNlbGVjdGVkLFxyXG4gICAgICAgIHdoZW5Nb2RlbFNlbGVjdGVkXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxGaWx0ZXIobmFtZSwgaW5pdGlhbE9wdGlvbnMsIGNhbGxiYWNrRmlsdGVyQ2hhbmdlLCBtb2RlbFNlbGVjdGVkKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWQgPSBtb2RlbFNlbGVjdGVkIHx8IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGxldCBvcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KGluaXRpYWxPcHRpb25zKTtcclxuXHJcbiAgICBzZWxlY3RlZC5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgY2FsbGJhY2tGaWx0ZXJDaGFuZ2UobmFtZSwgdmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0KHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRPcHRpb24gPSBfLmZpbmQob3B0aW9ucygpLCBmdW5jdGlvbiAob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBfLmlzRXF1YWwob3B0aW9uLHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxlY3RlZChzZWxlY3RlZE9wdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIG9wdGlvbnMsXHJcbiAgICAgICAgc2VsZWN0ZWQsXHJcbiAgICAgICAgZW5hYmxlZDoga28uY29tcHV0ZWQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucygpLmxlbmd0aCAhPSAwO1xyXG4gICAgICAgIH0pLFxyXG5cclxuICAgICAgICBzZWxlY3RWYWx1ZTogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZE9wdGlvbiA9IF8uZmluZChvcHRpb25zKCksIGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb24uZGVzY3JpcHRpb24gPT0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzZWxlY3RlZChzZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgc2V0TmV3T3B0aW9uczogZnVuY3Rpb24gKG5ld09wdGlvbnMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5yZW1vdmVBbGwoKTtcclxuICAgICAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKG9wdGlvbnMsIG5ld09wdGlvbnMpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGlzTW9kZWxGaWx0ZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5hbWUgPT09IFwiTW9kZWxvXCI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZWxlY3RcclxuICAgIH07XHJcbn0iLCJpbXBvcnQgTW9kZWxGaWx0ZXIgZnJvbSBcIi4vbW9kZWxGaWx0ZXJcIjtcclxuaW1wb3J0IE1vZGVsc0NhdGFsb2cgZnJvbSBcIi4vbW9kZWxzQ2F0YWxvZ1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxTZWxlY3Rvcih3aGVuTW9kZWxTZWxlY3RlZCwgd2hlbk1vZGVsVW5zZWxlY3RlZCwgd2hlbk1vZGVsR3JvdXBTZWxlY3RlZCwgbW9kZWxTZWxlY3RlZCkge1xyXG4gICAgbGV0IEZJTFRFUl9OT1RfRk9VTkQgPSAtMTtcclxuICAgIGxldCBmaWx0ZXJzQWxyZWFkeU5vdENyZWF0ZWQgPSBrby5vYnNlcnZhYmxlKHRydWUpO1xyXG5cclxuICAgIGxldCBjYXRhbG9nO1xyXG4gICAgbGV0IGNhdGVnb3J5RmlsdGVycyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG4gICAgbGV0IG1vZGVsRmlsdGVyID0gTW9kZWxGaWx0ZXIoXCJNb2RlbG9cIiwgW10sIHdoZW5GaWx0ZXJDaGFuZ2VkLCBtb2RlbFNlbGVjdGVkKTtcclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuRmlsdGVyQ2hhbmdlZChuYW1lLCBzZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKHNlbGVjdGVkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHdoZW5Nb2RlbFNlbGVjdGVkKHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoZW5Nb2RlbFVuc2VsZWN0ZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHVuc2VsZWN0KCkge1xyXG4gICAgICAgIG1vZGVsRmlsdGVyLnNlbGVjdFZhbHVlKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRmlsdGVycyhtb2RlbHMpIHtcclxuICAgICAgICBjYXRhbG9nID0gTW9kZWxzQ2F0YWxvZyhtb2RlbHMpO1xyXG4gICAgICAgIGxldCBjYXRlZ29yaWVzID0gY2F0YWxvZy5nZXROYW1lc09mQ2F0ZWdvcmllcygpO1xyXG5cclxuICAgICAgICBfLmZvckVhY2goY2F0ZWdvcmllcywgZnVuY3Rpb24gKGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVycy5wdXNoKE1vZGVsRmlsdGVyKGNhdGVnb3J5LCBbXSwgd2hlbkZpbHRlckNoYW5nZVZhbHVlKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvYWRWYWx1ZXNGb3JGaXJzdGZpbHRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRWYWx1ZXNGb3JGaXJzdGZpbHRlcigpIHtcclxuICAgICAgICBsZXQgZmlyc3RGaWx0ZXIgPSBjYXRlZ29yeUZpbHRlcnMoKVswXTtcclxuICAgICAgICBsZXQgb3B0aW9ucyA9IGNhdGFsb2cudmFsdWVzRm9yQ2F0ZWdvcnkoZmlyc3RGaWx0ZXIubmFtZSk7XHJcbiAgICAgICAgZmlyc3RGaWx0ZXIuc2V0TmV3T3B0aW9ucyhvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuRmlsdGVyQ2hhbmdlVmFsdWUoZmlsdGVyTmFtZSwgc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKHNlbGVjdGVkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGNsZWFyTmV4dEZpbHRlcnMoZmlsdGVyTmFtZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0T3B0aW9uc0Zvck5leHRGaWx0ZXIoZmlsdGVyTmFtZSwgc2VsZWN0ZWRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldE9wdGlvbnNGb3JOZXh0RmlsdGVyKGZpbHRlciwgc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIGxldCBuZXh0RmlsdGVyID0gZmluZE5leHRGaWx0ZXIoZmlsdGVyKTtcclxuICAgICAgICBsZXQgZmlsdGVyZWRPcHRpb25zO1xyXG4gICAgICAgIGlmIChuZXh0RmlsdGVyLmlzTW9kZWxGaWx0ZXIoKSkge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZE9wdGlvbnMgPSBjYXRhbG9nLmdldE1vZGVscyhmaWx0ZXIsIHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgICAgICB3aGVuTW9kZWxHcm91cFNlbGVjdGVkKHNlbGVjdGVkVmFsdWUuaWQsIG5leHRGaWx0ZXIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkT3B0aW9ucyA9IGNhdGFsb2cudmFsdWVzRm9yQ2F0ZWdvcnkobmV4dEZpbHRlci5uYW1lLCBzZWxlY3RlZFZhbHVlKTtcclxuICAgICAgICAgICAgY2xlYXJOZXh0RmlsdGVycyhuZXh0RmlsdGVyLm5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbmV4dEZpbHRlci5zZXROZXdPcHRpb25zKGZpbHRlcmVkT3B0aW9ucyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYXJOZXh0RmlsdGVycyhmaWx0ZXJOYW1lKSB7XHJcbiAgICAgICAgbGV0IGZpbHRlckluZGV4ID0gaW5kZXhPZkZpbHRlcihmaWx0ZXJOYW1lKTtcclxuICAgICAgICBpZiAoZmlsdGVySW5kZXggPT0gRklMVEVSX05PVF9GT1VORCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gZmlsdGVySW5kZXggKyAxOyBpIDwgY2F0ZWdvcnlGaWx0ZXJzKCkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXJzKClbaV0uc2V0TmV3T3B0aW9ucyhbXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBtb2RlbEZpbHRlci5zZXROZXdPcHRpb25zKFtdKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbmRleE9mRmlsdGVyKGZpbHRlck5hbWUpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3J5RmlsdGVycygpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlcnMoKVtpXS5uYW1lID09PSBmaWx0ZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gRklMVEVSX05PVF9GT1VORDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kTmV4dEZpbHRlcihmaWx0ZXIpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3J5RmlsdGVycygpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlcnMoKVtpXS5uYW1lID09PSBmaWx0ZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpICsgMSA9PT0gY2F0ZWdvcnlGaWx0ZXJzKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZGVsRmlsdGVyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlGaWx0ZXJzKClbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldE1vZGVscyhtb2RlbHMpIHtcclxuICAgICAgICBjcmVhdGVGaWx0ZXJzKG1vZGVscyk7XHJcbiAgICAgICAgZmlsdGVyc0FscmVhZHlOb3RDcmVhdGVkKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RNb2RlbChtb2RlbElkKSB7XHJcbiAgICAgICAgbGV0IG1vZGVsID0gY2F0YWxvZy5nZXRNb2RlbChtb2RlbElkKTtcclxuXHJcbiAgICAgICAgXy5mb3JFYWNoKGNhdGVnb3J5RmlsdGVycygpLCAoY2F0ZWdvcnlGaWx0ZXIpPT57XHJcbiAgICAgICAgICAgIGNhdGVnb3J5RmlsdGVyLnNlbGVjdChtb2RlbC5jYXRlZ29yaWVzW2NhdGVnb3J5RmlsdGVyLm5hbWVdKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbW9kZWxGaWx0ZXIuc2VsZWN0KG1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGZpbHRlcnM6IGNhdGVnb3J5RmlsdGVycyxcclxuICAgICAgICBtb2RlbEZpbHRlcixcclxuICAgICAgICBmaWx0ZXJzQWxyZWFkeU5vdENyZWF0ZWQsXHJcbiAgICAgICAgc2V0TW9kZWxzLFxyXG4gICAgICAgIHVuc2VsZWN0LFxyXG4gICAgICAgIHNlbGVjdE1vZGVsXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxzQ2F0YWxvZyhtb2RlbHMpIHtcclxuICAgIGFkZEhpZXJhcmNoaWNhbElkc1RvTW9kZWxzKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkSGllcmFyY2hpY2FsSWRzVG9Nb2RlbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKG1vZGVscywgYWRkSGllcmFyY2hpY2FsSWRzVG9PbmVNb2RlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkSGllcmFyY2hpY2FsSWRzVG9PbmVNb2RlbChtb2RlbCkge1xyXG4gICAgICAgIGxldCBwYXJlbnRJZCA9IFwiXCI7XHJcbiAgICAgICAgXy5mb3JPd24obW9kZWwuY2F0ZWdvcmllcywgZnVuY3Rpb24oY2F0ZWdvcnkpIHtcclxuICAgICAgICAgICAgY2F0ZWdvcnkuSGllcmFyY2hpY2FsSWQgPSBwYXJlbnRJZCArIFwiX1wiICsgY2F0ZWdvcnkuaWQ7XHJcbiAgICAgICAgICAgIHBhcmVudElkID0gY2F0ZWdvcnkuSGllcmFyY2hpY2FsSWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TmFtZXNPZkNhdGVnb3JpZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ua2V5cyhtb2RlbHNbMF0uY2F0ZWdvcmllcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdmFsdWVzRm9yQ2F0ZWdvcnkoY2F0ZWdvcnksIHBhcmVudEZpbHRlcikge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZE1vZGVscztcclxuXHJcbiAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQocGFyZW50RmlsdGVyKSkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZE1vZGVscyA9IG1vZGVscztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZWxlY3RlZE1vZGVscyA9IF8obW9kZWxzKS5zZWxlY3QoZnVuY3Rpb24obW9kZWwpIHtcclxuICAgICAgICAgICAgICAgIGxldCBtb2RlbEhpZXJhcmNoaWNhbElkID0gbW9kZWwuY2F0ZWdvcmllc1tjYXRlZ29yeV0uSGllcmFyY2hpY2FsSWQ7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXyhtb2RlbEhpZXJhcmNoaWNhbElkKS5zdGFydHNXaXRoKHBhcmVudEZpbHRlci5IaWVyYXJjaGljYWxJZCk7XHJcbiAgICAgICAgICAgIH0pLnZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gXyhzZWxlY3RlZE1vZGVscykubWFwKGZ1bmN0aW9uKG1vZGVsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2RlbC5jYXRlZ29yaWVzW2NhdGVnb3J5XTtcclxuICAgICAgICB9KS51bmlxdWUoXCJpZFwiKS52YWx1ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE1vZGVscyhjYXRlZ29yeSwgZmlsdGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIF8obW9kZWxzKS5zZWxlY3QoZnVuY3Rpb24obW9kZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLmNhdGVnb3JpZXNbY2F0ZWdvcnldLkhpZXJhcmNoaWNhbElkID09IGZpbHRlci5IaWVyYXJjaGljYWxJZDtcclxuICAgICAgICB9KS52YWx1ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE1vZGVsKG1vZGVsSWQpe1xyXG4gICAgICAgIHJldHVybiBfLmZpbmQobW9kZWxzLCAoeCkgPT4geC5rZXkuaWQgPT0gbW9kZWxJZCk7ICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldE5hbWVzT2ZDYXRlZ29yaWVzOiBnZXROYW1lc09mQ2F0ZWdvcmllcyxcclxuICAgICAgICB2YWx1ZXNGb3JDYXRlZ29yeTogdmFsdWVzRm9yQ2F0ZWdvcnksXHJcbiAgICAgICAgZ2V0TW9kZWxzLFxyXG4gICAgICAgIGdldE1vZGVsXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2F0YWxvZ0NsaWVudChyZXN0Q2xpZW50LCBlcnJvclB1Ymxpc2hlciwgZXJyb3JUaXRsZXMsIGJyYW5kKSB7XHJcbiAgICBjb25zdCBjYXRhbG9nQmFzZVVybCA9IGAvYnJhbmRzLyR7YnJhbmR9YDtcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXRNb2RlbHMoY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGNhdGFsb2dCYXNlVXJsICsgYC9tb2RlbHNgO1xyXG4gICAgICAgICAgICByZXN0Q2xpZW50LmdldChcclxuICAgICAgICAgICAgICAgIHVybCwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhdGFsb2dFcnJvciwgeGhyLCBlcnJvckNhbGxiYWNrKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0Q2F0YWxvZyhtb2RlbCwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGNhdGFsb2dCYXNlVXJsICsgYC9tb2RlbHMvJHttb2RlbH0vY2F0YWxvZ2A7XHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQuZ2V0KHVybCwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhdGFsb2dFcnJvciwgeGhyLCBlcnJvckNhbGxiYWNrKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0TW9kZWxzRm9yTW9kZWxHcm91cChtb2RlbEdyb3VwLCBmaWx0ZXIsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKXtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGNhdGFsb2dCYXNlVXJsICsgYC9tb2RlbEdyb3VwLyR7bW9kZWxHcm91cH1gO1xyXG4gICAgICAgICAgICByZXN0Q2xpZW50LmdldChcclxuICAgICAgICAgICAgICAgIHVybCwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhmaWx0ZXIsIHJlc3VsdCksXHJcbiAgICAgICAgICAgICAgICAoeGhyLCBlcnJvciwgZXJyb3JUeXBlKSA9PiBlcnJvclB1Ymxpc2hlci5wdWJsaXNoKGVycm9yVHlwZSwgZXJyb3JUaXRsZXMuQ2F0YWxvZ0Vycm9yLCB4aHIsIGVycm9yQ2FsbGJhY2spXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbmZpZ3VyYXRpb25DbGllbnQocmVzdENsaWVudCwgZXJyb3JQdWJsaXNoZXIsIGVycm9yVGl0bGVzLCBicmFuZCkge1xyXG4gICAgY29uc3QgQ2hhbmdlQ29sb3IgPSBcIkNoYW5nZUNvbG9yXCI7XHJcbiAgICBjb25zdCBDaGFuZ2VJbnRlcmlvciA9IFwiQ2hhbmdlSW50ZXJpb3JcIjtcclxuICAgIGNvbnN0IENoYW5nZUVxdWlwbWVudHMgPSBcIkNoYW5nZUVxdWlwbWVudHNcIjtcclxuICAgIGNvbnN0IE5ld0NvbmZpZ3VyYXRpb24gPSBcIk5ld0NvbmZpZ3VyYXRpb25cIjtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aW9uVHlwZShhY3Rpb24peyAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSXNDaGFuZ2VDb2xvcjogKCkgPT4gKGFjdGlvbiA9PSBDaGFuZ2VDb2xvciksIFxyXG4gICAgICAgICAgICBJc0NoYW5nZUludGVyaW9yOiAoKSA9PiAoYWN0aW9uID09IENoYW5nZUludGVyaW9yKSxcclxuICAgICAgICAgICAgSXNDaGFuZ2VFcXVpcG1lbnRzOiAoKSA9PiAoYWN0aW9uID09IENoYW5nZUVxdWlwbWVudHMpLFxyXG4gICAgICAgICAgICBJc05ld0NvbmZpZ3VyYXRpb246ICgpID0+IChhY3Rpb24gPT0gTmV3Q29uZmlndXJhdGlvbilcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYWRkUGFja2FnZShtb2RlbENvbmZpZ3VyYXRpb24sIGNvbWJpbmF0aW9uLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgY29tYmluYXRpb25DaG9pY2VQYXJhbSA9IF8ucGx1Y2soY29tYmluYXRpb24uaXRlbXMsIFwiY29kZVwiKS5qb2luKCdfJyk7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgL2NvbmZpZ3VyYXRpb24vcGFja2FnZS8ke2NvbWJpbmF0aW9uLnJvb3QuY29kZX0/Y29tYmluYXRpb25DaG9pY2U9JHtjb21iaW5hdGlvbkNob2ljZVBhcmFtfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnB1dCh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwge30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFNlbGVjdENvbWJpbmF0aW9uLCB4aHIpXHJcbiAgICAgICAgICAgICk7XHRcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWRkUGFja2FnZVdpdGhvdXRDb21iaW5hdGlvbihtb2RlbENvbmZpZ3VyYXRpb24sIGVxdWlwbWVudENvZGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSAgYC9jb25maWd1cmF0aW9uL3BhY2thZ2UvJHtlcXVpcG1lbnRDb2RlfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnB1dCh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwge30sIFxyXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2socmVzdWx0LCBhY3Rpb25UeXBlKENoYW5nZUVxdWlwbWVudHMpKSxcclxuICAgICAgICAgICAgICAgICh4aHIsIGVycm9yLCBlcnJvclR5cGUpID0+IGVycm9yUHVibGlzaGVyLnB1Ymxpc2goZXJyb3JUeXBlLCBlcnJvclRpdGxlcy5DYW5ub3RTZWxlY3RFcXVpcG1lbnQsIHhocilcclxuICAgICAgICAgICAgKTtcdFx0XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmVQYWNrYWdlKG1vZGVsQ29uZmlndXJhdGlvbiwgZXF1aXBtZW50Q29kZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9ICBgL2NvbmZpZ3VyYXRpb24vcGFja2FnZS8ke2VxdWlwbWVudENvZGV9YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQucmVtb3ZlKHVybCwge2NvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSl9LCBcclxuICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKHJlc3VsdCwgYWN0aW9uVHlwZShDaGFuZ2VFcXVpcG1lbnRzKSksXHJcbiAgICAgICAgICAgICAgICAoeGhyLCBlcnJvciwgZXJyb3JUeXBlKSA9PiBlcnJvclB1Ymxpc2hlci5wdWJsaXNoKGVycm9yVHlwZSwgZXJyb3JUaXRsZXMuQ2Fubm90VW5zZWxlY3QsIHhocilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFkZEVxdWlwbWVudChtb2RlbENvbmZpZ3VyYXRpb24sIGNvbWJpbmF0aW9uLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgY29tYmluYXRpb25DaG9pY2VQYXJhbSA9IF8ucGx1Y2soY29tYmluYXRpb24uaXRlbXMsIFwiY29kZVwiKS5qb2luKCdfJyk7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSAgYC9jb25maWd1cmF0aW9uL2VxdWlwbWVudC8ke2NvbWJpbmF0aW9uLnJvb3QuY29kZX0/Y29tYmluYXRpb25DaG9pY2U9JHtjb21iaW5hdGlvbkNob2ljZVBhcmFtfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnB1dCh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwge30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFNlbGVjdENvbWJpbmF0aW9uLCB4aHIpXHJcbiAgICAgICAgICAgICk7XHRcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWRkRXF1aXBtZW50V2l0aG91dENvbWJpbmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgZXF1aXBtZW50Q29kZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9ICBgL2NvbmZpZ3VyYXRpb24vZXF1aXBtZW50LyR7ZXF1aXBtZW50Q29kZX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5wdXQodXJsLCB7Y29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkobW9kZWxDb25maWd1cmF0aW9uLnRvSnNvbigpKX0sIHt9LFxyXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2socmVzdWx0LCBhY3Rpb25UeXBlKENoYW5nZUVxdWlwbWVudHMpKSxcclxuICAgICAgICAgICAgICAgICh4aHIsIGVycm9yLCBlcnJvclR5cGUpID0+IGVycm9yUHVibGlzaGVyLnB1Ymxpc2goZXJyb3JUeXBlLCBlcnJvclRpdGxlcy5DYW5ub3RTZWxlY3RFcXVpcG1lbnQsIHhocilcclxuICAgICAgICAgICAgKTtcdFx0XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmVFcXVpcG1lbnQobW9kZWxDb25maWd1cmF0aW9uLCBlcXVpcG1lbnRDb2RlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gIGAvY29uZmlndXJhdGlvbi9lcXVpcG1lbnQvJHtlcXVpcG1lbnRDb2RlfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnJlbW92ZSh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFVuc2VsZWN0LCB4aHIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjaGFuZ2VDb2xvcihtb2RlbENvbmZpZ3VyYXRpb24sIGNvbWJpbmF0aW9uLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgY29tYmluYXRpb25DaG9pY2VQYXJhbSA9IF8ucGx1Y2soY29tYmluYXRpb24uaXRlbXMsIFwiY29kZVwiKS5qb2luKCdfJyk7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgL2NvbmZpZ3VyYXRpb24vY29sb3IvJHtjb21iaW5hdGlvbi5yb290LmNvZGV9P2NvbWJpbmF0aW9uQ2hvaWNlPSR7Y29tYmluYXRpb25DaG9pY2VQYXJhbX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5wdXQodXJsLCB7Y29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkobW9kZWxDb25maWd1cmF0aW9uLnRvSnNvbigpKX0sIHt9LFxyXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2socmVzdWx0LCBhY3Rpb25UeXBlKENoYW5nZUNvbG9yKSksXHJcbiAgICAgICAgICAgICAgICAoeGhyLCBlcnJvciwgZXJyb3JUeXBlKSA9PiBlcnJvclB1Ymxpc2hlci5wdWJsaXNoKGVycm9yVHlwZSwgZXJyb3JUaXRsZXMuQ2Fubm90Q2hhbmdlQ29sb3IsIHhociwgZXJyb3JDYWxsYmFjaylcclxuICAgICAgICAgICAgKTtcdFx0XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmVDb2xvcihtb2RlbENvbmZpZ3VyYXRpb24sIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgL2NvbmZpZ3VyYXRpb24vY29sb3IvYDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQucmVtb3ZlKHVybCwge2NvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSl9LCBcclxuICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKHJlc3VsdCwgYWN0aW9uVHlwZShDaGFuZ2VDb2xvcikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENoYW5nZUNvbG9yLCB4aHIpXHJcbiAgICAgICAgICAgICk7XHRcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlQ29sb3JXaXRob3V0Q29tYmluYXRpb24obW9kZWxDb25maWd1cmF0aW9uLCBjb2xvckNvZGUsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgL2NvbmZpZ3VyYXRpb24vY29sb3IvJHtjb2xvckNvZGV9YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQucHV0KHVybCwge2NvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSl9LCB7fSxcclxuICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKHJlc3VsdCwgYWN0aW9uVHlwZShDaGFuZ2VDb2xvcikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENoYW5nZUNvbG9yLCB4aHIsIGVycm9yQ2FsbGJhY2spXHJcbiAgICAgICAgICAgICk7XHRcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlSW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCBjb21iaW5hdGlvbiwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IGNvbWJpbmF0aW9uQ2hvaWNlUGFyYW0gPSBfLnBsdWNrKGNvbWJpbmF0aW9uLml0ZW1zLCBcImNvZGVcIikuam9pbignXycpO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gYC9jb25maWd1cmF0aW9uL2ludGVyaW9yLyR7Y29tYmluYXRpb24ucm9vdC5jb2RlfT9jb21iaW5hdGlvbkNob2ljZT0ke2NvbWJpbmF0aW9uQ2hvaWNlUGFyYW19YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQucHV0KHVybCwge2NvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSl9LCB7fSxcclxuICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKHJlc3VsdCwgYWN0aW9uVHlwZShDaGFuZ2VJbnRlcmlvcikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENoYW5nZUludGVyaW9yLCB4aHIpXHJcbiAgICAgICAgICAgICk7XHRcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmVtb3ZlSW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gYC9jb25maWd1cmF0aW9uL2ludGVyaW9yL2A7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnJlbW92ZSh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlSW50ZXJpb3IpKSxcclxuICAgICAgICAgICAgICAgICh4aHIsIGVycm9yLCBlcnJvclR5cGUpID0+IGVycm9yUHVibGlzaGVyLnB1Ymxpc2goZXJyb3JUeXBlLCBlcnJvclRpdGxlcy5DYW5ub3RDaGFuZ2VJbnRlcmlvciwgeGhyKVxyXG4gICAgICAgICAgICApO1x0XHRcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoYW5nZUludGVyaW9yV2l0aG91dENvbWJpbmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgaW50ZXJpb3JDb2RlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gYC9jb25maWd1cmF0aW9uL2ludGVyaW9yLyR7aW50ZXJpb3JDb2RlfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnB1dCh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwge30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlSW50ZXJpb3IpKSxcclxuICAgICAgICAgICAgICAgICh4aHIsIGVycm9yLCBlcnJvclR5cGUpID0+IGVycm9yUHVibGlzaGVyLnB1Ymxpc2goZXJyb3JUeXBlLCBlcnJvclRpdGxlcy5DYW5ub3RDaGFuZ2VJbnRlcmlvciwgeGhyLCBlcnJvckNhbGxiYWNrKVxyXG4gICAgICAgICAgICApO1x0XHRcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNyZWF0ZUNvbmZpZ3VyYXRpb24obW9kZWwsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgL2JyYW5kcy8ke2JyYW5kfS9tb2RlbHMvJHttb2RlbC5jb2RlfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnBvc3QodXJsLCB7fSx7fSxcclxuICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKHJlc3VsdCwgYWN0aW9uVHlwZShOZXdDb25maWd1cmF0aW9uKSksXHJcbiAgICAgICAgICAgICAgICAoeGhyLCBlcnJvciwgZXJyb3JUeXBlKSA9PiBlcnJvclB1Ymxpc2hlci5wdWJsaXNoKGVycm9yVHlwZSwgZXJyb3JUaXRsZXMuQ2Fubm90Q3JlYXRlQ29uZmlndXJhdGlvbiwgeGhyLCBlcnJvckNhbGxiYWNrKVxyXG4gICAgICAgICAgICApO1x0XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjcmVhdGVDb25maWd1cmF0aW9uV2l0aENvbWJpbmF0aW9uKGNvbWJpbmF0aW9uLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgY29tYmluYXRpb25DaG9pY2VQYXJhbSA9IF8ucGx1Y2soY29tYmluYXRpb24uaXRlbXMsIFwiY29kZVwiKS5qb2luKCdfJyk7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgL2JyYW5kcy8ke2JyYW5kfS9tb2RlbHMvJHtjb21iaW5hdGlvbi5yb290LmNvZGV9P2NvbWJpbmF0aW9uQ2hvaWNlPSR7Y29tYmluYXRpb25DaG9pY2VQYXJhbX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5wb3N0KHVybCwge30se30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoTmV3Q29uZmlndXJhdGlvbikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENyZWF0ZUNvbmZpZ3VyYXRpb24sIHhociwgZXJyb3JDYWxsYmFjaylcclxuICAgICAgICAgICAgKTtcdFx0XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsIu+7v2ltcG9ydCBDb25maWd1cmF0b3IgZnJvbSBcIi4vZG9tYWluL2NvbmZpZ3VyYXRvci9jb25maWd1cmF0b3JcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHBvcnRBcGkoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIENvbmZpZ3VyYXRvclxyXG4gICAgfTtcclxufVxyXG5cclxudmFyIGFpZGFDb25maWd1cmF0b3IgPSByZXF1aXJlKCdhaWRhLWNvbmZpZ3VyYXRvcicpLmV4cG9ydEFwaSgpO1xyXG53aW5kb3cuYWlkYUNvbmZpZ3VyYXRvciA9IGFpZGFDb25maWd1cmF0b3I7Il19
