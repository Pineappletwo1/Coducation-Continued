import ComponentRegister from '../../componentRegister';
import template from './search-select-top-template';

ComponentRegister('search-select-top', {
    script: (props, dependencyProvider) => {
        const defaultValue = props.defaultValue;
        const values = props.values;
        const translator = dependencyProvider.getTranslator();
        const callBack = props.onChange;

        return SearchSelectTop({ defaultValue, values, translator, callBack });
    },
    template: template
});

export default function SearchSelectTop({ defaultValue, values,  translator, callBack }) {
    const value = ko.observable(defaultValue);
    const label = translator.translate('SharedDomain.ShowResults.Label');

    function onChange(){
        callBack(value());
    }

    return {
        values,
        value,
        label,
        onChange
    };
}