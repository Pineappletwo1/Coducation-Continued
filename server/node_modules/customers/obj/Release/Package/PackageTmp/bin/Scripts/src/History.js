export default function History() {

    function add(filters) {
        window.history.pushState(undefined, '', currentUrl(filters));
    }
    
    function back(defaultUrl){
        if (document.referrer == "") {
            window.location = defaultUrl;
        } else {
            window.location = document.referrer;
        }
    }

    function currentUrl(filters) {
        return document.location.origin + document.location.pathname + '?' + $.param(filters);
    }

    return {
        add,
        currentUrl,
        back
    };
}