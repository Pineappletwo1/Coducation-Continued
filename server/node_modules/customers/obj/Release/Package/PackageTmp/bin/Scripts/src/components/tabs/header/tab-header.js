import ComponentRegister from '../../../componentRegister';
import template from "./tab-header-template";

ComponentRegister('tab-header', {
    script: (props) => {
        const topLabel = props.topLabel || ko.observable('');
        return TabHeader(props.id, props.title, topLabel, props.tabs);
    },
    template: template
});

export default function TabHeader(id, title, topLabel, tabs) {
    const topLabelVisible = ko.computed(() => { return topLabel() != ''; });
    function isEnabled() {
        return tabs.isTabEnabled(id);
    }

    function isActive() {
        return id == tabs.currentTab();
    }

    function changeToActive() {
        if (!isEnabled()) return;
        tabs.currentTab(id);
    }

    return {
        isEnabled,
        isActive,
        changeToActive,
        title,
        topLabel,
        topLabelVisible
    };
}