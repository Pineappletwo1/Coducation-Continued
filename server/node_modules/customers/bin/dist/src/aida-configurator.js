require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
                        value: true
});
exports["default"] = "\n<search-select params=\"label: labels.label, \n                        placeholder: labels.placeholder, \n                        options: options, \n                        selected: selected,\n                        whenSelected: whenColorSelected\">\n</search-select>";
module.exports = exports["default"];

},{}],2:[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _colorSelectorTemplate = require('./color-selector-template');

var _colorSelectorTemplate2 = _interopRequireDefault(_colorSelectorTemplate);

aidaCore.ComponentRegister('color-selector', {
    script: function script(props, dependencyProvider) {
        var translator = dependencyProvider.getTranslator();
        var enableEvents = props.enableEvents || ko.observable(true);
        var whenColorSelected = props.whenColorSelected || function () {};

        function getLabels() {
            return {
                label: translator.translate('SharedDomain.Vehicle.Color'),
                placeholder: translator.translate('SharedDomain.SelectValue')
            };
        }

        return {
            labels: getLabels(),
            options: props.options,
            selected: props.selected,
            enableEvents: enableEvents,
            whenColorSelected: whenColorSelected
        };
    },
    template: _colorSelectorTemplate2['default']
});

},{"./color-selector-template":1}],3:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = "\n<div data-backdrop=\"static\" data-keyboard=\"false\" data-bind=\"modal: {\n                    visible: visible,\n                    header: { name: headerTemplate, data: { headerLabel: labels.label }},\n                    body: { name: 'combinations_selector', data: { choices: choices }}\n                }\">\n</div>\n\n<script type=\"text/html\" id=\"header_without_close\">\n    <h3 data-bind=\"text: headerLabel\"></h3>\n</script>\n\n<script type=\"text/html\" id=\"header_with_close\">\n    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">Ã—</button>\n    <h3 data-bind=\"text: headerLabel\"></h3>\n</script>\n\n<script type=\"text/html\" id=\"combinations_selector\">\n    <div data-bind=\"foreach: choices\">\n        <div class=\"selectablebox\" data-bind=\"click: select\" style=\"margin: 5px\">\n            <ul data-bind=\"foreach: items\">\n                <li data-bind=\"text: description\"></li>\n            </ul>\n        </div>\n    </div>\n</script>";
module.exports = exports["default"];

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationSelectorScript;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combinationSelectorTemplate = require('./combination-selector-template');

var _combinationSelectorTemplate2 = _interopRequireDefault(_combinationSelectorTemplate);

aidaCore.ComponentRegister('combination-selector', {
    script: {
        create: function create(props, dependencyProvider) {
            var params = {
                visible: props.visible,
                isSelectionMandatory: props.isSelectionMandatory || false,
                options: props.options,
                translator: dependencyProvider.getTranslator(),
                whenSelected: props.whenSelected || function () {}
            };
            return new CombinationSelectorScript(params);
        }
    },
    template: _combinationSelectorTemplate2['default']
});

function CombinationSelectorScript(_ref) {
    var visible = _ref.visible;
    var isSelectionMandatory = _ref.isSelectionMandatory;
    var options = _ref.options;
    var translator = _ref.translator;
    var whenSelected = _ref.whenSelected;

    var currentCombinationSelected = undefined;
    var choices = ko.observableArray([]);
    var headerTemplate = ko.observable(getHeader());

    visible.subscribe(function () {
        if (visible()) {
            initialize();
        } else {
            whenSelected(currentCombinationSelected);
        }
    });

    function whenCombinationSelected(combination) {
        currentCombinationSelected = combination;
        visible(false);
    }

    function initialize() {
        headerTemplate(getHeader());
        currentCombinationSelected = undefined;
        choices.removeAll();
        _.each(options(), function (option) {
            return option.whenSelected(whenCombinationSelected);
        });
        ko.utils.arrayPushAll(choices, options());
    }

    function getHeader() {
        return ko.unwrap(isSelectionMandatory) ? 'header_without_close' : 'header_with_close';
    }

    function getLabels() {
        return {
            label: translator.translate("Configurator.CombinationSelector.Header")
        };
    }

    return {
        visible: visible,
        headerTemplate: headerTemplate,
        choices: choices,
        initialize: initialize,
        labels: getLabels()
    };
}

module.exports = exports['default'];

},{"./combination-selector-template":3}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ColorConfigurator;

function ColorConfigurator(whenColorIsSelected) {

    var colorOptions = ko.observableArray([]);
    var colorSelected = ko.observable();

    colorSelected.subscribe(function () {
        whenColorIsSelected(colorSelected());
    });

    function initializeSelector(colors) {
        colorOptions.removeAll();
        ko.utils.arrayPushAll(colorOptions, colors);
        colorSelected(undefined);
    }

    function setOptionsForSelectedInterior(modelConfiguration, catalog) {
        if (!modelConfiguration.hasInterior()) {
            colorOptions(catalog.colors);
        } else {
            colorOptions(catalog.compatibleColorsWith(modelConfiguration.configuredInterior().code));
        }
    }

    return {
        options: colorOptions,
        selected: colorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedInterior: setOptionsForSelectedInterior
    };
}

module.exports = exports["default"];

},{}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = Combination;

function Combination(root, items, dialogPublisher, translator) {
    var whenSelectedCallback = function whenSelectedCallback() {};

    function select() {
        if (anyEquipmentIsNotInCatalog()) {
            dialogPublisher.error({ title: translator.translate("Configurator.AnyEquipmentIsNotInCatalog.Error") });
            return;
        }
        whenSelectedCallback(self);
    }

    function anyEquipmentIsNotInCatalog() {
        return _.find(items, function (x) {
            return !x.isInCatalog();
        }) != undefined;
    }

    function selectItems() {
        root.selected(true);
        _.each(items, function (x) {
            return x.selected(true);
        });
    }

    function whenSelected(callback) {
        whenSelectedCallback = callback;
    }

    var self = {
        root: root,
        items: items,
        select: select,
        whenSelected: whenSelected,
        selectItems: selectItems
    };

    return self;
}

module.exports = exports["default"];

},{}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationSelectorBindings;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combinationsBuilder = require('./combinationsBuilder');

var _combinationsBuilder2 = _interopRequireDefault(_combinationsBuilder);

function CombinationSelectorBindings(dialogPublisher, translator) {

    var combinationsBuilder = (0, _combinationsBuilder2['default'])(dialogPublisher, translator);
    var combinationOptions = ko.observable();
    var isCombinationMandatory = ko.observable(false);
    var whenCombinationSelectedCallback = function whenCombinationSelectedCallback() {};
    var combinationSelectorVisible = ko.observable(false);

    function updateToShowAsMandatory(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = true;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function updateToShow(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = false;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function update(itemCode, combinations, selectableCatalog, isMandatory, callback) {
        var combinationsForThisItem = combinationsBuilder.buildFor(itemCode, combinations, selectableCatalog);
        combinationOptions(combinationsForThisItem);
        isCombinationMandatory(isMandatory);
        whenCombinationSelectedCallback = callback;
        combinationSelectorVisible(true);
    }

    return {
        updateToShow: updateToShow,
        updateToShowAsMandatory: updateToShowAsMandatory,
        combinationSelectorVisible: combinationSelectorVisible,
        isCombinationMandatory: isCombinationMandatory,
        combinationOptions: combinationOptions,
        whenSelected: function whenSelected(selected) {
            return whenCombinationSelectedCallback(selected);
        }
    };
}

module.exports = exports['default'];

},{"./combinationsBuilder":8}],8:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationsBuilder;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combination = require('./combination');

var _combination2 = _interopRequireDefault(_combination);

function CombinationsBuilder(dialogPublisher, translator) {

    function buildFor(itemCode, combinations, catalog) {
        var rootOfCombinationEquipment = catalog.findItem(itemCode);
        return _.map(combinations, function (combination) {
            return buildCombinationFor(rootOfCombinationEquipment, combination, catalog);
        });
    }

    function buildCombinationFor(rootItem, combination, catalog) {
        var combinationCodes = _.map(combination, function (item) {
            return item.code;
        });
        var catalogItems = catalog.findItems(combinationCodes);
        return (0, _combination2['default'])(rootItem, catalogItems, dialogPublisher, translator);
    }

    return {
        buildFor: buildFor,
        buildCombinationFor: buildCombinationFor
    };
}

module.exports = exports['default'];

},{"./combination":6}],9:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorApplier;

function ConfiguratorApplier(configuratorNotifier, combinationBuilder, whenConfigurationChanged) {

    var EmptyInterior = undefined;

    function applyConfiguration(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        var newAutofixes = _.filter(newConfiguration.autoFixes, function (x) {
            return x.isNewAutofix;
        });
        if (newAutofixes.length > 0) {
            configuratorNotifier.notifyAutofixesConfirmation(newAutofixes, function () {
                return continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
            });
        } else {
            continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
        }
    }

    function continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        configuratorNotifier.notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType);
        commitApply(modelConfiguration, newConfiguration, selectableCatalog);
    }

    function commitApply(modelConfiguration, newConfiguration, selectableCatalog) {
        clearAllSelections(modelConfiguration, selectableCatalog);

        modelConfiguration.setAutofixes(newConfiguration.autoFixes);

        applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog);
        applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog);
        applyColor(modelConfiguration, newConfiguration, selectableCatalog);
        applyInterior(modelConfiguration, newConfiguration, selectableCatalog);
        whenConfigurationChanged(modelConfiguration);
    }

    function clearAllSelections(modelConfiguration, selectableCatalog) {
        modelConfiguration.cleanSelections();
        selectableCatalog.unselectAll();
    }

    function applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog) {
        if (!newConfiguration.modelCompulsory || !newConfiguration.modelCompulsory.combinedItems) return;

        _.each(newConfiguration.modelCompulsory.combinedItems, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            modelConfiguration.addCompulsory(item);
        });
    }

    function applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog) {
        var equipmentsAndPackages = _(newConfiguration.equipments).concat(newConfiguration.packages).value();
        _.each(equipmentsAndPackages, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            applyCombination(item, x.combination, selectableCatalog);
            modelConfiguration.addEquipment(item);
        });
    }

    function applyColor(modelConfiguration, newConfiguration, selectableCatalog) {
        var colorSelectable = undefined;
        if (_.isObject(newConfiguration.color)) {
            colorSelectable = selectableCatalog.findItem(newConfiguration.color.code);
            applyCombination(colorSelectable, newConfiguration.color.combination, selectableCatalog);
        }
        modelConfiguration.setColor(colorSelectable);
    }

    function applyCombination(catalogItem, combinationToApply, selectableCatalog) {
        if (combinationToApply && combinationToApply.length > 0) {
            var combination = combinationBuilder.buildCombinationFor(catalogItem, combinationToApply, selectableCatalog);
            combination.selectItems();
            catalogItem.setCombination(combination);
        }
    }

    function applyInterior(modelConfiguration, newConfiguration, selectableCatalog) {
        var interiorSelectable = EmptyInterior;
        if (_.isObject(newConfiguration.interior)) {
            interiorSelectable = selectableCatalog.findItem(newConfiguration.interior.code);
            applyCombination(interiorSelectable, newConfiguration.interior.combination, selectableCatalog);
        }
        modelConfiguration.setInterior(interiorSelectable);
    }

    return {
        applyConfiguration: applyConfiguration,
        continueApply: continueApply
    };
}

module.exports = exports["default"];

},{}],10:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorNotifier;

function ConfiguratorNotifier(dialogPublisher, translator) {

    function notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType) {
        var message = undefined;
        if (modelConfiguration.colorHasChanged(newConfiguration) && !actionType.IsChangeColor()) {
            message = translator.translate("Configurator.NotifyChangeColor.Message");
        }

        if (modelConfiguration.interiorHasChanged(newConfiguration) && !actionType.IsChangeInterior()) {
            if (message) message += " " + translator.translate("Configurator.NotifyChangeInteriorAndColor.Message");else message = translator.translate("Configurator.NotifyChangeInterior.Message");
        }

        if (message) {
            dialogPublisher.warning({ title: translator.translate("SharedDomain.Warning.Text"), message: message });
        }
    }

    function notifyAutofixesConfirmation(newAutofixes, whenConfirmed) {
        var fixesAsString = _.reduce(newAutofixes, function (acc, fix) {
            return acc + "- " + translator.translate("Configurator.ApplyConfiguration.Message", [fix.addedItem, fix.removedItem]) + '<br>';
        }, "");
        fixesAsString += "<br>" + translator.translate("Configurator.OkToContinue.Message");
        dialogPublisher.confirmation({
            title: translator.translate("Configurator.ApplyConfigurationConfirmation.Message"),
            message: fixesAsString,
            callback: whenConfirmed
        });
    }

    return {
        notifyChangesInConfiguration: notifyChangesInConfiguration,
        notifyAutofixesConfirmation: notifyAutofixesConfirmation
    };
}

module.exports = exports["default"];

},{}],11:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = EquipmentsSelector;

function EquipmentsSelector() {

    var categories = ko.observableArray();
    var search = EquipmentsSearch();
    var allEquipments = [];

    function setEquipments(equipments, packages) {
        var allSelectableItems = _(packages).concat(equipments).value();
        clean(allSelectableItems);
        groupEquipmentsByCategory(allSelectableItems);
        initSearch();
    }

    function clean(equipments) {
        allEquipments = equipments;
        categories.removeAll();
    }

    function groupEquipmentsByCategory(equipments) {
        var equipmentsGroupedByCategory = _.groupBy(equipments, "category");
        _.each(equipmentsGroupedByCategory, function (equipments, category) {
            categories.push(EquipmentCategory(equipments, category));
        });
    }

    function initSearch() {
        search.setEquipments(allEquipments);
    }

    function unselectAllEquipments() {
        _.each(allEquipments, function (x) {
            return x.selected(false);
        });
    }

    return {
        categories: categories,
        setEquipments: setEquipments,
        search: search,
        unselectAllEquipments: unselectAllEquipments
    };
}

function EquipmentCategory(equipments, name) {
    return {
        name: name,
        id: _.uniqueId('category_'),
        equipments: equipments
    };
}

function EquipmentsSearch() {
    var textToSearch = ko.observable('');
    var results = ko.observableArray([]);
    var elements = [];

    function setEquipments(equipments) {
        results.removeAll();
        elements.length = 0;
        _.each(equipments, function (equipment) {
            elements.push(equipment);
        });
        search();
    }

    function search() {
        results.removeAll();
        var filteredResults = _.filter(elements, function (element) {
            return element.contains(textToSearch());
        });
        ko.utils.arrayPushAll(results, filteredResults);
    }

    return {
        results: results,
        textToSearch: textToSearch,
        search: search,
        setEquipments: setEquipments
    };
}
module.exports = exports['default'];

},{}],12:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = InteriorConfigurator;

function InteriorConfigurator(whenInteriorIsSelected) {

    var interiorOptions = ko.observableArray([]);
    var interiorSelected = ko.observable();

    interiorSelected.subscribe(function () {
        whenInteriorIsSelected(interiorSelected());
    });

    function initializeSelector(interiors) {
        interiorOptions.removeAll();
        ko.utils.arrayPushAll(interiorOptions, interiors);
        interiorSelected(undefined);
    }

    function setOptionsForSelectedColor(modelConfiguration, catalog) {
        if (!modelConfiguration.hasColor()) {
            interiorOptions(catalog.interiors);
        } else {
            interiorOptions(catalog.compatibleInteriorsWith(modelConfiguration.configuredColor().code));
        }
    }

    return {
        options: interiorOptions,
        selected: interiorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedColor: setOptionsForSelectedColor
    };
}

module.exports = exports["default"];

},{}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelCatalogSelectables;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _selectableItem = require("./selectableItem");

var _selectableItem2 = _interopRequireDefault(_selectableItem);

function ModelCatalogSelectables(modelCode, modelDescription, catalogJson) {

    var colors = createSelectableColorsFrom(catalogJson);
    var interiors = createSelectableInteriorsFrom(catalogJson);
    var equipments = createSelectableEquipmentsFrom(catalogJson);
    var packages = createSelectablePackagesFrom(catalogJson);
    var model = (0, _selectableItem2["default"])({
        code: modelCode,
        description: modelDescription,
        hasForcedCombinations: catalogJson.modelCompulsoryCombinationChoices && catalogJson.modelCompulsoryCombinationChoices.length > 0,
        compulsoryCombinations: catalogJson.modelCompulsoryCombinationChoices
    });

    var allItems = _(model).concat(interiors, colors, equipments, packages).value();

    function addRelationship(colorCode, interiorCode) {
        if (_.find(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode && x.interiorCode == interiorCode;
        })) return;
        catalogJson.relationship.push({ colorCode: colorCode, interiorCode: interiorCode });
    }

    function addColor(colorToAdd) {
        var color = (0, _selectableItem2["default"])({
            code: colorToAdd.code,
            description: colorToAdd.description });
        colors.push(color);
        allItems.push(color);
    }

    function addInterior(interiorToAdd) {
        var interior = (0, _selectableItem2["default"])({
            code: interiorToAdd.code,
            description: interiorToAdd.description });
        interiors.push(interior);
        allItems.push(interior);
    }

    function clean() {
        equipments.length = 0;
        interiors.length = 0;
        colors.length = 0;
        packages.length = 0;
        allItems.length = 0;
    }

    function getModel() {
        return model;
    }

    function createSelectablePackagesFrom(catalogJson) {
        return _.map(catalogJson.packages, function (x) {
            return (0, _selectableItem2["default"])(x, true);
        });
    }

    function createSelectableEquipmentsFrom(catalogJson) {
        return _.map(catalogJson.equipments, function (x) {
            return (0, _selectableItem2["default"])(x, false);
        });
    }

    function createSelectableInteriorsFrom(catalogJson) {
        return _.map(catalogJson.interiors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function createSelectableColorsFrom(catalogJson) {
        return _.map(catalogJson.colors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function findItems(codes) {
        return _.map(codes, function (code) {
            return findItem(code);
        });
    }

    function findItem(code) {
        var item = _.find(allItems, function (x) {
            return x.code == code;
        });
        if (_.isUndefined(item)) {
            return createEmptySelectableItem(code);
        }
        return item;
    }

    function createEmptySelectableItem(code) {
        return (0, _selectableItem2["default"])({ esmEquipment: false, code: code, description: '' });
    }

    function unselectAll() {
        _.each(allItems, function (x) {
            return x.selected(false);
        });
    }

    function compatibleColorsWith(interiorCode) {
        var interiorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.interiorCode == interiorCode;
        });
        return _.map(interiorRelationships, function (x) {
            return findColor(x.colorCode);
        });
    }

    function findColor(colorCode) {
        return _.find(colors, function (x) {
            return x.code == colorCode;
        });
    }

    function compatibleInteriorsWith(colorCode) {
        var colorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode;
        });
        return _.map(colorRelationships, function (x) {
            return findInterior(x.interiorCode);
        });
    }

    function findInterior(interiorCode) {
        return _.find(interiors, function (x) {
            return x.code == interiorCode;
        });
    }

    return {
        equipments: equipments,
        packages: packages,
        colors: colors,
        interiors: interiors,
        findItem: findItem,
        findItems: findItems,
        unselectAll: unselectAll,
        compatibleColorsWith: compatibleColorsWith,
        compatibleInteriorsWith: compatibleInteriorsWith,
        getModel: getModel,
        clean: clean,
        addColor: addColor,
        addInterior: addInterior,
        addRelationship: addRelationship
    };
}

module.exports = exports["default"];

},{"./selectableItem":15}],14:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = ModelConfiguration;

function ModelConfiguration() {
    var modelGroupCode = undefined;
    var modelId = ko.observable();
    var modelDescription = ko.observable();
    var equipments = ko.observableArray();
    var configuredColor = ko.observable();
    var configuredInterior = ko.observable();
    var modelCompulsory = ko.observableArray();
    var showOrderCreation = ko.observable(false);
    var unableToRebuildItems = ko.observableArray();
    var isAVersion = ko.observable();
    var modelAutofixes = undefined;
    var modelCode = undefined;

    function addUnableToRebuildItem(item) {
        unableToRebuildItems.push(item);
    }

    function removeUnableToRebuildItem(item) {
        unableToRebuildItems.remove(item);
    }

    function setAutofixes(autofixes) {
        modelAutofixes = autofixes;
    }

    function canSaveOrder() {
        return hasModel() && hasColor() && hasInterior();
    }

    function addEquipment(equipment) {
        equipments.remove(equipment);
        equipments.push(equipment);
    }

    function addCompulsory(combinedItem) {
        modelCompulsory.push(combinedItem);
    }

    function setModelGroupCode(modelGroup) {
        modelGroupCode = modelGroup;
    }

    function setModel(model) {
        removeModel();
        modelCode = model.key.code;
        modelId(model.key.id);
        modelDescription(model.description);
        isAVersion(model.isAVersion);
    }

    function isNotTheSameModel(model) {
        return model.key.code != modelCode;
    }

    function clean() {
        modelGroupCode = '';
        modelCode = '';
        modelId(undefined);
        modelDescription(undefined);
        cleanSelections();
    }

    function removeModel() {
        modelCode = '';
        modelId(undefined);
        modelDescription(undefined);
        cleanSelections();
    }

    function cleanSelections() {
        showOrderCreation(false);
        equipments.removeAll();
        modelCompulsory.removeAll();
        configuredColor(undefined);
        configuredInterior(undefined);
    }

    function setColor(color) {
        configuredColor(color);
    }

    function setInterior(interior) {
        configuredInterior(interior);
    }

    function isEmpty() {
        return !hasModel();
    }

    function toJson() {
        return {
            modelGroupCode: modelGroupCode,
            modelKey: { id: modelId(), code: modelCode, description: modelDescription(), isAVersion: isAVersion() },
            color: configuredColor() != undefined ? configuredColor().toJson() : {},
            interior: configuredInterior() != undefined ? configuredInterior().toJson() : {},
            equipments: _.map(equipments(), function (x) {
                return x.toJson();
            }),
            modelCompulsory: {
                combinedItems: _.map(modelCompulsory(), function (x) {
                    return { code: x.code, type: x.type };
                })
            },
            autoFixes: modelAutofixes
        };
    }

    function hasForcedColor() {
        if (configuredColor() == undefined) return false;

        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredColor().code);
        }) || configuredInterior() && configuredInterior().containsForcedItem(configuredColor().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredColor().code;
        });
    }

    function hasForcedInterior() {
        if (configuredInterior() == undefined) return false;
        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredInterior().code);
        }) || configuredColor() && configuredColor().containsForcedItem(configuredInterior().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredInterior().code;
        });
    }

    function hasColor() {
        return !_.isUndefined(configuredColor());
    }

    function hasInterior() {
        return !_.isUndefined(configuredInterior());
    }

    function hasModel() {
        return !_.isUndefined(modelId());
    }

    function hasEquipment(equipmentCode) {
        return _.any(equipments(), function (x) {
            return x.code == equipmentCode;
        }) || _.any(modelCompulsory(), function (x) {
            return x.code == equipmentCode;
        }) || configuredColor() && configuredColor().containsForcedItem(equipmentCode) || configuredInterior() && configuredInterior().containsForcedItem(equipmentCode);
    }

    function colorHasChanged(newConfiguration) {
        return configuredColor() && newConfiguration.color && configuredColor().code != newConfiguration.color.code;
    }

    function interiorHasChanged(newConfiguration) {
        return configuredInterior() && newConfiguration.interior && configuredInterior().code != newConfiguration.interior.code;
    }

    return {
        modelId: modelId,
        modelDescription: modelDescription,
        equipments: equipments,
        modelCompulsory: modelCompulsory,
        setModelGroupCode: setModelGroupCode,
        setModel: setModel,
        setColor: setColor,
        setInterior: setInterior,
        addEquipment: addEquipment,
        addCompulsory: addCompulsory,
        clean: clean,
        removeModel: removeModel,
        toJson: toJson,
        hasColor: hasColor,
        hasInterior: hasInterior,
        hasForcedColor: hasForcedColor,
        hasForcedInterior: hasForcedInterior,
        configuredColor: configuredColor,
        configuredInterior: configuredInterior,
        colorHasChanged: colorHasChanged,
        interiorHasChanged: interiorHasChanged,
        canSaveOrder: canSaveOrder,
        showOrderCreation: showOrderCreation,
        cleanSelections: cleanSelections,
        setAutofixes: setAutofixes,
        unableToRebuildItems: unableToRebuildItems,
        addUnableToRebuildItem: addUnableToRebuildItem,
        removeUnableToRebuildItem: removeUnableToRebuildItem,
        isNotTheSameModel: isNotTheSameModel,
        hasEquipment: hasEquipment,
        isEmpty: isEmpty
    };
}

module.exports = exports['default'];

},{}],15:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = SelectableItem;

function SelectableItem(catalogItem, isTypePackage) {
    var selected = ko.observable(catalogItem.esmEquipment);
    var forcedItems = ko.observableArray();

    function contains(text) {
        if (!text) return false;
        return catalogItem.description.toUpperCase().indexOf(text.toUpperCase()) != -1 || catalogItem.code.toUpperCase().indexOf(text.toUpperCase()) != -1;
    }

    function isInCatalog() {
        return catalogItem.description != '';
    }

    function setCombination(combination) {
        forcedItems.removeAll();
        ko.utils.arrayPushAll(forcedItems, combination.items);
    }

    function toJson() {
        return {
            code: catalogItem.code,
            description: catalogItem.description,
            combination: combinationsToJson(),
            isPackage: isPackage
        };
    }

    function combinationsToJson() {
        return _.map(forcedItems(), function (x) {
            return { code: x.code, type: x.type };
        });
    }

    function containsForcedItem(code) {
        return _.any(forcedItems(), function (x) {
            return x.code == code;
        });
    }

    function isPackage() {
        return isTypePackage;
    }

    var self = {
        category: catalogItem.category,
        family: catalogItem.family,
        description: catalogItem.code + " - " + catalogItem.description,
        descriptionWithoutCode: catalogItem.description,
        selected: selected,
        contains: contains,
        containsForcedItem: containsForcedItem,
        code: catalogItem.code,
        type: catalogItem.type,
        isInCatalog: isInCatalog,
        hasForcedCombinations: catalogItem.hasForcedCombinations,
        compulsoryCombinations: catalogItem.compulsoryCombinations,
        toJson: toJson,
        setCombination: setCombination,
        isPackage: isPackage
    };
    return self;
}

module.exports = exports["default"];

},{}],16:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = "\n<div class=\"row\">\n    <div class=\"col-md-8\">\n        <div class=\"box box-default\">\n            <div class=\"box-header with-border\">\n                <h3 class=\"box-title\" data-bind=\"text: labels.title\"></h3>\n            </div>\n            <div class=\"box-body\">\n                <div class=\"form-horizontal\">\n                    <model-selector params=\"selectedBrand: selectedBrand,\n                                            selectedModel: selectedModel,\n                                            whenModelSelected: whenModelSelected, \n                                            whenModelUnselected: whenModelUnselected, \n                                            whenModelCategorySelected: whenModelCategorySelected,\n                                            whenModelCategoryUnselected: whenModelCategoryUnselected,\n                                            loadedModel: loadedModel\">\n                    </model-selector>\n                    <color-selector params=\"options: colorOptions, selected: selectedColor\"></color-selector>\n                    <interior-selector params=\"options: interiorOptions, selected: selectedInterior\"></interior-selector>\n                </div>\n            </div>\n            <spinner params=\"show: loadingCatalog\"></spinner>\n        </div>\n        <equipments-selector params=\"equipments: availableEquipments, \n                                    whenEquipmentSelected: whenEquipmentSelected,\n                                    whenEquipmentUnselected: whenEquipmentUnselected,\n                                    loadingFlag: loadingCatalog\">\n        </equipments-selector>\n        <combination-selector params=\"visible: combinationSelectorVisible, options: combinationOptions, isSelectionMandatory: isCombinationMandatory, whenSelected: whenCombinationSelected\"></combination-selector>\n    </div>\n    <div class=\"col-md-4\">\n        <!-- ko template: { nodes: $componentTemplateNodes, data: $parent } --><!-- /ko -->                                       \n    </div>\n</div>";
module.exports = exports["default"];

},{}],17:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = Configurator;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _configuratorTemplate = require('./configurator-template');

var _configuratorTemplate2 = _interopRequireDefault(_configuratorTemplate);

var _scriptsModelCatalogSelectables = require('./scripts/modelCatalogSelectables');

var _scriptsModelCatalogSelectables2 = _interopRequireDefault(_scriptsModelCatalogSelectables);

var _infrastructureClientsCatalogClient = require('../../infrastructure/clients/catalogClient');

var _infrastructureClientsCatalogClient2 = _interopRequireDefault(_infrastructureClientsCatalogClient);

var _infrastructureClientsConfigurationClient = require('../../infrastructure/clients/configurationClient');

var _infrastructureClientsConfigurationClient2 = _interopRequireDefault(_infrastructureClientsConfigurationClient);

var _scriptsModelConfiguration = require('./scripts/modelConfiguration');

var _scriptsModelConfiguration2 = _interopRequireDefault(_scriptsModelConfiguration);

var _scriptsConfiguratorApplier = require('./scripts/configuratorApplier');

var _scriptsConfiguratorApplier2 = _interopRequireDefault(_scriptsConfiguratorApplier);

var _scriptsConfiguratorNotifier = require('./scripts/configuratorNotifier');

var _scriptsConfiguratorNotifier2 = _interopRequireDefault(_scriptsConfiguratorNotifier);

var _scriptsColorConfigurator = require('./scripts/colorConfigurator');

var _scriptsColorConfigurator2 = _interopRequireDefault(_scriptsColorConfigurator);

var _scriptsInteriorConfigurator = require('./scripts/interiorConfigurator');

var _scriptsInteriorConfigurator2 = _interopRequireDefault(_scriptsInteriorConfigurator);

var _scriptsCombinationSelectorBindings = require('./scripts/combinationSelectorBindings');

var _scriptsCombinationSelectorBindings2 = _interopRequireDefault(_scriptsCombinationSelectorBindings);

var _scriptsCombinationsBuilder = require('./scripts/combinationsBuilder');

var _scriptsCombinationsBuilder2 = _interopRequireDefault(_scriptsCombinationsBuilder);

aidaCore.ComponentRegister('configurator', {
    script: function script(props, dependencyProvider) {
        var selectedBrand = props.selectedBrand;
        var whenConfigurationChanged = props.whenConfigurationChanged;
        var loadedConfiguration = props.loadedConfiguration;

        var translator = dependencyProvider.getTranslator();
        var catalogClient = (0, _infrastructureClientsCatalogClient2['default'])(dependencyProvider.getRestClient(), dependencyProvider.getErrorDialogPublisher(), {});
        var configurationClient = (0, _infrastructureClientsConfigurationClient2['default'])(dependencyProvider.getRestClient(), dependencyProvider.getErrorDialogPublisher(), {}, selectedBrand());
        var dialogPublisher = dependencyProvider.getDialogPublisher();

        return Configurator({ selectedBrand: selectedBrand, whenConfigurationChanged: whenConfigurationChanged, loadedConfiguration: loadedConfiguration }, { translator: translator, catalogClient: catalogClient, configurationClient: configurationClient, dialogPublisher: dialogPublisher });
    },
    template: _configuratorTemplate2['default']
});

function Configurator(_ref, _ref2) {
    var selectedBrand = _ref.selectedBrand;
    var whenConfigurationChanged = _ref.whenConfigurationChanged;
    var loadedConfiguration = _ref.loadedConfiguration;
    var translator = _ref2.translator;
    var catalogClient = _ref2.catalogClient;
    var configurationClient = _ref2.configurationClient;
    var dialogPublisher = _ref2.dialogPublisher;

    var currentCatalog = undefined;
    var loadingCatalog = ko.observable(false);
    var selectedModel = ko.observable();
    var configuration = (0, _scriptsModelConfiguration2['default'])();
    var colorConfigurator = (0, _scriptsColorConfigurator2['default'])(whenColorIsSelected);
    var interiorConfigurator = (0, _scriptsInteriorConfigurator2['default'])(whenInteriorIsSelected);
    var availableEquipments = ko.observableArray([]);
    var configuratorNotifier = (0, _scriptsConfiguratorNotifier2['default'])(dialogPublisher, translator);
    var combinationBuilder = (0, _scriptsCombinationsBuilder2['default'])(dialogPublisher, translator);
    var configuratorApplier = (0, _scriptsConfiguratorApplier2['default'])(configuratorNotifier, combinationBuilder, whenConfigurationIsApplied);
    var combinationSelectorBindings = (0, _scriptsCombinationSelectorBindings2['default'])(dialogPublisher, translator);
    var loadedModel = ko.observable();
    var loadedConfigurationChanged = false;

    loadedConfiguration.subscribe(loadConfiguration);

    function whenConfigurationIsApplied(newConfiguration) {
        whenConfigurationChanged(newConfiguration.toJson());
        interiorConfigurator.setOptionsForSelectedColor(newConfiguration, currentCatalog);
        colorConfigurator.setOptionsForSelectedInterior(newConfiguration, currentCatalog);
        whenModelLoaded();
    }

    function whenModelLoaded() {
        if (!loadedConfigurationChanged) return;

        setColorForConfiguration(loadedConfiguration().color);
        setInteriorForConfiguration(loadedConfiguration().interior);
        setEquipmentForConfiguration(loadedConfiguration().equipments);
        loadedConfigurationChanged = false;
        whenConfigurationChanged(configuration.toJson());
    }

    // load configuration without call to server to avoid validate the configuration rules.
    function loadConfiguration(newConfiguration) {
        configuration.clean();
        loadedConfigurationChanged = true;
        loadedModel(newConfiguration.modelKey);
    }

    function setColorForConfiguration(color) {
        var colorToLoad = _(currentCatalog.colors).find(function (x) {
            return x.code == color.code;
        });
        configuration.setColor(colorToLoad);
        colorConfigurator.selected(colorToLoad);
    }

    function setInteriorForConfiguration(interior) {
        var interiorToLoad = _(currentCatalog.interiors).find(function (x) {
            return x.code == interior.code;
        });
        configuration.setInterior(interiorToLoad);
        interiorConfigurator.selected(interiorToLoad);
    }

    function setEquipmentForConfiguration(equipment) {
        var equipmentToLoad = getAllCatalogEquipmentForConfiguration(equipment);
        configuration.equipments(equipmentToLoad);
        selectAllEquipment(equipmentToLoad);
    }

    function getAllCatalogEquipmentForConfiguration(allLoadedConfigurationEquipment) {
        var allCatalogEquipments = _(currentCatalog.equipments.concat(currentCatalog.packages)).value();
        return _(allCatalogEquipments).filter(function (x) {
            return _(allLoadedConfigurationEquipment).any(function (e) {
                return x.code == e.code;
            });
        }).value();
    }

    function selectAllEquipment(equipmentToLoad) {
        _(equipmentToLoad).forEach(function (equipment) {
            return equipment.selected(true);
        }).value();
    }

    function whenModelCategorySelected(categoryId) {
        configuration.clean();
        configuration.setModelGroupCode(getModelGroupCodeFrom(categoryId));
        whenConfigurationChanged(configuration.toJson());
    }

    function getModelGroupCodeFrom(categoryId) {
        return categoryId.substring(0, categoryId.indexOf("_"));
    }

    function whenModelCategoryUnselected() {
        configuration.clean();
        selectedModel(undefined);
        whenConfigurationChanged(configuration.toJson());
        cleanCatalog();
    }

    function whenModelSelected(model) {
        configuration.setModel(model);
        loadingCatalog(true);
        catalogClient.getCatalog(selectedBrand().id, configuration.modelId(), whenCatalogReceived, onCatalogError);
    }

    function whenModelUnselected() {
        configuration.removeModel();
        selectedModel(undefined);
        whenConfigurationChanged(configuration.toJson());
        cleanCatalog();
    }

    function cleanCatalog() {
        if (_.isObject(currentCatalog)) {
            currentCatalog.clean();
            initializeSelectors();
        }
    }

    function whenCatalogReceived(catalogJson) {
        loadingCatalog(false);
        currentCatalog = (0, _scriptsModelCatalogSelectables2['default'])(configuration.modelId(), configuration.modelDescription(), catalogJson);
        initializeSelectors();
        var model = currentCatalog.getModel();
        if (model.compulsoryCombinations && model.compulsoryCombinations.length > 1) {
            combinationSelectorBindings.updateToShowAsMandatory(model.code, model.compulsoryCombinations, currentCatalog, whenModelCombinationIsSelected);
        } else {
            configurationClient.createConfiguration(selectedBrand().id, model, whenConfigurationApplied, onConfigurationError);
        }
    }

    function onCatalogError() {
        loadingCatalog(false);
    }

    function onConfigurationError() {
        selectedModel(undefined);
    }

    function whenColorIsSelected(color) {
        if (configuration.isEmpty() || loadedConfigurationChanged) return;

        if (color && color.hasForcedCombinations) {
            combinationSelectorBindings.updateToShow(color.code, color.compulsoryCombinations, currentCatalog, whenColorCombinationSelected);
            return;
        }
        if (color) {
            configurationClient.changeColorWithoutCombination(configuration, color.code, whenConfigurationApplied, restoreConfiguredColor);
        } else {
            configurationClient.removeColor(configuration, whenConfigurationApplied);
        }
    }

    function whenInteriorIsSelected(interior) {
        if (configuration.isEmpty() || loadedConfigurationChanged) return;

        if (_.isObject(interior) && interior.hasForcedCombinations) {
            combinationSelectorBindings.updateToShow(interior.code, interior.compulsoryCombinations, currentCatalog, whenInteriorCombinationSelected);
            return;
        }
        if (_.isObject(interior)) {
            configurationClient.changeInteriorWithoutCombination(configuration, interior.code, whenConfigurationApplied, restoreConfiguredInterior);
        } else {
            configurationClient.removeInterior(configuration, whenConfigurationApplied);
        }
    }

    function whenEquipmentSelected(equipment) {
        if (equipment.hasForcedCombinations) {
            combinationSelectorBindings.updateToShow(equipment.code, equipment.compulsoryCombinations, currentCatalog, whenEquipmentWithCombinationSelected);
            return;
        }
        if (equipment.isPackage()) {
            configurationClient.addPackageWithoutCombination(configuration, equipment.code, whenConfigurationApplied);
        } else {
            configurationClient.addEquipmentWithoutCombination(configuration, equipment.code, whenConfigurationApplied);
        }
    }

    function whenEquipmentUnselected(equipment) {
        if (equipment.isPackage()) {
            configurationClient.removePackage(configuration, equipment.code, whenConfigurationApplied);
        } else {
            configurationClient.removeEquipment(configuration, equipment.code, whenConfigurationApplied);
        }
    }

    function initializeSelectors() {
        colorConfigurator.initializeSelector(currentCatalog.colors);
        interiorConfigurator.initializeSelector(currentCatalog.interiors);
        availableEquipments(currentCatalog.packages.concat(currentCatalog.equipments));
    }

    function whenModelCombinationIsSelected(selectedCombination) {
        configurationClient.createConfigurationWithCombination(selectedBrand().id, selectedCombination, whenConfigurationApplied, onConfigurationError);
    }

    function whenColorCombinationSelected(selectedCombination) {
        if (_.isObject(selectedCombination)) {
            configurationClient.changeColor(configuration, selectedCombination, whenConfigurationApplied, restoreConfiguredColor);
            return;
        }
        restoreConfiguredColor();
    }

    function whenInteriorCombinationSelected(selectedCombination) {
        if (_.isObject(selectedCombination)) {
            configurationClient.changeInterior(configuration, selectedCombination, whenConfigurationApplied, restoreConfiguredInterior);
            return;
        }
        restoreConfiguredInterior();
    }

    function whenEquipmentWithCombinationSelected(selectedCombination) {
        if (!_.isObject(selectedCombination)) return;

        if (selectedCombination.root.isPackage()) {
            configurationClient.addPackage(configuration, selectedCombination, whenConfigurationApplied);
        } else {
            configurationClient.addEquipment(configuration, selectedCombination, whenConfigurationApplied);
        }
    }

    function whenConfigurationApplied(newConfiguration, actionType) {
        configuratorApplier.applyConfiguration(configuration, newConfiguration, actionType, currentCatalog);
    }

    function restoreConfiguredColor() {
        colorConfigurator.selected(configuration.configuredColor());
    }

    function restoreConfiguredInterior() {
        interiorConfigurator.selected(configuration.configuredInterior());
    }

    function getLabels() {
        return {
            title: translator.translate('SharedDomain.Filters')
        };
    }

    return {
        labels: getLabels(),
        selectedBrand: selectedBrand,
        selectedModel: selectedModel,
        colorOptions: colorConfigurator.options,
        selectedColor: colorConfigurator.selected,
        interiorOptions: interiorConfigurator.options,
        selectedInterior: interiorConfigurator.selected,
        availableEquipments: availableEquipments,
        whenModelSelected: whenModelSelected,
        whenModelUnselected: whenModelUnselected,
        whenModelCategorySelected: whenModelCategorySelected,
        whenModelCategoryUnselected: whenModelCategoryUnselected,
        whenEquipmentSelected: whenEquipmentSelected,
        whenEquipmentUnselected: whenEquipmentUnselected,
        combinationSelectorVisible: combinationSelectorBindings.combinationSelectorVisible,
        isCombinationMandatory: combinationSelectorBindings.isCombinationMandatory,
        combinationOptions: combinationSelectorBindings.combinationOptions,
        whenCombinationSelected: combinationSelectorBindings.whenSelected,
        selectedEquipment: configuration.equipments,
        loadingCatalog: loadingCatalog,
        loadedModel: loadedModel
    };
}

module.exports = exports['default'];

},{"../../infrastructure/clients/catalogClient":42,"../../infrastructure/clients/configurationClient":43,"./configurator-template":16,"./scripts/colorConfigurator":18,"./scripts/combinationSelectorBindings":20,"./scripts/combinationsBuilder":21,"./scripts/configuratorApplier":22,"./scripts/configuratorNotifier":23,"./scripts/interiorConfigurator":24,"./scripts/modelCatalogSelectables":25,"./scripts/modelConfiguration":26}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ColorConfigurator;

function ColorConfigurator(whenColorIsSelected) {

    var colorOptions = ko.observableArray([]);
    var colorSelected = ko.observable();

    colorSelected.subscribe(function () {
        whenColorIsSelected(colorSelected());
    });

    function initializeSelector(colors) {
        colorOptions.removeAll();
        ko.utils.arrayPushAll(colorOptions, colors);
        colorSelected(undefined);
    }

    function setOptionsForSelectedInterior(modelConfiguration, catalog) {
        if (!modelConfiguration.hasInterior()) {
            colorOptions(catalog.colors);
        } else {
            colorOptions(catalog.compatibleColorsWith(modelConfiguration.configuredInterior().code));
        }
    }

    return {
        options: colorOptions,
        selected: colorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedInterior: setOptionsForSelectedInterior
    };
}

module.exports = exports["default"];

},{}],19:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = Combination;

function Combination(root, items, dialogPublisher, translator) {
    var whenSelectedCallback = function whenSelectedCallback() {};

    function select() {
        if (anyEquipmentIsNotInCatalog()) {
            dialogPublisher.error({ title: translator.translate("Configurator.AnyEquipmentIsNotInCatalog.Error") });
            return;
        }
        whenSelectedCallback(self);
    }

    function anyEquipmentIsNotInCatalog() {
        return _.find(items, function (x) {
            return !x.isInCatalog();
        }) != undefined;
    }

    function selectItems() {
        root.selected(true);
        _.each(items, function (x) {
            return x.selected(true);
        });
    }

    function whenSelected(callback) {
        whenSelectedCallback = callback;
    }

    var self = {
        root: root,
        items: items,
        select: select,
        whenSelected: whenSelected,
        selectItems: selectItems
    };

    return self;
}

module.exports = exports["default"];

},{}],20:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationSelectorBindings;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combinationsBuilder = require('./combinationsBuilder');

var _combinationsBuilder2 = _interopRequireDefault(_combinationsBuilder);

function CombinationSelectorBindings(dialogPublisher, translator) {

    var combinationsBuilder = (0, _combinationsBuilder2['default'])(dialogPublisher, translator);
    var combinationOptions = ko.observable();
    var isCombinationMandatory = ko.observable(false);
    var whenCombinationSelectedCallback = function whenCombinationSelectedCallback() {};
    var combinationSelectorVisible = ko.observable(false);

    function updateToShowAsMandatory(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = true;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function updateToShow(itemCode, combinations, selectableCatalog, callback) {
        var isMandatory = false;
        update(itemCode, combinations, selectableCatalog, isMandatory, callback);
    }

    function update(itemCode, combinations, selectableCatalog, isMandatory, callback) {
        var combinationsForThisItem = combinationsBuilder.buildFor(itemCode, combinations, selectableCatalog);
        combinationOptions(combinationsForThisItem);
        isCombinationMandatory(isMandatory);
        whenCombinationSelectedCallback = callback;
        combinationSelectorVisible(true);
    }

    return {
        updateToShow: updateToShow,
        updateToShowAsMandatory: updateToShowAsMandatory,
        combinationSelectorVisible: combinationSelectorVisible,
        isCombinationMandatory: isCombinationMandatory,
        combinationOptions: combinationOptions,
        whenSelected: function whenSelected(selected) {
            return whenCombinationSelectedCallback(selected);
        }
    };
}

module.exports = exports['default'];

},{"./combinationsBuilder":21}],21:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = CombinationsBuilder;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _combination = require('./combination');

var _combination2 = _interopRequireDefault(_combination);

function CombinationsBuilder(dialogPublisher, translator) {

    function buildFor(itemCode, combinations, catalog) {
        var rootOfCombinationEquipment = catalog.findItem(itemCode);
        return _.map(combinations, function (combination) {
            return buildCombinationFor(rootOfCombinationEquipment, combination, catalog);
        });
    }

    function buildCombinationFor(rootItem, combination, catalog) {
        var combinationCodes = _.map(combination, function (item) {
            return item.code;
        });
        var catalogItems = catalog.findItems(combinationCodes);
        return (0, _combination2['default'])(rootItem, catalogItems, dialogPublisher, translator);
    }

    return {
        buildFor: buildFor,
        buildCombinationFor: buildCombinationFor
    };
}

module.exports = exports['default'];

},{"./combination":19}],22:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorApplier;

function ConfiguratorApplier(configuratorNotifier, combinationBuilder, whenConfigurationChanged) {

    var EmptyInterior = undefined;

    function applyConfiguration(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        var newAutofixes = _.filter(newConfiguration.autoFixes, function (x) {
            return x.isNewAutofix;
        });
        if (newAutofixes.length > 0) {
            configuratorNotifier.notifyAutofixesConfirmation(newAutofixes, function () {
                return continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
            });
        } else {
            continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog);
        }
    }

    function continueApply(modelConfiguration, newConfiguration, actionType, selectableCatalog) {
        configuratorNotifier.notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType);
        commitApply(modelConfiguration, newConfiguration, selectableCatalog);
    }

    function commitApply(modelConfiguration, newConfiguration, selectableCatalog) {
        clearAllSelections(modelConfiguration, selectableCatalog);

        modelConfiguration.setAutofixes(newConfiguration.autoFixes);

        applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog);
        applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog);
        applyColor(modelConfiguration, newConfiguration, selectableCatalog);
        applyInterior(modelConfiguration, newConfiguration, selectableCatalog);
        whenConfigurationChanged(modelConfiguration);
    }

    function clearAllSelections(modelConfiguration, selectableCatalog) {
        modelConfiguration.cleanSelections();
        selectableCatalog.unselectAll();
    }

    function applyModelCompulsory(modelConfiguration, newConfiguration, selectableCatalog) {
        if (!newConfiguration.modelCompulsory || !newConfiguration.modelCompulsory.combinedItems) return;

        _.each(newConfiguration.modelCompulsory.combinedItems, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            modelConfiguration.addCompulsory(item);
        });
    }

    function applyEquipmentsAndPackages(modelConfiguration, newConfiguration, selectableCatalog) {
        var equipmentsAndPackages = _(newConfiguration.equipments).concat(newConfiguration.packages).value();
        _.each(equipmentsAndPackages, function (x) {
            var item = selectableCatalog.findItem(x.code);
            item.selected(true);
            applyCombination(item, x.combination, selectableCatalog);
            modelConfiguration.addEquipment(item);
        });
    }

    function applyColor(modelConfiguration, newConfiguration, selectableCatalog) {
        var colorSelectable = undefined;
        if (_.isObject(newConfiguration.color)) {
            colorSelectable = selectableCatalog.findItem(newConfiguration.color.code);
            applyCombination(colorSelectable, newConfiguration.color.combination, selectableCatalog);
        }
        modelConfiguration.setColor(colorSelectable);
    }

    function applyCombination(catalogItem, combinationToApply, selectableCatalog) {
        if (combinationToApply && combinationToApply.length > 0) {
            var combination = combinationBuilder.buildCombinationFor(catalogItem, combinationToApply, selectableCatalog);
            combination.selectItems();
            catalogItem.setCombination(combination);
        }
    }

    function applyInterior(modelConfiguration, newConfiguration, selectableCatalog) {
        var interiorSelectable = EmptyInterior;
        if (_.isObject(newConfiguration.interior)) {
            interiorSelectable = selectableCatalog.findItem(newConfiguration.interior.code);
            applyCombination(interiorSelectable, newConfiguration.interior.combination, selectableCatalog);
        }
        modelConfiguration.setInterior(interiorSelectable);
    }

    return {
        applyConfiguration: applyConfiguration,
        continueApply: continueApply
    };
}

module.exports = exports["default"];

},{}],23:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfiguratorNotifier;

function ConfiguratorNotifier(dialogPublisher, translator) {

    function notifyChangesInConfiguration(modelConfiguration, newConfiguration, actionType) {
        var message = undefined;
        if (modelConfiguration.colorHasChanged(newConfiguration) && !actionType.IsChangeColor()) {
            message = translator.translate("Configurator.NotifyChangeColor.Message");
        }

        if (modelConfiguration.interiorHasChanged(newConfiguration) && !actionType.IsChangeInterior()) {
            if (message) message += " " + translator.translate("Configurator.NotifyChangeInteriorAndColor.Message");else message = translator.translate("Configurator.NotifyChangeInterior.Message");
        }

        if (message) {
            dialogPublisher.warning({ title: translator.translate("SharedDomain.Warning.Text"), message: message });
        }
    }

    function notifyAutofixesConfirmation(newAutofixes, whenConfirmed) {
        var fixesAsString = _.reduce(newAutofixes, function (acc, fix) {
            return acc + "- " + translator.translate("Configurator.ApplyConfiguration.Message", [fix.addedItem, fix.removedItem]) + '<br>';
        }, "");
        fixesAsString += "<br>" + translator.translate("Configurator.OkToContinue.Message");
        dialogPublisher.confirmation({
            title: translator.translate("Configurator.ApplyConfigurationConfirmation.Message"),
            message: fixesAsString,
            callback: whenConfirmed
        });
    }

    return {
        notifyChangesInConfiguration: notifyChangesInConfiguration,
        notifyAutofixesConfirmation: notifyAutofixesConfirmation
    };
}

module.exports = exports["default"];

},{}],24:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = InteriorConfigurator;

function InteriorConfigurator(whenInteriorIsSelected) {

    var interiorOptions = ko.observableArray([]);
    var interiorSelected = ko.observable();

    interiorSelected.subscribe(function () {
        whenInteriorIsSelected(interiorSelected());
    });

    function initializeSelector(interiors) {
        interiorOptions.removeAll();
        ko.utils.arrayPushAll(interiorOptions, interiors);
        interiorSelected(undefined);
    }

    function setOptionsForSelectedColor(modelConfiguration, catalog) {
        if (!modelConfiguration.hasColor()) {
            interiorOptions(catalog.interiors);
        } else {
            interiorOptions(catalog.compatibleInteriorsWith(modelConfiguration.configuredColor().code));
        }
    }

    return {
        options: interiorOptions,
        selected: interiorSelected,
        initializeSelector: initializeSelector,
        setOptionsForSelectedColor: setOptionsForSelectedColor
    };
}

module.exports = exports["default"];

},{}],25:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelCatalogSelectables;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _selectableItem = require("./selectableItem");

var _selectableItem2 = _interopRequireDefault(_selectableItem);

function ModelCatalogSelectables(modelCode, modelDescription, catalogJson) {

    var colors = createSelectableColorsFrom(catalogJson);
    var interiors = createSelectableInteriorsFrom(catalogJson);
    var equipments = createSelectableEquipmentsFrom(catalogJson);
    var packages = createSelectablePackagesFrom(catalogJson);
    var model = (0, _selectableItem2["default"])({
        code: modelCode,
        description: modelDescription,
        hasForcedCombinations: catalogJson.modelCompulsoryCombinationChoices && catalogJson.modelCompulsoryCombinationChoices.length > 0,
        compulsoryCombinations: catalogJson.modelCompulsoryCombinationChoices
    });

    var allItems = _(model).concat(interiors, colors, equipments, packages).value();

    function addRelationship(colorCode, interiorCode) {
        if (_.find(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode && x.interiorCode == interiorCode;
        })) return;
        catalogJson.relationship.push({ colorCode: colorCode, interiorCode: interiorCode });
    }

    function addColor(colorToAdd) {
        var color = (0, _selectableItem2["default"])({
            code: colorToAdd.code,
            description: colorToAdd.description });
        colors.push(color);
        allItems.push(color);
    }

    function addInterior(interiorToAdd) {
        var interior = (0, _selectableItem2["default"])({
            code: interiorToAdd.code,
            description: interiorToAdd.description });
        interiors.push(interior);
        allItems.push(interior);
    }

    function clean() {
        equipments.length = 0;
        interiors.length = 0;
        colors.length = 0;
        packages.length = 0;
        allItems.length = 0;
    }

    function getModel() {
        return model;
    }

    function createSelectablePackagesFrom(catalogJson) {
        return _.map(catalogJson.packages, function (x) {
            return (0, _selectableItem2["default"])(x, true);
        });
    }

    function createSelectableEquipmentsFrom(catalogJson) {
        return _.map(catalogJson.equipments, function (x) {
            return (0, _selectableItem2["default"])(x, false);
        });
    }

    function createSelectableInteriorsFrom(catalogJson) {
        return _.map(catalogJson.interiors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function createSelectableColorsFrom(catalogJson) {
        return _.map(catalogJson.colors, function (x) {
            return (0, _selectableItem2["default"])(x);
        });
    }

    function findItems(codes) {
        return _.map(codes, function (code) {
            return findItem(code);
        });
    }

    function findItem(code) {
        var item = _.find(allItems, function (x) {
            return x.code == code;
        });
        if (_.isUndefined(item)) {
            return createEmptySelectableItem(code);
        }
        return item;
    }

    function createEmptySelectableItem(code) {
        return (0, _selectableItem2["default"])({ esmEquipment: false, code: code, description: '' });
    }

    function unselectAll() {
        _.each(allItems, function (x) {
            return x.selected(false);
        });
    }

    function compatibleColorsWith(interiorCode) {
        var interiorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.interiorCode == interiorCode;
        });
        return _.map(interiorRelationships, function (x) {
            return findColor(x.colorCode);
        });
    }

    function findColor(colorCode) {
        return _.find(colors, function (x) {
            return x.code == colorCode;
        });
    }

    function compatibleInteriorsWith(colorCode) {
        var colorRelationships = _.filter(catalogJson.relationship, function (x) {
            return x.colorCode == colorCode;
        });
        return _.map(colorRelationships, function (x) {
            return findInterior(x.interiorCode);
        });
    }

    function findInterior(interiorCode) {
        return _.find(interiors, function (x) {
            return x.code == interiorCode;
        });
    }

    return {
        equipments: equipments,
        packages: packages,
        colors: colors,
        interiors: interiors,
        findItem: findItem,
        findItems: findItems,
        unselectAll: unselectAll,
        compatibleColorsWith: compatibleColorsWith,
        compatibleInteriorsWith: compatibleInteriorsWith,
        getModel: getModel,
        clean: clean,
        addColor: addColor,
        addInterior: addInterior,
        addRelationship: addRelationship
    };
}

module.exports = exports["default"];

},{"./selectableItem":27}],26:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = ModelConfiguration;

function ModelConfiguration() {
    var modelGroupCode = undefined;
    var modelId = ko.observable();
    var modelDescription = ko.observable();
    var equipments = ko.observableArray();
    var configuredColor = ko.observable();
    var configuredInterior = ko.observable();
    var modelCompulsory = ko.observableArray();
    var showOrderCreation = ko.observable(false);
    var unableToRebuildItems = ko.observableArray();
    var isAVersion = ko.observable();
    var modelAutofixes = undefined;
    var modelCode = undefined;

    function addUnableToRebuildItem(item) {
        unableToRebuildItems.push(item);
    }

    function removeUnableToRebuildItem(item) {
        unableToRebuildItems.remove(item);
    }

    function setAutofixes(autofixes) {
        modelAutofixes = autofixes;
    }

    function canSaveOrder() {
        return hasModel() && hasColor() && hasInterior();
    }

    function addEquipment(equipment) {
        equipments.remove(equipment);
        equipments.push(equipment);
    }

    function addCompulsory(combinedItem) {
        modelCompulsory.push(combinedItem);
    }

    function setModelGroupCode(modelGroup) {
        modelGroupCode = modelGroup;
    }

    function setModel(model) {
        removeModel();
        modelCode = model.key.code;
        modelId(model.key.id);
        modelDescription(model.description);
        isAVersion(model.isAVersion);
    }

    function isNotTheSameModel(model) {
        return model.key.code != modelCode;
    }

    function clean() {
        modelGroupCode = '';
        modelCode = '';
        modelId(undefined);
        modelDescription(undefined);
        cleanSelections();
    }

    function removeModel() {
        modelCode = '';
        modelId(undefined);
        modelDescription(undefined);
        cleanSelections();
    }

    function cleanSelections() {
        showOrderCreation(false);
        equipments.removeAll();
        modelCompulsory.removeAll();
        configuredColor(undefined);
        configuredInterior(undefined);
    }

    function setColor(color) {
        configuredColor(color);
    }

    function setInterior(interior) {
        configuredInterior(interior);
    }

    function isEmpty() {
        return !hasModel();
    }

    function toJson() {
        return {
            modelGroupCode: modelGroupCode,
            modelKey: { id: modelId(), code: modelCode, description: modelDescription(), isAVersion: isAVersion() },
            color: configuredColor() != undefined ? configuredColor().toJson() : {},
            interior: configuredInterior() != undefined ? configuredInterior().toJson() : {},
            equipments: _.map(equipments(), function (x) {
                return x.toJson();
            }),
            modelCompulsory: {
                combinedItems: _.map(modelCompulsory(), function (x) {
                    return { code: x.code, type: x.type };
                })
            },
            autoFixes: modelAutofixes
        };
    }

    function hasForcedColor() {
        if (configuredColor() == undefined) return false;

        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredColor().code);
        }) || configuredInterior() && configuredInterior().containsForcedItem(configuredColor().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredColor().code;
        });
    }

    function hasForcedInterior() {
        if (configuredInterior() == undefined) return false;
        return _.any(equipments(), function (x) {
            return x.containsForcedItem(configuredInterior().code);
        }) || configuredColor() && configuredColor().containsForcedItem(configuredInterior().code) || _.any(modelCompulsory(), function (x) {
            return x.code == configuredInterior().code;
        });
    }

    function hasColor() {
        return !_.isUndefined(configuredColor());
    }

    function hasInterior() {
        return !_.isUndefined(configuredInterior());
    }

    function hasModel() {
        return !_.isUndefined(modelId());
    }

    function hasEquipment(equipmentCode) {
        return _.any(equipments(), function (x) {
            return x.code == equipmentCode;
        }) || _.any(modelCompulsory(), function (x) {
            return x.code == equipmentCode;
        }) || configuredColor() && configuredColor().containsForcedItem(equipmentCode) || configuredInterior() && configuredInterior().containsForcedItem(equipmentCode);
    }

    function colorHasChanged(newConfiguration) {
        return configuredColor() && newConfiguration.color && configuredColor().code != newConfiguration.color.code;
    }

    function interiorHasChanged(newConfiguration) {
        return configuredInterior() && newConfiguration.interior && configuredInterior().code != newConfiguration.interior.code;
    }

    return {
        modelId: modelId,
        modelDescription: modelDescription,
        equipments: equipments,
        modelCompulsory: modelCompulsory,
        setModelGroupCode: setModelGroupCode,
        setModel: setModel,
        setColor: setColor,
        setInterior: setInterior,
        addEquipment: addEquipment,
        addCompulsory: addCompulsory,
        clean: clean,
        removeModel: removeModel,
        toJson: toJson,
        hasColor: hasColor,
        hasInterior: hasInterior,
        hasForcedColor: hasForcedColor,
        hasForcedInterior: hasForcedInterior,
        configuredColor: configuredColor,
        configuredInterior: configuredInterior,
        colorHasChanged: colorHasChanged,
        interiorHasChanged: interiorHasChanged,
        canSaveOrder: canSaveOrder,
        showOrderCreation: showOrderCreation,
        cleanSelections: cleanSelections,
        setAutofixes: setAutofixes,
        unableToRebuildItems: unableToRebuildItems,
        addUnableToRebuildItem: addUnableToRebuildItem,
        removeUnableToRebuildItem: removeUnableToRebuildItem,
        isNotTheSameModel: isNotTheSameModel,
        hasEquipment: hasEquipment,
        isEmpty: isEmpty
    };
}

module.exports = exports['default'];

},{}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = SelectableItem;

function SelectableItem(catalogItem, isTypePackage) {
    var selected = ko.observable(catalogItem.esmEquipment);
    var forcedItems = ko.observableArray();

    function contains(text) {
        if (!text) return false;
        return catalogItem.description.toUpperCase().indexOf(text.toUpperCase()) != -1 || catalogItem.code.toUpperCase().indexOf(text.toUpperCase()) != -1;
    }

    function isInCatalog() {
        return catalogItem.description != '';
    }

    function setCombination(combination) {
        forcedItems.removeAll();
        ko.utils.arrayPushAll(forcedItems, combination.items);
    }

    function toJson() {
        return {
            code: catalogItem.code,
            description: catalogItem.description,
            combination: combinationsToJson(),
            isPackage: isPackage
        };
    }

    function combinationsToJson() {
        return _.map(forcedItems(), function (x) {
            return { code: x.code, type: x.type };
        });
    }

    function containsForcedItem(code) {
        return _.any(forcedItems(), function (x) {
            return x.code == code;
        });
    }

    function isPackage() {
        return isTypePackage;
    }

    var self = {
        category: catalogItem.category,
        family: catalogItem.family,
        description: catalogItem.code + " - " + catalogItem.description,
        descriptionWithoutCode: catalogItem.description,
        selected: selected,
        contains: contains,
        containsForcedItem: containsForcedItem,
        code: catalogItem.code,
        type: catalogItem.type,
        isInCatalog: isInCatalog,
        hasForcedCombinations: catalogItem.hasForcedCombinations,
        compulsoryCombinations: catalogItem.compulsoryCombinations,
        toJson: toJson,
        setCombination: setCombination,
        isPackage: isPackage
    };
    return self;
}

module.exports = exports["default"];

},{}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = VehicleSummary;

function VehicleSummary() {
    var model = ko.observable();
    var color = ko.observable();
    var interior = ko.observable();
    var equipment = ko.observableArray([]);

    function update(newModel, newColor, newInterior, newEquipment) {
        model(newModel);
        color(newColor);
        interior(newInterior);
        equipment.removeAll();
        ko.utils.arrayPushAll(equipment, newEquipment);
    }

    function isValid() {
        return model() && color() && interior();
    }

    return {
        update: update,
        isValid: isValid,
        model: model,
        color: color,
        interior: interior,
        equipment: equipment
    };
}

module.exports = exports["default"];

},{}],29:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = "\n<div class=\"box box-default\">\n    <div class=\"box-header with-border\">\n        <h3 class=\"box-title\" data-bind=\"text: labels.title\"></h3>\n    </div>\n    <div class=\"box-body\">\n        <ul class=\"nav nav-tabs\" role=\"tablist\">\n            <li role=\"presentation\" class=\"active\">\n                <a href=\"#all\" aria-controls=\"all\" role=\"tab\" data-toggle=\"tab\" data-bind=\"text: labels.allEquipments\"></a>\n            </li>\n            <li role=\"presentation\">\n                <a href=\"#search\" aria-controls=\"search\" role=\"tab\" data-toggle=\"tab\" data-bind=\"text: labels.searchEquipments\"></a>\n            </li>\n        </ul>\n        <div class=\"tab-content\">\n            <div role=\"tabpanel\" class=\"tab-pane active\" id=\"all\">\n                <div class=\"panel-group\" id=\"accordion\" role=\"tablist\" aria-multiselectable=\"true\">\n                    <div data-bind=\"foreach: categories\">\n                        <div class=\"panel panel-default\">\n                            <div class=\"panel-heading\" role=\"tab\" id=\"headingOne\">\n                                <div class=\"panel-title\">\n                                    <a data-bind=\"text: name, attr: {href: '#' + id}\" role=\"button\" data-toggle=\"collapse\" data-parent=\"#accordion\" aria-expanded=\"false\">\n                                    </a>\n                                </div>\n                            </div>\n                            <div data-bind=\"attr: {id: id}\" class=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"headingOne\">\n                                <div class=\"panel-body\">\n                                    <div data-bind=\"template: {name: 'equipment_template', data: {labels: $parent.labels, equipment: equipments}}\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <div role=\"tabpanel\" class=\"tab-pane\" id=\"search\">\n                <input style=\"padding: 10px\" id=\"search\" class=\"form-control\" data-bind=\"value: textToSearch,\n                                    valueUpdate: 'afterkeydown',\n                                    event: { 'keyup': search },\n                                    attr: { placeholder: labels.searchEquipments}\" type=\"text\" />\n                <div style=\"margin: 10px\" data-bind=\"template: {name: 'equipment_template', data: {labels: labels, equipment: searchResults}}\"></div>\n            </div>\n        </div>\n    </div>\n    <spinner params=\"show: loadingFlag\"></spinner>\n</div>\n\n<!-- templates -->\n<script type=\"text/html\" id=\"equipment_template\">\n    <!-- ko foreach: equipment -->\n    <div class=\"selectablebox\" data-bind=\"click: selectOrUnselect\">\n        <span data-bind=\"visible: isSelected()\">\n            <i class=\"fa fa-check\"></i>\n        </span>\n        <!-- ko if: descriptionWithoutCode != '' -->\n        <span data-bind=\"text: code + ' - ' + descriptionWithoutCode, attr: {'title': descriptionWithoutCode}\" class=\"truncate\" data-toggle=\"tooltip\"></span>\n        <!-- /ko -->\n        <!-- ko if: descriptionWithoutCode === '' -->\n        <span data-bind=\"text: code + ' - ' + $parent.labels.notAvailableDescription\"></span>\n        <!-- /ko -->\n    </div>\n    <!-- /ko -->\n</script>";
module.exports = exports["default"];

},{}],30:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = EquipmentsSelectorScript;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _equipmentsSelectorTemplate = require('./equipments-selector-template');

var _equipmentsSelectorTemplate2 = _interopRequireDefault(_equipmentsSelectorTemplate);

var _selectableEquipment = require('./selectableEquipment');

var _selectableEquipment2 = _interopRequireDefault(_selectableEquipment);

aidaCore.ComponentRegister('equipments-selector', {
    script: function script(props, dependencyProvider) {
        var translator = dependencyProvider.getTranslator();
        var equipments = props.equipments;
        var whenEquipmentSelected = props.whenEquipmentSelected;
        var whenEquipmentUnselected = props.whenEquipmentUnselected;
        var loadingFlag = props.loadingFlag;
        return EquipmentsSelectorScript({ equipments: equipments, loadingFlag: loadingFlag, translator: translator, whenEquipmentSelected: whenEquipmentSelected, whenEquipmentUnselected: whenEquipmentUnselected });
    },
    template: _equipmentsSelectorTemplate2['default']
});

function EquipmentsSelectorScript(_ref) {
    var equipments = _ref.equipments;
    var loadingFlag = _ref.loadingFlag;
    var translator = _ref.translator;
    var whenEquipmentSelected = _ref.whenEquipmentSelected;
    var whenEquipmentUnselected = _ref.whenEquipmentUnselected;

    var categories = ko.observableArray();
    var searcher = EquipmentsSearch();
    var allEquipments = [];

    equipments.subscribe(function () {
        setEquipments(equipments());
    });

    function setEquipments(equipments) {
        var allSelectableItems = ko.utils.unwrapObservable(equipments);
        var allSelectableEquipments = _.map(allSelectableItems, function (item) {
            return (0, _selectableEquipment2['default'])(item, whenEquipmentSelected, whenEquipmentUnselected);
        });
        clean(allSelectableEquipments);
        groupEquipmentsByCategory(allSelectableEquipments);
        initSearch();
    }

    function clean(selectableEquipments) {
        allEquipments = selectableEquipments;
        categories.removeAll();
    }

    function groupEquipmentsByCategory(equipments) {
        var categorizedEquipments = categorizeEquipments(equipments);
        var equipmentsGroupedByCategory = _.groupBy(categorizedEquipments, "category");
        _.each(equipmentsGroupedByCategory, function (equipments, category) {
            categories.push(EquipmentCategory(equipments, category));
        });
    }

    function categorizeEquipments(equipments) {
        var categorizedEquipments = _.cloneDeep(equipments);
        _.forEach(categorizedEquipments, function (e) {
            if (!e.category) {
                e.category = e.family;
            }
        });
        return categorizedEquipments;
    }

    function initSearch() {
        searcher.setEquipments(allEquipments);
    }

    function unselectAllEquipments() {
        _.each(allEquipments, function (x) {
            return x.unselect();
        });
    }

    function getLabels() {
        return {
            title: translator.translate("SharedDomain.Equipments"),
            allEquipments: translator.translate("SharedDomain.AllItems"),
            searchEquipments: translator.translate("SharedDomain.SearchButton.Text"),
            notAvailableDescription: translator.translate("Configurator.NotAvailableDescription")
        };
    }

    return {
        labels: getLabels(),
        categories: categories,
        loadingFlag: loadingFlag,
        textToSearch: searcher.textToSearch,
        searchResults: searcher.results,
        search: searcher.search,
        unselectAllEquipments: unselectAllEquipments
    };
}

function EquipmentCategory(equipments, name) {
    return {
        name: name,
        id: _.uniqueId('category_'),
        equipments: equipments
    };
}

function EquipmentsSearch() {
    var textToSearch = ko.observable('');
    var results = ko.observableArray([]);
    var elements = [];

    function setEquipments(equipments) {
        results.removeAll();
        elements.length = 0;
        _.each(equipments, function (equipment) {
            elements.push(equipment);
        });
        search();
    }

    function search() {
        results.removeAll();
        var filteredResults = _.filter(elements, function (element) {
            return element.contains(textToSearch());
        });
        ko.utils.arrayPushAll(results, filteredResults);
    }

    return {
        results: results,
        textToSearch: textToSearch,
        search: search,
        setEquipments: setEquipments
    };
}
module.exports = exports['default'];

},{"./equipments-selector-template":29,"./selectableEquipment":31}],31:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = SelectableEquipment;

function SelectableEquipment(selectableItem, whenSelected, whenUnselected) {
    var isSelected = selectableItem.selected;

    function selectOrUnselect() {
        if (isSelected()) {
            whenUnselected(self);
        } else {
            whenSelected(self);
        }
    }

    function unselect() {
        isSelected(false);
    }

    var self = {
        isSelected: isSelected,
        selectOrUnselect: selectOrUnselect,
        unselect: unselect,
        code: selectableItem.code,
        descriptionWithoutCode: selectableItem.descriptionWithoutCode,
        category: selectableItem.category,
        contains: selectableItem.contains,
        isPackage: selectableItem.isPackage,
        family: selectableItem.family
    };
    return self;
}

module.exports = exports["default"];

},{}],32:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
                        value: true
});
exports["default"] = "\n<search-select params=\"label: labels.label, \n                        placeholder: labels.placeholder, \n                        options: options, \n                        selected: selected,\n                        whenSelected: whenInteriorSelected\">\n</search-select>";
module.exports = exports["default"];

},{}],33:[function(require,module,exports){
'use strict';

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _interiorSelectorTemplate = require('./interior-selector-template');

var _interiorSelectorTemplate2 = _interopRequireDefault(_interiorSelectorTemplate);

aidaCore.ComponentRegister('interior-selector', {
    script: function script(props, dependencyProvider) {
        var translator = dependencyProvider.getTranslator();
        var enableEvents = props.enableEvents || ko.observable(true);
        var whenInteriorSelected = props.whenInteriorSelected || function () {};

        function getLabels() {
            return {
                label: translator.translate('SharedDomain.Vehicle.Interior'),
                placeholder: translator.translate('SharedDomain.SelectValue')
            };
        }

        return {
            labels: getLabels(),
            options: props.options,
            selected: props.selected,
            enableEvents: enableEvents,
            whenInteriorSelected: whenInteriorSelected
        };
    },
    template: _interiorSelectorTemplate2['default']
});

},{"./interior-selector-template":32}],34:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
                        value: true
});
exports["default"] = "\n<!-- ko foreach: categories -->\n<search-select params=\"label: $parent.labels.modelGroupLabel,\n                        placeholder: $parent.labels.placeholder,\n                        options: options, \n                        enabled: enabled,\n                        selected: selected,\n                        whenSelected: whenFilterSelected\">\n</search-select>\n<!-- /ko -->\n<search-select params=\"label: labels.modelLabel,\n                        placeholder: labels.placeholder,\n                        optionsText: modelDescription,\n                        options: models, \n                        enabled: modelEnabled, \n                        selected: modelSelected,\n                        whenSelected: onModelSelected\">\n</search-select>\n<spinner params=\"show: loadingModels\"></spinner>";
module.exports = exports["default"];

},{}],35:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = ModelSelector;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _modelSelectorTemplate = require('./model-selector-template');

var _modelSelectorTemplate2 = _interopRequireDefault(_modelSelectorTemplate);

var _scriptsConfigurationFilter = require("./scripts/configurationFilter");

var _scriptsConfigurationFilter2 = _interopRequireDefault(_scriptsConfigurationFilter);

var _scriptsCategoriesSelector = require('./scripts/categoriesSelector');

var _scriptsCategoriesSelector2 = _interopRequireDefault(_scriptsCategoriesSelector);

var _infrastructureClientsCatalogClient = require('../../infrastructure/clients/catalogClient');

var _infrastructureClientsCatalogClient2 = _interopRequireDefault(_infrastructureClientsCatalogClient);

var _scriptsModelsCatalog = require("./scripts/modelsCatalog");

var _scriptsModelsCatalog2 = _interopRequireDefault(_scriptsModelsCatalog);

aidaCore.ComponentRegister('model-selector', {
    script: {
        create: function create(props, dependencyProvider) {
            var selectedBrand = props.selectedBrand;
            var selectedModel = props.selectedModel || ko.observable();
            var whenModelSelected = props.whenModelSelected;
            var whenModelUnselected = props.whenModelUnselected;
            var whenModelCategorySelected = props.whenModelCategorySelected;
            var whenModelCategoryUnselected = props.whenModelCategoryUnselected;
            var loadedModel = props.loadedModel;
            var translator = dependencyProvider.getTranslator();
            var catalogClient = (0, _infrastructureClientsCatalogClient2['default'])(dependencyProvider.getRestClient(), {}, {});

            return new ModelSelector({
                selectedBrand: selectedBrand,
                selectedModel: selectedModel,
                whenModelSelected: whenModelSelected,
                whenModelUnselected: whenModelUnselected,
                whenModelCategorySelected: whenModelCategorySelected,
                whenModelCategoryUnselected: whenModelCategoryUnselected,
                loadedModel: loadedModel
            }, {
                translator: translator,
                catalogClient: catalogClient
            });
        },
        onCreated: function onCreated(script) {
            return script.initialize();
        }
    },
    template: _modelSelectorTemplate2['default']
});

function ModelSelector(_ref, _ref2) {
    var selectedBrand = _ref.selectedBrand;
    var selectedModel = _ref.selectedModel;
    var whenModelSelected = _ref.whenModelSelected;
    var whenModelUnselected = _ref.whenModelUnselected;
    var whenModelCategorySelected = _ref.whenModelCategorySelected;
    var whenModelCategoryUnselected = _ref.whenModelCategoryUnselected;
    var loadedModel = _ref.loadedModel;
    var translator = _ref2.translator;
    var catalogClient = _ref2.catalogClient;

    var modelFilter = (0, _scriptsConfigurationFilter2['default'])("Model", [], whenModelFilterChanged, selectedModel);
    var categoriesSelector = (0, _scriptsCategoriesSelector2['default'])(onFinishFiltering, onResetAnyCategoryFilter);
    var loading = ko.observable(false);
    var catalog = undefined;

    selectedBrand.subscribe(function () {
        getModels();
    });

    loadedModel.subscribe(selectModel);

    function selectModel(modelToSelect) {
        var model = catalog.getModel(modelToSelect.id);
        categoriesSelector.selectCategoriesForModel(model);
        modelFilter.select(model);
    }

    function initialize() {
        getModels();
    }

    function getModels() {
        if (!selectedBrand()) return;
        loading(true);
        catalogClient.getModels(selectedBrand().id, whenModelsReceived, onModelsError);
    }

    function whenModelsReceived(models) {
        loading(false);
        if (_(models).isEmpty()) return;
        var catalogModels = _.cloneDeep(models);
        catalog = (0, _scriptsModelsCatalog2['default'])(catalogModels);
        modelFilter.resetOptions();
        categoriesSelector.initializeCategories(catalog);
    }

    function onModelsError() {
        loading(false);
        categoriesSelector.filtersAlreadyNotCreated(false);
    }

    function whenModelFilterChanged(name, selectedValue) {
        if (!_.isUndefined(selectedValue)) {
            whenModelSelected(selectedValue);
        } else {
            whenModelUnselected();
        }
    }

    function onFinishFiltering(selectedValueId, filteredOptions) {
        modelFilter.setNewOptions(filteredOptions);
        whenModelCategorySelected(selectedValueId, modelFilter);
    }

    function onResetAnyCategoryFilter() {
        modelFilter.resetOptions();
        whenModelCategoryUnselected();
    }

    function getLabels() {
        return {
            modelGroupLabel: translator.translate('SharedDomain.Vehicle.ModelGroup'),
            modelLabel: translator.translate('SharedDomain.Vehicle.Model'),
            placeholder: translator.translate('SharedDomain.SelectValue')
        };
    }

    function getModelDescription(model) {
        var description = model.key.code + ' - ' + model.description;
        if (model.isAVersion) return description + ' (B)';
        return description;
    }

    return {
        initialize: initialize,
        getModels: getModels,
        labels: getLabels(),
        categories: categoriesSelector.filters,
        models: modelFilter.options,
        modelEnabled: modelFilter.enabled,
        modelSelected: modelFilter.selected,
        onModelSelected: modelFilter.whenFilterSelected,
        whenModelSelected: whenModelSelected,
        loadingModels: loading,
        modelDescription: getModelDescription
    };
}

module.exports = exports['default'];

},{"../../infrastructure/clients/catalogClient":42,"./model-selector-template":34,"./scripts/categoriesSelector":36,"./scripts/configurationFilter":37,"./scripts/modelsCatalog":38}],36:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CategoriesSelector;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _configurationFilter = require("./configurationFilter");

var _configurationFilter2 = _interopRequireDefault(_configurationFilter);

function CategoriesSelector(whenFinishFiltering, whenResetAnyFilter) {
    var FILTER_NOT_FOUND = -1;
    var filtersAlreadyNotCreated = ko.observable(true);
    var catalog = undefined;
    var categoryFilters = ko.observableArray();

    function initializeCategories(initialCatalog) {
        catalog = initialCatalog;
        createFilters();
        filtersAlreadyNotCreated(false);
    }

    function createFilters() {
        categoryFilters.removeAll();
        var categories = catalog.getNamesOfCategories();

        _.forEach(categories, function (category) {
            categoryFilters.push((0, _configurationFilter2["default"])(category, [], whenFilterChangeValue));
        });

        loadValuesForFirstfilter();
    }

    function loadValuesForFirstfilter() {
        var firstFilter = categoryFilters()[0];
        var options = catalog.valuesForCategory(firstFilter.name);
        firstFilter.setNewOptions(options);
    }

    function whenFilterChangeValue(filterName, selectedValue) {
        if (_.isUndefined(selectedValue)) {
            clearNextFilters(filterName);
            whenResetAnyFilter();
        } else {
            setOptionsForNextFilter(filterName, selectedValue);
        }
    }

    function setOptionsForNextFilter(filterName, selectedValue) {
        var filteredOptions = undefined;
        if (isLastFilter(filterName)) {
            filteredOptions = catalog.getModels(filterName, selectedValue);
            whenFinishFiltering(selectedValue.id, filteredOptions);
        } else {
            var nextFilter = findNextFilter(filterName);
            filteredOptions = catalog.valuesForCategory(nextFilter.name, selectedValue);
            clearNextFilters(nextFilter.name);
            whenResetAnyFilter();
            nextFilter.setNewOptions(filteredOptions);
        }
    }

    function clearNextFilters(filterName) {
        var filterIndex = indexOfFilter(filterName);
        if (filterIndex == FILTER_NOT_FOUND) return;

        for (var i = filterIndex + 1; i < categoryFilters().length; i++) {
            categoryFilters()[i].setNewOptions([]);
        }
    }

    function indexOfFilter(filterName) {
        for (var i = 0; i < categoryFilters().length; i++) {
            if (categoryFilters()[i].name === filterName) {
                return i;
            }
        }
        return FILTER_NOT_FOUND;
    }

    function findNextFilter(filterName) {
        for (var i = 0; i < categoryFilters().length; i++) {
            if (categoryFilters()[i].name === filterName) {
                if (i + 1 === categoryFilters().length) {
                    return null;
                } else {
                    return categoryFilters()[i + 1];
                }
            }
        }
    }

    function isLastFilter(filterName) {
        return _.findLastIndex(categoryFilters(), function (filter) {
            return filter.name == filterName;
        }) === categoryFilters().length - 1;
    }

    function selectCategoriesForModel(model) {
        _.forEach(categoryFilters(), function (categoryFilter) {
            categoryFilter.select(model.categories[categoryFilter.name]);
        });
    }

    return {
        filters: categoryFilters,
        filtersAlreadyNotCreated: filtersAlreadyNotCreated,
        initializeCategories: initializeCategories,
        selectCategoriesForModel: selectCategoriesForModel
    };
}

module.exports = exports["default"];

},{"./configurationFilter":37}],37:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfigurationFilter;

function ConfigurationFilter(name, initialOptions, whenFilterChange, selectedModel) {

    var selected = selectedModel || ko.observable();
    var options = ko.observableArray(initialOptions);
    var enabled = ko.computed(function () {
        return options().length != 0;
    });

    function whenFilterSelected(selectedValue) {
        var description = _.isObject(selectedValue) ? selectedValue.description : null;
        selectValue(description);
        whenFilterChange(name, selected());
    }

    function selectValue(value) {
        var selectedOption = _.find(options(), function (option) {
            return option.description == value;
        });
        selected(selectedOption);
    }

    function select(value) {
        var selectedOption = _.find(options(), function (option) {
            return _.isEqual(option, value);
        });
        selected(selectedOption);
        whenFilterSelected(selected());
    }

    function setNewOptions(newOptions) {
        options.removeAll();
        ko.utils.arrayPushAll(options, newOptions);
        selected(undefined);
        whenFilterSelected(selected());
    }

    function resetOptions() {
        setNewOptions([]);
        select(undefined);
    }

    return {
        name: name,
        options: options,
        selected: selected,
        enabled: enabled,
        setNewOptions: setNewOptions,
        resetOptions: resetOptions,
        whenFilterSelected: whenFilterSelected,
        select: select
    };
}

module.exports = exports["default"];

},{}],38:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ModelsCatalog;

function ModelsCatalog(catalogModels) {

    addHierarchicalIdsToModels();

    function addHierarchicalIdsToModels() {
        return _.map(catalogModels, addHierarchicalIdsToOneModel);
    }

    function addHierarchicalIdsToOneModel(model) {
        var parentId = "";
        _.forOwn(model.categories, function (category) {
            category.HierarchicalId = parentId + "_" + category.id;
            parentId = category.HierarchicalId;
        });
    }

    function getNamesOfCategories() {
        return _.keys(catalogModels[0].categories);
    }

    function valuesForCategory(category, parentFilter) {
        var selectedModels = undefined;

        if (_.isUndefined(parentFilter)) {
            selectedModels = catalogModels;
        } else {
            selectedModels = _(catalogModels).select(function (model) {
                var modelHierarchicalId = model.categories[category].HierarchicalId;
                return _(modelHierarchicalId).startsWith(parentFilter.HierarchicalId);
            }).value();
        }

        return _(selectedModels).map(function (model) {
            return model.categories[category];
        }).unique("id").value();
    }

    function getModels(category, filter) {
        return _(catalogModels).select(function (model) {
            return model.categories[category].HierarchicalId == filter.HierarchicalId;
        }).value();
    }

    function getModel(modelId) {
        return _.find(catalogModels, function (x) {
            return x.key.id == modelId;
        });
    }

    return {
        getNamesOfCategories: getNamesOfCategories,
        valuesForCategory: valuesForCategory,
        getModels: getModels,
        getModel: getModel
    };
}

module.exports = exports["default"];

},{}],39:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = VehicleImageIdentifier;

function VehicleImageIdentifier(modelId, colorCode, interiorCode) {
    var emptyValue = null;

    function reset() {
        if (modelId) modelId = emptyValue;
        if (colorCode) colorCode = emptyValue;
        if (interiorCode) interiorCode = emptyValue;
    }

    return {
        reset: reset,
        modelId: modelId, colorCode: colorCode, interiorCode: interiorCode
    };
}

module.exports = exports["default"];

},{}],40:[function(require,module,exports){
/* eslint-disable */ // Autogenerated with Gulp (task: parse-components-templates)
// Dont change this file, change the .html file instead and run Gulp
"use strict";

Object.defineProperty(exports, "__esModule", {
                            value: true
});
exports["default"] = "\n<!-- ko with: imageUrl -->\n<div data-bind=\"imageWithPreload: {\n                            url: $data,\n                            imgCss: 'center-block img-responsive',\n                            spinnerCss: 'fa fa-refresh fa-spinner fa-2x'\n                }\" class=\"image\">\n</div>\n<!-- /ko -->";
module.exports = exports["default"];

},{}],41:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', {
    value: true
});
exports['default'] = VehicleImage;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

var _vehicleImageTemplate = require('./vehicle-image-template');

var _vehicleImageTemplate2 = _interopRequireDefault(_vehicleImageTemplate);

aidaCore.ComponentRegister('vehicle-image', {
    script: function script(props, dependencyProvider) {
        var vehicleImageIdentifier = props.vehicleImageIdentifier;
        var apiBaseUrl = dependencyProvider.getApiBaseUrl();

        return VehicleImage({ vehicleImageIdentifier: vehicleImageIdentifier }, { apiBaseUrl: apiBaseUrl });
    },
    template: _vehicleImageTemplate2['default']
});

function VehicleImage(_ref, _ref2) {
    var vehicleImageIdentifier = _ref.vehicleImageIdentifier;
    var apiBaseUrl = _ref2.apiBaseUrl;

    var imageUrl = ko.computed(function () {
        if (vehicleImageIdentifier()) {
            return apiBaseUrl + 'vehicle/image?modelId=' + vehicleImageIdentifier().modelId + '&colorCode=' + vehicleImageIdentifier().colorCode + '&interiorCode=' + vehicleImageIdentifier().interiorCode;
        }
        return undefined;
    });

    return {
        imageUrl: imageUrl
    };
}

module.exports = exports['default'];

},{"./vehicle-image-template":40}],42:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = CatalogClient;

function CatalogClient(restClient, errorPublisher, errorTitles) {
    return {
        getModels: function getModels(brandId, callback, errorCallback) {
            var url = "brands/" + brandId + "/models";
            restClient.get(url, function (result) {
                return callback(result);
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CatalogError, xhr, errorCallback);
            });
        },
        getCatalog: function getCatalog(brandId, model, callback, errorCallback) {
            var url = "brands/" + brandId + "/models/" + model + "/catalog";
            restClient.get(url, function (result) {
                return callback(result);
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CatalogError, xhr, errorCallback);
            });
        }
    };
}

module.exports = exports["default"];

},{}],43:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports["default"] = ConfigurationClient;

function ConfigurationClient(restClient, errorPublisher, errorTitles) {
    var ChangeColor = "ChangeColor";
    var ChangeInterior = "ChangeInterior";
    var ChangeEquipments = "ChangeEquipments";
    var NewConfiguration = "NewConfiguration";

    function actionType(action) {
        return {
            IsChangeColor: function IsChangeColor() {
                return action == ChangeColor;
            },
            IsChangeInterior: function IsChangeInterior() {
                return action == ChangeInterior;
            },
            IsChangeEquipments: function IsChangeEquipments() {
                return action == ChangeEquipments;
            },
            IsNewConfiguration: function IsNewConfiguration() {
                return action == NewConfiguration;
            }
        };
    }

    return {
        createConfiguration: function createConfiguration(brandId, model, callback, errorCallback) {
            var url = "/brands/" + brandId + "/models/" + model.code;

            restClient.post(url, {}, {}, function (result) {
                return callback(result, actionType(NewConfiguration));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotCreateConfiguration, xhr, errorCallback);
            });
        },
        createConfigurationWithCombination: function createConfigurationWithCombination(brandId, combination, callback, errorCallback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "/brands/" + brandId + "/models/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.post(url, {}, {}, function (result) {
                return callback(result, actionType(NewConfiguration));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotCreateConfiguration, xhr, errorCallback);
            });
        },
        addPackage: function addPackage(modelConfiguration, combination, callback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "configuration/package/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectCombination, xhr);
            });
        },
        addPackageWithoutCombination: function addPackageWithoutCombination(modelConfiguration, equipmentCode, callback) {
            var url = "configuration/package/" + equipmentCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectEquipment, xhr);
            });
        },
        removePackage: function removePackage(modelConfiguration, equipmentCode, callback) {
            var url = "configuration/package/" + equipmentCode;

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotUnselect, xhr);
            });
        },
        addEquipment: function addEquipment(modelConfiguration, combination, callback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "configuration/equipment/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectCombination, xhr);
            });
        },
        addEquipmentWithoutCombination: function addEquipmentWithoutCombination(modelConfiguration, equipmentCode, callback) {
            var url = "configuration/equipment/" + equipmentCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotSelectEquipment, xhr);
            });
        },
        removeEquipment: function removeEquipment(modelConfiguration, equipmentCode, callback) {
            var url = "configuration/equipment/" + equipmentCode;

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeEquipments));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotUnselect, xhr);
            });
        },
        changeColor: function changeColor(modelConfiguration, combination, callback, errorCallback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "configuration/color/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeColor));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeColor, xhr, errorCallback);
            });
        },
        removeColor: function removeColor(modelConfiguration, callback) {
            var url = "configuration/color/";

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeColor));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeColor, xhr);
            });
        },
        changeColorWithoutCombination: function changeColorWithoutCombination(modelConfiguration, colorCode, callback, errorCallback) {
            var url = "configuration/color/" + colorCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeColor));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeColor, xhr, errorCallback);
            });
        },
        changeInterior: function changeInterior(modelConfiguration, combination, callback) {
            var combinationChoiceParam = _.pluck(combination.items, "code").join('_');
            var url = "configuration/interior/" + combination.root.code + "?combinationChoice=" + combinationChoiceParam;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeInterior));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeInterior, xhr);
            });
        },
        removeInterior: function removeInterior(modelConfiguration, callback) {
            var url = "configuration/interior/";

            restClient.remove(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, function (result) {
                return callback(result, actionType(ChangeInterior));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeInterior, xhr);
            });
        },
        changeInteriorWithoutCombination: function changeInteriorWithoutCombination(modelConfiguration, interiorCode, callback, errorCallback) {
            var url = "configuration/interior/" + interiorCode;

            restClient.put(url, { configuration: JSON.stringify(modelConfiguration.toJson()) }, {}, function (result) {
                return callback(result, actionType(ChangeInterior));
            }, function (xhr, error, errorType) {
                return errorPublisher.publish(errorType, errorTitles.CannotChangeInterior, xhr, errorCallback);
            });
        }
    };
}

module.exports = exports["default"];

},{}],"aida-configurator":[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.exportApi = exportApi;

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var _domainConfiguratorConfigurator = require("./domain/configurator/configurator");

var _domainConfiguratorConfigurator2 = _interopRequireDefault(_domainConfiguratorConfigurator);

var _domainVehicleImageScriptsVehicleImageIdentifier = require("./domain/vehicle-image/scripts/vehicleImageIdentifier");

var _domainVehicleImageScriptsVehicleImageIdentifier2 = _interopRequireDefault(_domainVehicleImageScriptsVehicleImageIdentifier);

var _domainDtosVehicleSummary = require("./domain/dtos/vehicleSummary");

var _domainDtosVehicleSummary2 = _interopRequireDefault(_domainDtosVehicleSummary);

function exportApi() {
    return {
        Configurator: _domainConfiguratorConfigurator2["default"],
        VehicleImageIdentifier: _domainVehicleImageScriptsVehicleImageIdentifier2["default"],
        VehicleSummary: _domainDtosVehicleSummary2["default"]
    };
}

var aidaConfigurator = require('aida-configurator').exportApi();
window.aidaConfigurator = aidaConfigurator;

},{"./domain/configurator/configurator":17,"./domain/dtos/vehicleSummary":28,"./domain/vehicle-image/scripts/vehicleImageIdentifier":39,"aida-configurator":"aida-configurator"}]},{},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,"aida-configurator"])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJTY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29sb3Itc2VsZWN0b3IvY29sb3Itc2VsZWN0b3ItdGVtcGxhdGUuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbG9yLXNlbGVjdG9yL2NvbG9yLXNlbGVjdG9yLmpzIiwiU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbWJpbmF0aW9uLXNlbGVjdG9yL2NvbWJpbmF0aW9uLXNlbGVjdG9yLXRlbXBsYXRlLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb21iaW5hdGlvbi1zZWxlY3Rvci9jb21iaW5hdGlvbi1zZWxlY3Rvci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL1NjcmlwdHMvY29sb3JDb25maWd1cmF0b3IuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbWJpbmF0aW9uLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9jb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbWJpbmF0aW9uc0J1aWxkZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbmZpZ3VyYXRvckFwcGxpZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2NvbmZpZ3VyYXRvck5vdGlmaWVyLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9lcXVpcG1lbnRzU2VsZWN0b3IuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9TY3JpcHRzL2ludGVyaW9yQ29uZmlndXJhdG9yLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9tb2RlbENhdGFsb2dTZWxlY3RhYmxlcy5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL1NjcmlwdHMvbW9kZWxDb25maWd1cmF0aW9uLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvU2NyaXB0cy9zZWxlY3RhYmxlSXRlbS5qcyIsIlNjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvY29uZmlndXJhdG9yLXRlbXBsYXRlLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3IvY29uZmlndXJhdG9yLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3Ivc2NyaXB0cy9jb2xvckNvbmZpZ3VyYXRvci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29tYmluYXRpb24uanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9zY3JpcHRzL2NvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29tYmluYXRpb25zQnVpbGRlci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29uZmlndXJhdG9yQXBwbGllci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvY29uZmlndXJhdG9yTm90aWZpZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2NvbmZpZ3VyYXRvci9zY3JpcHRzL2ludGVyaW9yQ29uZmlndXJhdG9yLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3Ivc2NyaXB0cy9tb2RlbENhdGFsb2dTZWxlY3RhYmxlcy5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vY29uZmlndXJhdG9yL3NjcmlwdHMvbW9kZWxDb25maWd1cmF0aW9uLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9jb25maWd1cmF0b3Ivc2NyaXB0cy9zZWxlY3RhYmxlSXRlbS5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vZHRvcy92ZWhpY2xlU3VtbWFyeS5qcyIsIlNjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9lcXVpcG1lbnRzLXNlbGVjdG9yL2VxdWlwbWVudHMtc2VsZWN0b3ItdGVtcGxhdGUuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2VxdWlwbWVudHMtc2VsZWN0b3IvZXF1aXBtZW50cy1zZWxlY3Rvci5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vZXF1aXBtZW50cy1zZWxlY3Rvci9zZWxlY3RhYmxlRXF1aXBtZW50LmpzIiwiU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL2ludGVyaW9yLXNlbGVjdG9yL2ludGVyaW9yLXNlbGVjdG9yLXRlbXBsYXRlLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9pbnRlcmlvci1zZWxlY3Rvci9pbnRlcmlvci1zZWxlY3Rvci5qcyIsIlNjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9tb2RlbC1zZWxlY3Rvci9tb2RlbC1zZWxlY3Rvci10ZW1wbGF0ZS5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vbW9kZWwtc2VsZWN0b3IvbW9kZWwtc2VsZWN0b3IuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL21vZGVsLXNlbGVjdG9yL3NjcmlwdHMvY2F0ZWdvcmllc1NlbGVjdG9yLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi9tb2RlbC1zZWxlY3Rvci9zY3JpcHRzL2NvbmZpZ3VyYXRpb25GaWx0ZXIuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvZG9tYWluL21vZGVsLXNlbGVjdG9yL3NjcmlwdHMvbW9kZWxzQ2F0YWxvZy5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vdmVoaWNsZS1pbWFnZS9zY3JpcHRzL3ZlaGljbGVJbWFnZUlkZW50aWZpZXIuanMiLCJTY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9kb21haW4vdmVoaWNsZS1pbWFnZS92ZWhpY2xlLWltYWdlLXRlbXBsYXRlLmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2RvbWFpbi92ZWhpY2xlLWltYWdlL3ZlaGljbGUtaW1hZ2UuanMiLCJDOi9Qcm9qZWN0cy9TSU1BMi9ORVQvU2FsZXMvQ29uZmlndXJhdG9yL0NvbmZpZ3VyYXRvci5XZWIvU2NyaXB0cy9iaW4vdGVtcC9qcy9zcmMvaW5mcmFzdHJ1Y3R1cmUvY2xpZW50cy9jYXRhbG9nQ2xpZW50LmpzIiwiQzovUHJvamVjdHMvU0lNQTIvTkVUL1NhbGVzL0NvbmZpZ3VyYXRvci9Db25maWd1cmF0b3IuV2ViL1NjcmlwdHMvYmluL3RlbXAvanMvc3JjL2luZnJhc3RydWN0dXJlL2NsaWVudHMvY29uZmlndXJhdGlvbkNsaWVudC5qcyIsIkM6L1Byb2plY3RzL1NJTUEyL05FVC9TYWxlcy9Db25maWd1cmF0b3IvQ29uZmlndXJhdG9yLldlYi9TY3JpcHRzL2Jpbi90ZW1wL2pzL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7OztxQ0NUcUIsMkJBQTJCOzs7O0FBRWhELFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsRUFBRTtBQUN6QyxVQUFNLEVBQUUsZ0JBQUMsS0FBSyxFQUFFLGtCQUFrQixFQUFLO0FBQ25DLFlBQU0sVUFBVSxHQUFHLGtCQUFrQixDQUFDLGFBQWEsRUFBRSxDQUFDO0FBQ3RELFlBQU0sWUFBWSxHQUFHLEtBQUssQ0FBQyxZQUFZLElBQUksRUFBRSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMvRCxZQUFNLGlCQUFpQixHQUFHLEtBQUssQ0FBQyxpQkFBaUIsSUFBSyxZQUFNLEVBQUUsQUFBQyxDQUFDOztBQUVoRSxpQkFBUyxTQUFTLEdBQUc7QUFDakIsbUJBQU87QUFDSCxxQkFBSyxFQUFFLFVBQVUsQ0FBQyxTQUFTLENBQUMsNEJBQTRCLENBQUM7QUFDekQsMkJBQVcsRUFBRSxVQUFVLENBQUMsU0FBUyxDQUFDLDBCQUEwQixDQUFDO2FBQ2hFLENBQUM7U0FDTDs7QUFFRCxlQUFPO0FBQ0gsa0JBQU0sRUFBRSxTQUFTLEVBQUU7QUFDbkIsbUJBQU8sRUFBRSxLQUFLLENBQUMsT0FBTztBQUN0QixvQkFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRO0FBQ3hCLHdCQUFZLEVBQVosWUFBWTtBQUNaLDZCQUFpQixFQUFqQixpQkFBaUI7U0FDcEIsQ0FBQztLQUNMO0FBQ0QsWUFBUSxvQ0FBVTtDQUNyQixDQUFDLENBQUM7OztBQ3hCSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7OztxQkNTd0IseUJBQXlCOzs7OzJDQWxCNUIsaUNBQWlDOzs7O0FBRXRELFFBQVEsQ0FBQyxpQkFB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bEQsU0FBUyxTQUFTLEdBQUc7QUFDeEIsV0FBTztBQUNILG9CQUFZLDZDQUFBO0FBQ1osOEJBQXNCLDhEQUFBO0FBQ3RCLHNCQUFjLHVDQUFBO0tBQ2pCLENBQUM7Q0FDTDs7QUFFRCxJQUFJLGdCQUFnQixHQUFHLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDO0FBQ2hFLE1BQU0sQ0FBQyxnQkFBZ0IsR0FBRyxnQkFBZ0IsQ0FBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvKiBlc2xpbnQtZGlzYWJsZSAqLyAvLyBBdXRvZ2VuZXJhdGVkIHdpdGggR3VscCAodGFzazogcGFyc2UtY29tcG9uZW50cy10ZW1wbGF0ZXMpXG4vLyBEb250IGNoYW5nZSB0aGlzIGZpbGUsIGNoYW5nZSB0aGUgLmh0bWwgZmlsZSBpbnN0ZWFkIGFuZCBydW4gR3VscFxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBcIlxcbjxzZWFyY2gtc2VsZWN0IHBhcmFtcz1cXFwibGFiZWw6IGxhYmVscy5sYWJlbCwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGxhYmVscy5wbGFjZWhvbGRlciwgXFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucywgXFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ6IHNlbGVjdGVkLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5TZWxlY3RlZDogd2hlbkNvbG9yU2VsZWN0ZWRcXFwiPlxcbjwvc2VhcmNoLXNlbGVjdD5cIjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSkRPaTlRY205cVpXTjBjeTlUU1UxQk1pOU9SVlF2VTJGc1pYTXZRMjl1Wm1sbmRYSmhkRzl5TDBOdmJtWnBaM1Z5WVhSdmNpNVhaV0l2VTJOeWFYQjBjeTlpYVc0dmRHVnRjQzlxY3k5emNtTXZaRzl0WVdsdUwyTnZiRzl5TFhObGJHVmpkRzl5TDJOdmJHOXlMWE5sYkdWamRHOXlMWFJsYlhCc1lYUmxMbXB6SWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2x0ZGZRPT0iLCJpbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9jb2xvci1zZWxlY3Rvci10ZW1wbGF0ZSc7XHJcblxyXG5haWRhQ29yZS5Db21wb25lbnRSZWdpc3RlcignY29sb3Itc2VsZWN0b3InLCB7XHJcbiAgICBzY3JpcHQ6IChwcm9wcywgZGVwZW5kZW5jeVByb3ZpZGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdHJhbnNsYXRvciA9IGRlcGVuZGVuY3lQcm92aWRlci5nZXRUcmFuc2xhdG9yKCk7XHJcbiAgICAgICAgY29uc3QgZW5hYmxlRXZlbnRzID0gcHJvcHMuZW5hYmxlRXZlbnRzIHx8IGtvLm9ic2VydmFibGUodHJ1ZSk7XHJcbiAgICAgICAgY29uc3Qgd2hlbkNvbG9yU2VsZWN0ZWQgPSBwcm9wcy53aGVuQ29sb3JTZWxlY3RlZCB8fCAoKCkgPT4ge30pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBsYWJlbDogdHJhbnNsYXRvci50cmFuc2xhdGUoJ1NoYXJlZERvbWFpbi5WZWhpY2xlLkNvbG9yJyksXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdHJhbnNsYXRvci50cmFuc2xhdGUoJ1NoYXJlZERvbWFpbi5TZWxlY3RWYWx1ZScpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBsYWJlbHM6IGdldExhYmVscygpLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBwcm9wcy5vcHRpb25zLFxyXG4gICAgICAgICAgICBzZWxlY3RlZDogcHJvcHMuc2VsZWN0ZWQsXHJcbiAgICAgICAgICAgIGVuYWJsZUV2ZW50cyxcclxuICAgICAgICAgICAgd2hlbkNvbG9yU2VsZWN0ZWRcclxuICAgICAgICB9O1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxyXG59KTsiLCIvKiBlc2xpbnQtZGlzYWJsZSAqLyAvLyBBdXRvZ2VuZXJhdGVkIHdpdGggR3VscCAodGFzazogcGFyc2UtY29tcG9uZW50cy10ZW1wbGF0ZXMpXG4vLyBEb250IGNoYW5nZSB0aGlzIGZpbGUsIGNoYW5nZSB0aGUgLmh0bWwgZmlsZSBpbnN0ZWFkIGFuZCBydW4gR3VscFxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gXCJcXG48ZGl2IGRhdGEtYmFja2Ryb3A9XFxcInN0YXRpY1xcXCIgZGF0YS1rZXlib2FyZD1cXFwiZmFsc2VcXFwiIGRhdGEtYmluZD1cXFwibW9kYWw6IHtcXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHZpc2libGUsXFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IHsgbmFtZTogaGVhZGVyVGVtcGxhdGUsIGRhdGE6IHsgaGVhZGVyTGFiZWw6IGxhYmVscy5sYWJlbCB9fSxcXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IHsgbmFtZTogJ2NvbWJpbmF0aW9uc19zZWxlY3RvcicsIGRhdGE6IHsgY2hvaWNlczogY2hvaWNlcyB9fVxcbiAgICAgICAgICAgICAgICB9XFxcIj5cXG48L2Rpdj5cXG5cXG48c2NyaXB0IHR5cGU9XFxcInRleHQvaHRtbFxcXCIgaWQ9XFxcImhlYWRlcl93aXRob3V0X2Nsb3NlXFxcIj5cXG4gICAgPGgzIGRhdGEtYmluZD1cXFwidGV4dDogaGVhZGVyTGFiZWxcXFwiPjwvaDM+XFxuPC9zY3JpcHQ+XFxuXFxuPHNjcmlwdCB0eXBlPVxcXCJ0ZXh0L2h0bWxcXFwiIGlkPVxcXCJoZWFkZXJfd2l0aF9jbG9zZVxcXCI+XFxuICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIj7DlzwvYnV0dG9uPlxcbiAgICA8aDMgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBoZWFkZXJMYWJlbFxcXCI+PC9oMz5cXG48L3NjcmlwdD5cXG5cXG48c2NyaXB0IHR5cGU9XFxcInRleHQvaHRtbFxcXCIgaWQ9XFxcImNvbWJpbmF0aW9uc19zZWxlY3RvclxcXCI+XFxuICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiBjaG9pY2VzXFxcIj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdGFibGVib3hcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IHNlbGVjdFxcXCIgc3R5bGU9XFxcIm1hcmdpbjogNXB4XFxcIj5cXG4gICAgICAgICAgICA8dWwgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiBpdGVtc1xcXCI+XFxuICAgICAgICAgICAgICAgIDxsaSBkYXRhLWJpbmQ9XFxcInRleHQ6IGRlc2NyaXB0aW9uXFxcIj48L2xpPlxcbiAgICAgICAgICAgIDwvdWw+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuPC9zY3JpcHQ+XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUlzSW1acGJHVWlPaUpET2k5UWNtOXFaV04wY3k5VFNVMUJNaTlPUlZRdlUyRnNaWE12UTI5dVptbG5kWEpoZEc5eUwwTnZibVpwWjNWeVlYUnZjaTVYWldJdlUyTnlhWEIwY3k5aWFXNHZkR1Z0Y0M5cWN5OXpjbU12Wkc5dFlXbHVMMk52YldKcGJtRjBhVzl1TFhObGJHVmpkRzl5TDJOdmJXSnBibUYwYVc5dUxYTmxiR1ZqZEc5eUxYUmxiWEJzWVhSbExtcHpJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHRkZlE9PSIsImltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL2NvbWJpbmF0aW9uLXNlbGVjdG9yLXRlbXBsYXRlJztcclxuXHJcbmFpZGFDb3JlLkNvbXBvbmVudFJlZ2lzdGVyKCdjb21iaW5hdGlvbi1zZWxlY3RvcicsIHtcclxuICAgIHNjcmlwdDoge1xyXG4gICAgICAgIGNyZWF0ZTogKHByb3BzLCBkZXBlbmRlbmN5UHJvdmlkZXIpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgdmlzaWJsZTogcHJvcHMudmlzaWJsZSxcclxuICAgICAgICAgICAgICAgIGlzU2VsZWN0aW9uTWFuZGF0b3J5OiBwcm9wcy5pc1NlbGVjdGlvbk1hbmRhdG9yeSB8fCBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHByb3BzLm9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICB0cmFuc2xhdG9yOiBkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0VHJhbnNsYXRvcigpLFxyXG4gICAgICAgICAgICAgICAgd2hlblNlbGVjdGVkOiBwcm9wcy53aGVuU2VsZWN0ZWQgfHwgKCgpID0+IHsgfSlcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21iaW5hdGlvblNlbGVjdG9yU2NyaXB0KHBhcmFtcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbWJpbmF0aW9uU2VsZWN0b3JTY3JpcHQoeyB2aXNpYmxlLCBpc1NlbGVjdGlvbk1hbmRhdG9yeSwgb3B0aW9ucywgdHJhbnNsYXRvciwgd2hlblNlbGVjdGVkIH0pIHtcclxuICAgIGxldCBjdXJyZW50Q29tYmluYXRpb25TZWxlY3RlZDtcclxuICAgIGxldCBjaG9pY2VzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGxldCBoZWFkZXJUZW1wbGF0ZSA9IGtvLm9ic2VydmFibGUoZ2V0SGVhZGVyKCkpO1xyXG5cclxuICAgIHZpc2libGUuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICBpZiAodmlzaWJsZSgpKSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxpemUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aGVuU2VsZWN0ZWQoY3VycmVudENvbWJpbmF0aW9uU2VsZWN0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Db21iaW5hdGlvblNlbGVjdGVkKGNvbWJpbmF0aW9uKSB7XHJcbiAgICAgICAgY3VycmVudENvbWJpbmF0aW9uU2VsZWN0ZWQgPSBjb21iaW5hdGlvbjtcclxuICAgICAgICB2aXNpYmxlKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIGhlYWRlclRlbXBsYXRlKGdldEhlYWRlcigpKTtcclxuICAgICAgICBjdXJyZW50Q29tYmluYXRpb25TZWxlY3RlZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBjaG9pY2VzLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIF8uZWFjaChvcHRpb25zKCksIChvcHRpb24pID0+IG9wdGlvbi53aGVuU2VsZWN0ZWQod2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWQpKTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwoY2hvaWNlcywgb3B0aW9ucygpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRIZWFkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGtvLnVud3JhcChpc1NlbGVjdGlvbk1hbmRhdG9yeSkgPyAnaGVhZGVyX3dpdGhvdXRfY2xvc2UnIDogJ2hlYWRlcl93aXRoX2Nsb3NlJztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRMYWJlbHMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLkNvbWJpbmF0aW9uU2VsZWN0b3IuSGVhZGVyXCIpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHZpc2libGUsXHJcbiAgICAgICAgaGVhZGVyVGVtcGxhdGUsXHJcbiAgICAgICAgY2hvaWNlcyxcclxuICAgICAgICBpbml0aWFsaXplLFxyXG4gICAgICAgIGxhYmVsczogZ2V0TGFiZWxzKClcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb2xvckNvbmZpZ3VyYXRvcih3aGVuQ29sb3JJc1NlbGVjdGVkKSB7XHJcblxyXG4gICAgY29uc3QgY29sb3JPcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGNvbnN0IGNvbG9yU2VsZWN0ZWQgPSBrby5vYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgY29sb3JTZWxlY3RlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHdoZW5Db2xvcklzU2VsZWN0ZWQoY29sb3JTZWxlY3RlZCgpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTZWxlY3Rvcihjb2xvcnMpIHtcclxuICAgICAgICBjb2xvck9wdGlvbnMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKGNvbG9yT3B0aW9ucywgY29sb3JzKTtcclxuICAgICAgICBjb2xvclNlbGVjdGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHNldE9wdGlvbnNGb3JTZWxlY3RlZEludGVyaW9yKG1vZGVsQ29uZmlndXJhdGlvbiwgY2F0YWxvZykge1xyXG4gICAgICAgIGlmICghbW9kZWxDb25maWd1cmF0aW9uLmhhc0ludGVyaW9yKCkpIHtcclxuICAgICAgICAgICAgY29sb3JPcHRpb25zKGNhdGFsb2cuY29sb3JzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb2xvck9wdGlvbnMoY2F0YWxvZy5jb21wYXRpYmxlQ29sb3JzV2l0aChtb2RlbENvbmZpZ3VyYXRpb24uY29uZmlndXJlZEludGVyaW9yKCkuY29kZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG9wdGlvbnM6IGNvbG9yT3B0aW9ucyxcclxuICAgICAgICBzZWxlY3RlZDogY29sb3JTZWxlY3RlZCxcclxuICAgICAgICBpbml0aWFsaXplU2VsZWN0b3IsXHJcbiAgICAgICAgc2V0T3B0aW9uc0ZvclNlbGVjdGVkSW50ZXJpb3JcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21iaW5hdGlvbihyb290LCBpdGVtcywgZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcbiAgICBsZXQgd2hlblNlbGVjdGVkQ2FsbGJhY2sgPSAoKSA9PiB7IH07XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0KCkge1xyXG4gICAgICAgIGlmIChhbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZygpKSB7XHJcbiAgICAgICAgICAgIGRpYWxvZ1B1Ymxpc2hlci5lcnJvcih7IHRpdGxlOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5BbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZy5FcnJvclwiKSB9KTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aGVuU2VsZWN0ZWRDYWxsYmFjayhzZWxmKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbnlFcXVpcG1lbnRJc05vdEluQ2F0YWxvZygpIHtcclxuICAgICAgICByZXR1cm4gXy5maW5kKGl0ZW1zLCAoeCkgPT4gIXguaXNJbkNhdGFsb2coKSkgIT0gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdEl0ZW1zKCkge1xyXG4gICAgICAgIHJvb3Quc2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgXy5lYWNoKGl0ZW1zLCAoeCkgPT4geC5zZWxlY3RlZCh0cnVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlblNlbGVjdGVkKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgd2hlblNlbGVjdGVkQ2FsbGJhY2sgPSBjYWxsYmFjaztcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZiA9IHtcclxuICAgICAgICByb290LFxyXG4gICAgICAgIGl0ZW1zLFxyXG4gICAgICAgIHNlbGVjdCxcclxuICAgICAgICB3aGVuU2VsZWN0ZWQsXHJcbiAgICAgICAgc2VsZWN0SXRlbXNcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHNlbGY7XHJcbn0iLCJpbXBvcnQgQ29tYmluYXRpb25zQnVpbGRlciBmcm9tICcuL2NvbWJpbmF0aW9uc0J1aWxkZXInO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcil7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbWJpbmF0aW9uc0J1aWxkZXIgPSBDb21iaW5hdGlvbnNCdWlsZGVyKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICBjb25zdCBjb21iaW5hdGlvbk9wdGlvbnMgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBpc0NvbWJpbmF0aW9uTWFuZGF0b3J5ID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcbiAgICBsZXQgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWRDYWxsYmFjayA9ICgpID0+IHsgfTtcclxuICAgIGNvbnN0IGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlID0ga28ub2JzZXJ2YWJsZShmYWxzZSk7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVG9TaG93QXNNYW5kYXRvcnkoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGlzTWFuZGF0b3J5ID0gdHJ1ZTtcclxuICAgICAgICB1cGRhdGUoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGlzTWFuZGF0b3J5LCBjYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVG9TaG93KGl0ZW1Db2RlLCBjb21iaW5hdGlvbnMsIHNlbGVjdGFibGVDYXRhbG9nLCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBpc01hbmRhdG9yeSA9IGZhbHNlO1xyXG4gICAgICAgIHVwZGF0ZShpdGVtQ29kZSwgY29tYmluYXRpb25zLCBzZWxlY3RhYmxlQ2F0YWxvZywgaXNNYW5kYXRvcnksIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGUoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGlzTWFuZGF0b3J5LCBjYWxsYmFjaykge1xyXG4gICAgICAgIGxldCBjb21iaW5hdGlvbnNGb3JUaGlzSXRlbSA9IGNvbWJpbmF0aW9uc0J1aWxkZXIuYnVpbGRGb3IoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGNvbWJpbmF0aW9uT3B0aW9ucyhjb21iaW5hdGlvbnNGb3JUaGlzSXRlbSk7XHJcbiAgICAgICAgaXNDb21iaW5hdGlvbk1hbmRhdG9yeShpc01hbmRhdG9yeSk7XHJcbiAgICAgICAgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXBkYXRlVG9TaG93LFxyXG4gICAgICAgIHVwZGF0ZVRvU2hvd0FzTWFuZGF0b3J5LFxyXG4gICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JWaXNpYmxlLFxyXG4gICAgICAgIGlzQ29tYmluYXRpb25NYW5kYXRvcnksXHJcbiAgICAgICAgY29tYmluYXRpb25PcHRpb25zLFxyXG4gICAgICAgIHdoZW5TZWxlY3RlZDogKHNlbGVjdGVkKSA9PiB3aGVuQ29tYmluYXRpb25TZWxlY3RlZENhbGxiYWNrKHNlbGVjdGVkKVxyXG4gICAgfTtcclxufSIsImltcG9ydCBDb21iaW5hdGlvbiBmcm9tICcuL2NvbWJpbmF0aW9uJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbWJpbmF0aW9uc0J1aWxkZXIoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGJ1aWxkRm9yKGl0ZW1Db2RlLCBjb21iaW5hdGlvbnMsIGNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgcm9vdE9mQ29tYmluYXRpb25FcXVpcG1lbnQgPSBjYXRhbG9nLmZpbmRJdGVtKGl0ZW1Db2RlKTtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY29tYmluYXRpb25zLCAoY29tYmluYXRpb24pID0+IGJ1aWxkQ29tYmluYXRpb25Gb3Iocm9vdE9mQ29tYmluYXRpb25FcXVpcG1lbnQsIGNvbWJpbmF0aW9uLCBjYXRhbG9nKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYnVpbGRDb21iaW5hdGlvbkZvcihyb290SXRlbSwgY29tYmluYXRpb24sIGNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgY29tYmluYXRpb25Db2RlcyA9IF8ubWFwKGNvbWJpbmF0aW9uLCAoaXRlbSkgPT4gaXRlbS5jb2RlKTtcclxuICAgICAgICBsZXQgY2F0YWxvZ0l0ZW1zID0gY2F0YWxvZy5maW5kSXRlbXMoY29tYmluYXRpb25Db2Rlcyk7XHJcbiAgICAgICAgcmV0dXJuIENvbWJpbmF0aW9uKHJvb3RJdGVtLCBjYXRhbG9nSXRlbXMsIGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBidWlsZEZvcixcclxuICAgICAgICBidWlsZENvbWJpbmF0aW9uRm9yXHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uZmlndXJhdG9yQXBwbGllcihjb25maWd1cmF0b3JOb3RpZmllciwgY29tYmluYXRpb25CdWlsZGVyLCB3aGVuQ29uZmlndXJhdGlvbkNoYW5nZWQpIHtcclxuXHJcbiAgICBjb25zdCBFbXB0eUludGVyaW9yID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5Q29uZmlndXJhdGlvbihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUsIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgbGV0IG5ld0F1dG9maXhlcyA9IF8uZmlsdGVyKG5ld0NvbmZpZ3VyYXRpb24uYXV0b0ZpeGVzLCAoeCkgPT4geC5pc05ld0F1dG9maXgpO1xyXG4gICAgICAgIGlmIChuZXdBdXRvZml4ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0b3JOb3RpZmllci5ub3RpZnlBdXRvZml4ZXNDb25maXJtYXRpb24oXHJcbiAgICAgICAgICAgICAgICBuZXdBdXRvZml4ZXMsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiBjb250aW51ZUFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGludWVBcHBseShtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUsIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udGludWVBcHBseShtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUsIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgY29uZmlndXJhdG9yTm90aWZpZXIubm90aWZ5Q2hhbmdlc0luQ29uZmlndXJhdGlvbihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUpO1xyXG4gICAgICAgIGNvbW1pdEFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbW1pdEFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBjbGVhckFsbFNlbGVjdGlvbnMobW9kZWxDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcblxyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5zZXRBdXRvZml4ZXMobmV3Q29uZmlndXJhdGlvbi5hdXRvRml4ZXMpO1xyXG5cclxuICAgICAgICBhcHBseU1vZGVsQ29tcHVsc29yeShtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICBhcHBseUVxdWlwbWVudHNBbmRQYWNrYWdlcyhtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICBhcHBseUNvbG9yKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGFwcGx5SW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgd2hlbkNvbmZpZ3VyYXRpb25DaGFuZ2VkKG1vZGVsQ29uZmlndXJhdGlvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYXJBbGxTZWxlY3Rpb25zKG1vZGVsQ29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uY2xlYW5TZWxlY3Rpb25zKCk7XHJcbiAgICAgICAgc2VsZWN0YWJsZUNhdGFsb2cudW5zZWxlY3RBbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseU1vZGVsQ29tcHVsc29yeShtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFuZXdDb25maWd1cmF0aW9uLm1vZGVsQ29tcHVsc29yeSB8fCAhbmV3Q29uZmlndXJhdGlvbi5tb2RlbENvbXB1bHNvcnkuY29tYmluZWRJdGVtcykgcmV0dXJuO1xyXG5cclxuICAgICAgICBfLmVhY2gobmV3Q29uZmlndXJhdGlvbi5tb2RlbENvbXB1bHNvcnkuY29tYmluZWRJdGVtcywgKHgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBzZWxlY3RhYmxlQ2F0YWxvZy5maW5kSXRlbSh4LmNvZGUpO1xyXG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uYWRkQ29tcHVsc29yeShpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseUVxdWlwbWVudHNBbmRQYWNrYWdlcyhtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgY29uc3QgZXF1aXBtZW50c0FuZFBhY2thZ2VzID0gXyhuZXdDb25maWd1cmF0aW9uLmVxdWlwbWVudHMpLmNvbmNhdChuZXdDb25maWd1cmF0aW9uLnBhY2thZ2VzKS52YWx1ZSgpO1xyXG4gICAgICAgIF8uZWFjaChlcXVpcG1lbnRzQW5kUGFja2FnZXMsICh4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0gc2VsZWN0YWJsZUNhdGFsb2cuZmluZEl0ZW0oeC5jb2RlKTtcclxuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZCh0cnVlKTtcclxuICAgICAgICAgICAgYXBwbHlDb21iaW5hdGlvbihpdGVtLCB4LmNvbWJpbmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5hZGRFcXVpcG1lbnQoaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXBwbHlDb2xvcihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgbGV0IGNvbG9yU2VsZWN0YWJsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoXy5pc09iamVjdChuZXdDb25maWd1cmF0aW9uLmNvbG9yKSkge1xyXG4gICAgICAgICAgICBjb2xvclNlbGVjdGFibGUgPSBzZWxlY3RhYmxlQ2F0YWxvZy5maW5kSXRlbShuZXdDb25maWd1cmF0aW9uLmNvbG9yLmNvZGUpO1xyXG4gICAgICAgICAgICBhcHBseUNvbWJpbmF0aW9uKGNvbG9yU2VsZWN0YWJsZSwgbmV3Q29uZmlndXJhdGlvbi5jb2xvci5jb21iaW5hdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uc2V0Q29sb3IoY29sb3JTZWxlY3RhYmxlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseUNvbWJpbmF0aW9uKGNhdGFsb2dJdGVtLCBjb21iaW5hdGlvblRvQXBwbHksIHNlbGVjdGFibGVDYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKGNvbWJpbmF0aW9uVG9BcHBseSAmJiBjb21iaW5hdGlvblRvQXBwbHkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBjb21iaW5hdGlvbiA9IGNvbWJpbmF0aW9uQnVpbGRlci5idWlsZENvbWJpbmF0aW9uRm9yKGNhdGFsb2dJdGVtLCBjb21iaW5hdGlvblRvQXBwbHksIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICAgICAgY29tYmluYXRpb24uc2VsZWN0SXRlbXMoKTtcclxuICAgICAgICAgICAgY2F0YWxvZ0l0ZW0uc2V0Q29tYmluYXRpb24oY29tYmluYXRpb24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseUludGVyaW9yKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgaW50ZXJpb3JTZWxlY3RhYmxlID0gRW1wdHlJbnRlcmlvcjtcclxuICAgICAgICBpZiAoXy5pc09iamVjdChuZXdDb25maWd1cmF0aW9uLmludGVyaW9yKSkge1xyXG4gICAgICAgICAgICBpbnRlcmlvclNlbGVjdGFibGUgPSBzZWxlY3RhYmxlQ2F0YWxvZy5maW5kSXRlbShuZXdDb25maWd1cmF0aW9uLmludGVyaW9yLmNvZGUpO1xyXG4gICAgICAgICAgICBhcHBseUNvbWJpbmF0aW9uKGludGVyaW9yU2VsZWN0YWJsZSwgbmV3Q29uZmlndXJhdGlvbi5pbnRlcmlvci5jb21iaW5hdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtb2RlbENvbmZpZ3VyYXRpb24uc2V0SW50ZXJpb3IoaW50ZXJpb3JTZWxlY3RhYmxlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFwcGx5Q29uZmlndXJhdGlvbixcclxuICAgICAgICBjb250aW51ZUFwcGx5XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29uZmlndXJhdG9yTm90aWZpZXIoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKSB7XHJcblxyXG4gICAgZnVuY3Rpb24gbm90aWZ5Q2hhbmdlc0luQ29uZmlndXJhdGlvbihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUpIHtcclxuICAgICAgICBsZXQgbWVzc2FnZTtcclxuICAgICAgICBpZiAobW9kZWxDb25maWd1cmF0aW9uLmNvbG9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSAmJiAhYWN0aW9uVHlwZS5Jc0NoYW5nZUNvbG9yKCkpIHtcclxuICAgICAgICAgICAgbWVzc2FnZSA9IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdGlmeUNoYW5nZUNvbG9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobW9kZWxDb25maWd1cmF0aW9uLmludGVyaW9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSAmJiAhYWN0aW9uVHlwZS5Jc0NoYW5nZUludGVyaW9yKCkpIHtcclxuICAgICAgICAgICAgaWYgKG1lc3NhZ2UpIG1lc3NhZ2UgKz0gXCIgXCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5Ob3RpZnlDaGFuZ2VJbnRlcmlvckFuZENvbG9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgICAgIGVsc2UgbWVzc2FnZSA9IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdGlmeUNoYW5nZUludGVyaW9yLk1lc3NhZ2VcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWVzc2FnZSkge1xyXG4gICAgICAgICAgICBkaWFsb2dQdWJsaXNoZXIud2FybmluZyh7IHRpdGxlOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIlNoYXJlZERvbWFpbi5XYXJuaW5nLlRleHRcIiksIG1lc3NhZ2U6IG1lc3NhZ2UgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5vdGlmeUF1dG9maXhlc0NvbmZpcm1hdGlvbihuZXdBdXRvZml4ZXMsIHdoZW5Db25maXJtZWQpIHtcclxuICAgICAgICBsZXQgZml4ZXNBc1N0cmluZyA9IF8ucmVkdWNlKG5ld0F1dG9maXhlcywgKGFjYywgZml4KSA9PiBhY2MgKyBcIi0gXCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5BcHBseUNvbmZpZ3VyYXRpb24uTWVzc2FnZVwiLCBbZml4LmFkZGVkSXRlbSwgZml4LnJlbW92ZWRJdGVtXSkgKyAnPGJyPicsIFwiXCIpO1xyXG4gICAgICAgIGZpeGVzQXNTdHJpbmcgKz0gXCI8YnI+XCIgKyB0cmFuc2xhdG9yLnRyYW5zbGF0ZShcIkNvbmZpZ3VyYXRvci5Pa1RvQ29udGludWUuTWVzc2FnZVwiKTtcclxuICAgICAgICBkaWFsb2dQdWJsaXNoZXIuY29uZmlybWF0aW9uKHtcclxuICAgICAgICAgICAgdGl0bGU6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLkFwcGx5Q29uZmlndXJhdGlvbkNvbmZpcm1hdGlvbi5NZXNzYWdlXCIpLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBmaXhlc0FzU3RyaW5nLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogd2hlbkNvbmZpcm1lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbm90aWZ5Q2hhbmdlc0luQ29uZmlndXJhdGlvbixcclxuICAgICAgICBub3RpZnlBdXRvZml4ZXNDb25maXJtYXRpb25cclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFcXVpcG1lbnRzU2VsZWN0b3IoKSB7XHJcblxyXG4gICAgbGV0IGNhdGVnb3JpZXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIGxldCBzZWFyY2ggPSBFcXVpcG1lbnRzU2VhcmNoKCk7XHJcbiAgICBsZXQgYWxsRXF1aXBtZW50cyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEVxdWlwbWVudHMoZXF1aXBtZW50cywgcGFja2FnZXMpIHtcclxuICAgICAgICBsZXQgYWxsU2VsZWN0YWJsZUl0ZW1zID0gXyhwYWNrYWdlcykuY29uY2F0KGVxdWlwbWVudHMpLnZhbHVlKCk7XHJcbiAgICAgICAgY2xlYW4oYWxsU2VsZWN0YWJsZUl0ZW1zKTtcclxuICAgICAgICBncm91cEVxdWlwbWVudHNCeUNhdGVnb3J5KGFsbFNlbGVjdGFibGVJdGVtcyk7XHJcbiAgICAgICAgaW5pdFNlYXJjaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKGVxdWlwbWVudHMpIHtcclxuICAgICAgICBhbGxFcXVpcG1lbnRzID0gZXF1aXBtZW50cztcclxuICAgICAgICBjYXRlZ29yaWVzLnJlbW92ZUFsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdyb3VwRXF1aXBtZW50c0J5Q2F0ZWdvcnkoZXF1aXBtZW50cykge1xyXG4gICAgICAgIGxldCBlcXVpcG1lbnRzR3JvdXBlZEJ5Q2F0ZWdvcnkgPSBfLmdyb3VwQnkoZXF1aXBtZW50cywgXCJjYXRlZ29yeVwiKTtcclxuICAgICAgICBfLmVhY2goZXF1aXBtZW50c0dyb3VwZWRCeUNhdGVnb3J5LCBmdW5jdGlvbihlcXVpcG1lbnRzLCBjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBjYXRlZ29yaWVzLnB1c2goRXF1aXBtZW50Q2F0ZWdvcnkoZXF1aXBtZW50cywgY2F0ZWdvcnkpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbml0U2VhcmNoKCkge1xyXG4gICAgICAgIHNlYXJjaC5zZXRFcXVpcG1lbnRzKGFsbEVxdWlwbWVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuc2VsZWN0QWxsRXF1aXBtZW50cygpIHtcclxuICAgICAgICBfLmVhY2goYWxsRXF1aXBtZW50cywgKHgpID0+IHguc2VsZWN0ZWQoZmFsc2UpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNhdGVnb3JpZXMsXHJcbiAgICAgICAgc2V0RXF1aXBtZW50cyxcclxuICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgdW5zZWxlY3RBbGxFcXVpcG1lbnRzOiB1bnNlbGVjdEFsbEVxdWlwbWVudHNcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVxdWlwbWVudENhdGVnb3J5KGVxdWlwbWVudHMsIG5hbWUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBpZDogXy51bmlxdWVJZCgnY2F0ZWdvcnlfJyksXHJcbiAgICAgICAgZXF1aXBtZW50c1xyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gRXF1aXBtZW50c1NlYXJjaCgpIHtcclxuICAgIGxldCB0ZXh0VG9TZWFyY2ggPSBrby5vYnNlcnZhYmxlKCcnKTtcclxuICAgIGxldCByZXN1bHRzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEVxdWlwbWVudHMoZXF1aXBtZW50cykge1xyXG4gICAgICAgIHJlc3VsdHMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICBfLmVhY2goZXF1aXBtZW50cywgZnVuY3Rpb24oZXF1aXBtZW50KSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goZXF1aXBtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWFyY2goKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWFyY2goKSB7XHJcbiAgICAgICAgcmVzdWx0cy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBsZXQgZmlsdGVyZWRSZXN1bHRzID0gXy5maWx0ZXIoZWxlbWVudHMsIGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuY29udGFpbnModGV4dFRvU2VhcmNoKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGtvLnV0aWxzLmFycmF5UHVzaEFsbChyZXN1bHRzLCBmaWx0ZXJlZFJlc3VsdHMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdWx0cyxcclxuICAgICAgICB0ZXh0VG9TZWFyY2gsXHJcbiAgICAgICAgc2VhcmNoLFxyXG4gICAgICAgIHNldEVxdWlwbWVudHNcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBJbnRlcmlvckNvbmZpZ3VyYXRvcih3aGVuSW50ZXJpb3JJc1NlbGVjdGVkKSB7XHJcblxyXG4gICAgY29uc3QgaW50ZXJpb3JPcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGNvbnN0IGludGVyaW9yU2VsZWN0ZWQgPSBrby5vYnNlcnZhYmxlKCk7XHJcblxyXG4gICAgaW50ZXJpb3JTZWxlY3RlZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIHdoZW5JbnRlcmlvcklzU2VsZWN0ZWQoaW50ZXJpb3JTZWxlY3RlZCgpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemVTZWxlY3RvcihpbnRlcmlvcnMpIHtcclxuICAgICAgICBpbnRlcmlvck9wdGlvbnMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKGludGVyaW9yT3B0aW9ucywgaW50ZXJpb3JzKTtcclxuICAgICAgICBpbnRlcmlvclNlbGVjdGVkKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0T3B0aW9uc0ZvclNlbGVjdGVkQ29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBjYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFtb2RlbENvbmZpZ3VyYXRpb24uaGFzQ29sb3IoKSkge1xyXG4gICAgICAgICAgICBpbnRlcmlvck9wdGlvbnMoY2F0YWxvZy5pbnRlcmlvcnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGludGVyaW9yT3B0aW9ucyhjYXRhbG9nLmNvbXBhdGlibGVJbnRlcmlvcnNXaXRoKG1vZGVsQ29uZmlndXJhdGlvbi5jb25maWd1cmVkQ29sb3IoKS5jb2RlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb3B0aW9uczogaW50ZXJpb3JPcHRpb25zLFxyXG4gICAgICAgIHNlbGVjdGVkOiBpbnRlcmlvclNlbGVjdGVkLFxyXG4gICAgICAgIGluaXRpYWxpemVTZWxlY3RvcixcclxuICAgICAgICBzZXRPcHRpb25zRm9yU2VsZWN0ZWRDb2xvclxyXG4gICAgfTtcclxufSIsImltcG9ydCBTZWxlY3RhYmxlSXRlbSBmcm9tIFwiLi9zZWxlY3RhYmxlSXRlbVwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTW9kZWxDYXRhbG9nU2VsZWN0YWJsZXMobW9kZWxDb2RlLCBtb2RlbERlc2NyaXB0aW9uLCBjYXRhbG9nSnNvbikge1xyXG5cclxuICAgIGxldCBjb2xvcnMgPSBjcmVhdGVTZWxlY3RhYmxlQ29sb3JzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgaW50ZXJpb3JzID0gY3JlYXRlU2VsZWN0YWJsZUludGVyaW9yc0Zyb20oY2F0YWxvZ0pzb24pO1xyXG4gICAgbGV0IGVxdWlwbWVudHMgPSBjcmVhdGVTZWxlY3RhYmxlRXF1aXBtZW50c0Zyb20oY2F0YWxvZ0pzb24pO1xyXG4gICAgbGV0IHBhY2thZ2VzID0gY3JlYXRlU2VsZWN0YWJsZVBhY2thZ2VzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgbW9kZWwgPSBTZWxlY3RhYmxlSXRlbSh7XHJcbiAgICAgICAgY29kZTogbW9kZWxDb2RlLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBtb2RlbERlc2NyaXB0aW9uLFxyXG4gICAgICAgIGhhc0ZvcmNlZENvbWJpbmF0aW9uczogY2F0YWxvZ0pzb24ubW9kZWxDb21wdWxzb3J5Q29tYmluYXRpb25DaG9pY2VzICYmIGNhdGFsb2dKc29uLm1vZGVsQ29tcHVsc29yeUNvbWJpbmF0aW9uQ2hvaWNlcy5sZW5ndGggPiAwLFxyXG4gICAgICAgIGNvbXB1bHNvcnlDb21iaW5hdGlvbnM6IGNhdGFsb2dKc29uLm1vZGVsQ29tcHVsc29yeUNvbWJpbmF0aW9uQ2hvaWNlc1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IGFsbEl0ZW1zID0gXyhtb2RlbCkuY29uY2F0KGludGVyaW9ycywgY29sb3JzLCBlcXVpcG1lbnRzLCBwYWNrYWdlcykudmFsdWUoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRSZWxhdGlvbnNoaXAoY29sb3JDb2RlLCBpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICBpZiAoXy5maW5kKGNhdGFsb2dKc29uLnJlbGF0aW9uc2hpcCwgeD0+IHguY29sb3JDb2RlID09IGNvbG9yQ29kZSAmJiB4LmludGVyaW9yQ29kZSA9PSBpbnRlcmlvckNvZGUpKSByZXR1cm47XHJcbiAgICAgICAgY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLnB1c2goe2NvbG9yQ29kZSxpbnRlcmlvckNvZGV9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDb2xvcihjb2xvclRvQWRkKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBTZWxlY3RhYmxlSXRlbSh7XHJcbiAgICAgICAgICAgIGNvZGU6IGNvbG9yVG9BZGQuY29kZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGNvbG9yVG9BZGQuZGVzY3JpcHRpb259XHJcbiAgICAgICAgKTtcclxuICAgICAgICBjb2xvcnMucHVzaChjb2xvcik7XHJcbiAgICAgICAgYWxsSXRlbXMucHVzaChjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWRkSW50ZXJpb3IoaW50ZXJpb3JUb0FkZCkge1xyXG4gICAgICAgIGNvbnN0IGludGVyaW9yID0gU2VsZWN0YWJsZUl0ZW0oe1xyXG4gICAgICAgICAgICBjb2RlOiBpbnRlcmlvclRvQWRkLmNvZGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBpbnRlcmlvclRvQWRkLmRlc2NyaXB0aW9ufVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgaW50ZXJpb3JzLnB1c2goaW50ZXJpb3IpO1xyXG4gICAgICAgIGFsbEl0ZW1zLnB1c2goaW50ZXJpb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKCkge1xyXG4gICAgICAgIGVxdWlwbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICBpbnRlcmlvcnMubGVuZ3RoID0gMDtcclxuICAgICAgICBjb2xvcnMubGVuZ3RoID0gMDtcclxuICAgICAgICBwYWNrYWdlcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGFsbEl0ZW1zLmxlbmd0aCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGVsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGFibGVQYWNrYWdlc0Zyb20oY2F0YWxvZ0pzb24pIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY2F0YWxvZ0pzb24ucGFja2FnZXMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4LCB0cnVlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0YWJsZUVxdWlwbWVudHNGcm9tKGNhdGFsb2dKc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNhdGFsb2dKc29uLmVxdWlwbWVudHMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4LCBmYWxzZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGFibGVJbnRlcmlvcnNGcm9tKGNhdGFsb2dKc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNhdGFsb2dKc29uLmludGVyaW9ycywgKHgpID0+IFNlbGVjdGFibGVJdGVtKHgpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTZWxlY3RhYmxlQ29sb3JzRnJvbShjYXRhbG9nSnNvbikge1xyXG4gICAgICAgIHJldHVybiBfLm1hcChjYXRhbG9nSnNvbi5jb2xvcnMsICh4KSA9PiBTZWxlY3RhYmxlSXRlbSh4KSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZEl0ZW1zKGNvZGVzKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNvZGVzLCAoY29kZSkgPT4gZmluZEl0ZW0oY29kZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRJdGVtKGNvZGUpIHtcclxuICAgICAgICBsZXQgaXRlbSA9IF8uZmluZChhbGxJdGVtcywgKHgpID0+IHguY29kZSA9PSBjb2RlKTtcclxuICAgICAgICBpZiAoXy5pc1VuZGVmaW5lZChpdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRW1wdHlTZWxlY3RhYmxlSXRlbShjb2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlRW1wdHlTZWxlY3RhYmxlSXRlbShjb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIFNlbGVjdGFibGVJdGVtKHsgZXNtRXF1aXBtZW50OiBmYWxzZSwgY29kZTogY29kZSwgZGVzY3JpcHRpb246ICcnIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuc2VsZWN0QWxsKCkge1xyXG4gICAgICAgIF8uZWFjaChhbGxJdGVtcywgKHgpID0+IHguc2VsZWN0ZWQoZmFsc2UpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wYXRpYmxlQ29sb3JzV2l0aChpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICBsZXQgaW50ZXJpb3JSZWxhdGlvbnNoaXBzID0gXy5maWx0ZXIoY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLCAoeCkgPT4geC5pbnRlcmlvckNvZGUgPT0gaW50ZXJpb3JDb2RlKTtcclxuICAgICAgICByZXR1cm4gXy5tYXAoaW50ZXJpb3JSZWxhdGlvbnNoaXBzLCAoeCkgPT4gZmluZENvbG9yKHguY29sb3JDb2RlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZENvbG9yKGNvbG9yQ29kZSkge1xyXG4gICAgICAgIHJldHVybiBfLmZpbmQoY29sb3JzLCAoeCkgPT4geC5jb2RlID09IGNvbG9yQ29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGF0aWJsZUludGVyaW9yc1dpdGgoY29sb3JDb2RlKSB7XHJcbiAgICAgICAgbGV0IGNvbG9yUmVsYXRpb25zaGlwcyA9IF8uZmlsdGVyKGNhdGFsb2dKc29uLnJlbGF0aW9uc2hpcCwgKHgpID0+IHguY29sb3JDb2RlID09IGNvbG9yQ29kZSk7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNvbG9yUmVsYXRpb25zaGlwcywgKHgpID0+IGZpbmRJbnRlcmlvcih4LmludGVyaW9yQ29kZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRJbnRlcmlvcihpbnRlcmlvckNvZGUpIHtcclxuICAgICAgICByZXR1cm4gXy5maW5kKGludGVyaW9ycywgKHgpID0+IHguY29kZSA9PSBpbnRlcmlvckNvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZXF1aXBtZW50cyxcclxuICAgICAgICBwYWNrYWdlcyxcclxuICAgICAgICBjb2xvcnMsXHJcbiAgICAgICAgaW50ZXJpb3JzLFxyXG4gICAgICAgIGZpbmRJdGVtLFxyXG4gICAgICAgIGZpbmRJdGVtcyxcclxuICAgICAgICB1bnNlbGVjdEFsbCxcclxuICAgICAgICBjb21wYXRpYmxlQ29sb3JzV2l0aCxcclxuICAgICAgICBjb21wYXRpYmxlSW50ZXJpb3JzV2l0aCxcclxuICAgICAgICBnZXRNb2RlbCxcclxuICAgICAgICBjbGVhbixcclxuICAgICAgICBhZGRDb2xvcixcclxuICAgICAgICBhZGRJbnRlcmlvcixcclxuICAgICAgICBhZGRSZWxhdGlvbnNoaXBcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbENvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICBsZXQgbW9kZWxHcm91cENvZGU7XHJcbiAgICBjb25zdCBtb2RlbElkID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgY29uc3QgbW9kZWxEZXNjcmlwdGlvbiA9IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGNvbnN0IGVxdWlwbWVudHMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIGNvbnN0IGNvbmZpZ3VyZWRDb2xvciA9IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGNvbnN0IGNvbmZpZ3VyZWRJbnRlcmlvciA9IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGNvbnN0IG1vZGVsQ29tcHVsc29yeSA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG4gICAgY29uc3Qgc2hvd09yZGVyQ3JlYXRpb24gPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuICAgIGNvbnN0IHVuYWJsZVRvUmVidWlsZEl0ZW1zID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XHJcbiAgICBjb25zdCBpc0FWZXJzaW9uID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgbGV0IG1vZGVsQXV0b2ZpeGVzO1xyXG4gICAgbGV0IG1vZGVsQ29kZTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRVbmFibGVUb1JlYnVpbGRJdGVtKGl0ZW0pIHtcclxuICAgICAgICB1bmFibGVUb1JlYnVpbGRJdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVVuYWJsZVRvUmVidWlsZEl0ZW0oaXRlbSkge1xyXG4gICAgICAgIHVuYWJsZVRvUmVidWlsZEl0ZW1zLnJlbW92ZShpdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRBdXRvZml4ZXMoYXV0b2ZpeGVzKSB7XHJcbiAgICAgICAgbW9kZWxBdXRvZml4ZXMgPSBhdXRvZml4ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2FuU2F2ZU9yZGVyKCkge1xyXG4gICAgICAgIHJldHVybiBoYXNNb2RlbCgpICYmIGhhc0NvbG9yKCkgJiYgaGFzSW50ZXJpb3IoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRFcXVpcG1lbnQoZXF1aXBtZW50KSB7XHJcbiAgICAgICAgZXF1aXBtZW50cy5yZW1vdmUoZXF1aXBtZW50KTtcclxuICAgICAgICBlcXVpcG1lbnRzLnB1c2goZXF1aXBtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRDb21wdWxzb3J5KGNvbWJpbmVkSXRlbSkge1xyXG4gICAgICAgIG1vZGVsQ29tcHVsc29yeS5wdXNoKGNvbWJpbmVkSXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0TW9kZWxHcm91cENvZGUobW9kZWxHcm91cCkge1xyXG4gICAgICAgIG1vZGVsR3JvdXBDb2RlID0gbW9kZWxHcm91cDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRNb2RlbChtb2RlbCkge1xyXG4gICAgICAgIHJlbW92ZU1vZGVsKCk7XHJcbiAgICAgICAgbW9kZWxDb2RlID0gbW9kZWwua2V5LmNvZGU7XHJcbiAgICAgICAgbW9kZWxJZChtb2RlbC5rZXkuaWQpO1xyXG4gICAgICAgIG1vZGVsRGVzY3JpcHRpb24obW9kZWwuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgIGlzQVZlcnNpb24obW9kZWwuaXNBVmVyc2lvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNOb3RUaGVTYW1lTW9kZWwobW9kZWwpIHtcclxuICAgICAgICByZXR1cm4gbW9kZWwua2V5LmNvZGUgIT0gbW9kZWxDb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKCkge1xyXG4gICAgICAgIG1vZGVsR3JvdXBDb2RlID0gJyc7XHJcbiAgICAgICAgbW9kZWxDb2RlID0gJyc7XHJcbiAgICAgICAgbW9kZWxJZCh1bmRlZmluZWQpO1xyXG4gICAgICAgIG1vZGVsRGVzY3JpcHRpb24odW5kZWZpbmVkKTtcclxuICAgICAgICBjbGVhblNlbGVjdGlvbnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVNb2RlbCgpIHtcclxuICAgICAgICBtb2RlbENvZGUgPSAnJztcclxuICAgICAgICBtb2RlbElkKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgbW9kZWxEZXNjcmlwdGlvbih1bmRlZmluZWQpO1xyXG4gICAgICAgIGNsZWFuU2VsZWN0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuU2VsZWN0aW9ucygpIHtcclxuICAgICAgICBzaG93T3JkZXJDcmVhdGlvbihmYWxzZSk7XHJcbiAgICAgICAgZXF1aXBtZW50cy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBtb2RlbENvbXB1bHNvcnkucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgY29uZmlndXJlZENvbG9yKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY29uZmlndXJlZEludGVyaW9yKHVuZGVmaW5lZCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0Q29sb3IoY29sb3IpIHtcclxuICAgICAgICBjb25maWd1cmVkQ29sb3IoY29sb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEludGVyaW9yKGludGVyaW9yKSB7XHJcbiAgICAgICAgY29uZmlndXJlZEludGVyaW9yKGludGVyaW9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0VtcHR5KCkge1xyXG4gICAgICAgIHJldHVybiAhaGFzTW9kZWwoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b0pzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbW9kZWxHcm91cENvZGU6IG1vZGVsR3JvdXBDb2RlLFxyXG4gICAgICAgICAgICBtb2RlbEtleTogeyBpZDogbW9kZWxJZCgpLCBjb2RlOiBtb2RlbENvZGUsIGRlc2NyaXB0aW9uOiBtb2RlbERlc2NyaXB0aW9uKCksIGlzQVZlcnNpb246IGlzQVZlcnNpb24oKSB9LFxyXG4gICAgICAgICAgICBjb2xvcjogY29uZmlndXJlZENvbG9yKCkgIT0gdW5kZWZpbmVkID8gY29uZmlndXJlZENvbG9yKCkudG9Kc29uKCkgOiB7fSxcclxuICAgICAgICAgICAgaW50ZXJpb3I6IGNvbmZpZ3VyZWRJbnRlcmlvcigpICE9IHVuZGVmaW5lZCA/IGNvbmZpZ3VyZWRJbnRlcmlvcigpLnRvSnNvbigpIDoge30sXHJcbiAgICAgICAgICAgIGVxdWlwbWVudHM6IF8ubWFwKGVxdWlwbWVudHMoKSwgKHgpID0+IHgudG9Kc29uKCkpLFxyXG4gICAgICAgICAgICBtb2RlbENvbXB1bHNvcnk6IHtcclxuICAgICAgICAgICAgICAgIGNvbWJpbmVkSXRlbXM6IF8ubWFwKG1vZGVsQ29tcHVsc29yeSgpLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IGNvZGU6IHguY29kZSwgdHlwZTogeC50eXBlIH07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhdXRvRml4ZXM6IG1vZGVsQXV0b2ZpeGVzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYXNGb3JjZWRDb2xvcigpIHtcclxuICAgICAgICBpZiAoY29uZmlndXJlZENvbG9yKCkgPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiBfLmFueShlcXVpcG1lbnRzKCksICh4KSA9PiB4LmNvbnRhaW5zRm9yY2VkSXRlbShjb25maWd1cmVkQ29sb3IoKS5jb2RlKSkgfHxcclxuICAgICAgICAgICAgKGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmIGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShjb25maWd1cmVkQ29sb3IoKS5jb2RlKSkgfHxcclxuICAgICAgICAgICAgXy5hbnkobW9kZWxDb21wdWxzb3J5KCksICh4KSA9PiB4LmNvZGUgPT0gY29uZmlndXJlZENvbG9yKCkuY29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzRm9yY2VkSW50ZXJpb3IoKSB7XHJcbiAgICAgICAgaWYgKGNvbmZpZ3VyZWRJbnRlcmlvcigpID09IHVuZGVmaW5lZCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBfLmFueShlcXVpcG1lbnRzKCksICh4KSA9PiB4LmNvbnRhaW5zRm9yY2VkSXRlbShjb25maWd1cmVkSW50ZXJpb3IoKS5jb2RlKSkgfHxcclxuICAgICAgICAgICAgKGNvbmZpZ3VyZWRDb2xvcigpICYmIGNvbmZpZ3VyZWRDb2xvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShjb25maWd1cmVkSW50ZXJpb3IoKS5jb2RlKSkgfHxcclxuICAgICAgICAgICAgXy5hbnkobW9kZWxDb21wdWxzb3J5KCksICh4KSA9PiB4LmNvZGUgPT0gY29uZmlndXJlZEludGVyaW9yKCkuY29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzQ29sb3IoKSB7XHJcbiAgICAgICAgcmV0dXJuICFfLmlzVW5kZWZpbmVkKGNvbmZpZ3VyZWRDb2xvcigpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYXNJbnRlcmlvcigpIHtcclxuICAgICAgICByZXR1cm4gIV8uaXNVbmRlZmluZWQoY29uZmlndXJlZEludGVyaW9yKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc01vZGVsKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChtb2RlbElkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc0VxdWlwbWVudChlcXVpcG1lbnRDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uYW55KGVxdWlwbWVudHMoKSwgeCA9PiB4LmNvZGUgPT0gZXF1aXBtZW50Q29kZSkgfHxcclxuICAgICAgICAgICAgXy5hbnkobW9kZWxDb21wdWxzb3J5KCksIHggPT4geC5jb2RlID09IGVxdWlwbWVudENvZGUpIHx8XHJcbiAgICAgICAgICAgIChjb25maWd1cmVkQ29sb3IoKSAmJiBjb25maWd1cmVkQ29sb3IoKS5jb250YWluc0ZvcmNlZEl0ZW0oZXF1aXBtZW50Q29kZSkpIHx8XHJcbiAgICAgICAgICAgIChjb25maWd1cmVkSW50ZXJpb3IoKSAmJiBjb25maWd1cmVkSW50ZXJpb3IoKS5jb250YWluc0ZvcmNlZEl0ZW0oZXF1aXBtZW50Q29kZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbG9ySGFzQ2hhbmdlZChuZXdDb25maWd1cmF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbmZpZ3VyZWRDb2xvcigpICYmXHJcbiAgICAgICAgICAgIG5ld0NvbmZpZ3VyYXRpb24uY29sb3IgJiZcclxuICAgICAgICAgICAgY29uZmlndXJlZENvbG9yKCkuY29kZSAhPSBuZXdDb25maWd1cmF0aW9uLmNvbG9yLmNvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW50ZXJpb3JIYXNDaGFuZ2VkKG5ld0NvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gY29uZmlndXJlZEludGVyaW9yKCkgJiZcclxuICAgICAgICAgICAgbmV3Q29uZmlndXJhdGlvbi5pbnRlcmlvciAmJlxyXG4gICAgICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IoKS5jb2RlICE9IG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IuY29kZTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG1vZGVsSWQsXHJcbiAgICAgICAgbW9kZWxEZXNjcmlwdGlvbixcclxuICAgICAgICBlcXVpcG1lbnRzLFxyXG4gICAgICAgIG1vZGVsQ29tcHVsc29yeSxcclxuICAgICAgICBzZXRNb2RlbEdyb3VwQ29kZSxcclxuICAgICAgICBzZXRNb2RlbCxcclxuICAgICAgICBzZXRDb2xvcixcclxuICAgICAgICBzZXRJbnRlcmlvcixcclxuICAgICAgICBhZGRFcXVpcG1lbnQsXHJcbiAgICAgICAgYWRkQ29tcHVsc29yeSxcclxuICAgICAgICBjbGVhbixcclxuICAgICAgICByZW1vdmVNb2RlbCxcclxuICAgICAgICB0b0pzb24sXHJcbiAgICAgICAgaGFzQ29sb3IsXHJcbiAgICAgICAgaGFzSW50ZXJpb3IsXHJcbiAgICAgICAgaGFzRm9yY2VkQ29sb3IsXHJcbiAgICAgICAgaGFzRm9yY2VkSW50ZXJpb3IsXHJcbiAgICAgICAgY29uZmlndXJlZENvbG9yLFxyXG4gICAgICAgIGNvbmZpZ3VyZWRJbnRlcmlvcixcclxuICAgICAgICBjb2xvckhhc0NoYW5nZWQsXHJcbiAgICAgICAgaW50ZXJpb3JIYXNDaGFuZ2VkLFxyXG4gICAgICAgIGNhblNhdmVPcmRlcixcclxuICAgICAgICBzaG93T3JkZXJDcmVhdGlvbixcclxuICAgICAgICBjbGVhblNlbGVjdGlvbnMsXHJcbiAgICAgICAgc2V0QXV0b2ZpeGVzLFxyXG4gICAgICAgIHVuYWJsZVRvUmVidWlsZEl0ZW1zLFxyXG4gICAgICAgIGFkZFVuYWJsZVRvUmVidWlsZEl0ZW0sXHJcbiAgICAgICAgcmVtb3ZlVW5hYmxlVG9SZWJ1aWxkSXRlbSxcclxuICAgICAgICBpc05vdFRoZVNhbWVNb2RlbCxcclxuICAgICAgICBoYXNFcXVpcG1lbnQsXHJcbiAgICAgICAgaXNFbXB0eVxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGFibGVJdGVtKGNhdGFsb2dJdGVtLCBpc1R5cGVQYWNrYWdlKSB7XHJcbiAgICBsZXQgc2VsZWN0ZWQgPSBrby5vYnNlcnZhYmxlKGNhdGFsb2dJdGVtLmVzbUVxdWlwbWVudCk7XHJcbiAgICBsZXQgZm9yY2VkSXRlbXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBjb250YWlucyh0ZXh0KSB7XHJcbiAgICAgICAgaWYgKCF0ZXh0KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIGNhdGFsb2dJdGVtLmRlc2NyaXB0aW9uLnRvVXBwZXJDYXNlKCkuaW5kZXhPZih0ZXh0LnRvVXBwZXJDYXNlKCkpICE9IC0xIHx8XHJcbiAgICAgICAgICAgIGNhdGFsb2dJdGVtLmNvZGUudG9VcHBlckNhc2UoKS5pbmRleE9mKHRleHQudG9VcHBlckNhc2UoKSkgIT0gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNJbkNhdGFsb2coKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhdGFsb2dJdGVtLmRlc2NyaXB0aW9uICE9ICcnO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldENvbWJpbmF0aW9uKGNvbWJpbmF0aW9uKSB7XHJcbiAgICAgICAgZm9yY2VkSXRlbXMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKGZvcmNlZEl0ZW1zLCBjb21iaW5hdGlvbi5pdGVtcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9Kc29uKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvZGU6IGNhdGFsb2dJdGVtLmNvZGUsXHJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBjYXRhbG9nSXRlbS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgY29tYmluYXRpb246IGNvbWJpbmF0aW9uc1RvSnNvbigpLFxyXG4gICAgICAgICAgICBpc1BhY2thZ2U6IGlzUGFja2FnZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tYmluYXRpb25zVG9Kc29uKCkge1xyXG4gICAgICAgIHJldHVybiBfLm1hcChmb3JjZWRJdGVtcygpLCBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7IGNvZGU6IHguY29kZSwgdHlwZTogeC50eXBlIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29udGFpbnNGb3JjZWRJdGVtKGNvZGUpIHtcclxuICAgICAgICByZXR1cm4gXy5hbnkoZm9yY2VkSXRlbXMoKSwgKHgpID0+IHguY29kZSA9PSBjb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1BhY2thZ2UoKSB7XHJcbiAgICAgICAgcmV0dXJuIGlzVHlwZVBhY2thZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHNlbGYgPSB7XHJcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGFsb2dJdGVtLmNhdGVnb3J5LFxyXG4gICAgICAgIGZhbWlseTogY2F0YWxvZ0l0ZW0uZmFtaWx5LFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiBjYXRhbG9nSXRlbS5jb2RlICsgXCIgLSBcIiArIGNhdGFsb2dJdGVtLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uV2l0aG91dENvZGU6IGNhdGFsb2dJdGVtLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgIHNlbGVjdGVkLFxyXG4gICAgICAgIGNvbnRhaW5zLFxyXG4gICAgICAgIGNvbnRhaW5zRm9yY2VkSXRlbSxcclxuICAgICAgICBjb2RlOiBjYXRhbG9nSXRlbS5jb2RlLFxyXG4gICAgICAgIHR5cGU6IGNhdGFsb2dJdGVtLnR5cGUsXHJcbiAgICAgICAgaXNJbkNhdGFsb2csXHJcbiAgICAgICAgaGFzRm9yY2VkQ29tYmluYXRpb25zOiBjYXRhbG9nSXRlbS5oYXNGb3JjZWRDb21iaW5hdGlvbnMsXHJcbiAgICAgICAgY29tcHVsc29yeUNvbWJpbmF0aW9uczogY2F0YWxvZ0l0ZW0uY29tcHVsc29yeUNvbWJpbmF0aW9ucyxcclxuICAgICAgICB0b0pzb24sXHJcbiAgICAgICAgc2V0Q29tYmluYXRpb24sXHJcbiAgICAgICAgaXNQYWNrYWdlXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIHNlbGY7XHJcbn1cclxuIiwiLyogZXNsaW50LWRpc2FibGUgKi8gLy8gQXV0b2dlbmVyYXRlZCB3aXRoIEd1bHAgKHRhc2s6IHBhcnNlLWNvbXBvbmVudHMtdGVtcGxhdGVzKVxuLy8gRG9udCBjaGFuZ2UgdGhpcyBmaWxlLCBjaGFuZ2UgdGhlIC5odG1sIGZpbGUgaW5zdGVhZCBhbmQgcnVuIEd1bHBcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFwiXFxuPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLThcXFwiPlxcbiAgICAgICAgPGRpdiBjbGFzcz1cXFwiYm94IGJveC1kZWZhdWx0XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJib3gtaGVhZGVyIHdpdGgtYm9yZGVyXFxcIj5cXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzPVxcXCJib3gtdGl0bGVcXFwiIGRhdGEtYmluZD1cXFwidGV4dDogbGFiZWxzLnRpdGxlXFxcIj48L2gzPlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImJveC1ib2R5XFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ob3Jpem9udGFsXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxtb2RlbC1zZWxlY3RvciBwYXJhbXM9XFxcInNlbGVjdGVkQnJhbmQ6IHNlbGVjdGVkQnJhbmQsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE1vZGVsOiBzZWxlY3RlZE1vZGVsLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbk1vZGVsU2VsZWN0ZWQ6IHdoZW5Nb2RlbFNlbGVjdGVkLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5Nb2RlbFVuc2VsZWN0ZWQ6IHdoZW5Nb2RlbFVuc2VsZWN0ZWQsIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbk1vZGVsQ2F0ZWdvcnlTZWxlY3RlZDogd2hlbk1vZGVsQ2F0ZWdvcnlTZWxlY3RlZCxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5Nb2RlbENhdGVnb3J5VW5zZWxlY3RlZDogd2hlbk1vZGVsQ2F0ZWdvcnlVbnNlbGVjdGVkLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVkTW9kZWw6IGxvYWRlZE1vZGVsXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDwvbW9kZWwtc2VsZWN0b3I+XFxuICAgICAgICAgICAgICAgICAgICA8Y29sb3Itc2VsZWN0b3IgcGFyYW1zPVxcXCJvcHRpb25zOiBjb2xvck9wdGlvbnMsIHNlbGVjdGVkOiBzZWxlY3RlZENvbG9yXFxcIj48L2NvbG9yLXNlbGVjdG9yPlxcbiAgICAgICAgICAgICAgICAgICAgPGludGVyaW9yLXNlbGVjdG9yIHBhcmFtcz1cXFwib3B0aW9uczogaW50ZXJpb3JPcHRpb25zLCBzZWxlY3RlZDogc2VsZWN0ZWRJbnRlcmlvclxcXCI+PC9pbnRlcmlvci1zZWxlY3Rvcj5cXG4gICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPHNwaW5uZXIgcGFyYW1zPVxcXCJzaG93OiBsb2FkaW5nQ2F0YWxvZ1xcXCI+PC9zcGlubmVyPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZXF1aXBtZW50cy1zZWxlY3RvciBwYXJhbXM9XFxcImVxdWlwbWVudHM6IGF2YWlsYWJsZUVxdWlwbWVudHMsIFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5FcXVpcG1lbnRTZWxlY3RlZDogd2hlbkVxdWlwbWVudFNlbGVjdGVkLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5FcXVpcG1lbnRVbnNlbGVjdGVkOiB3aGVuRXF1aXBtZW50VW5zZWxlY3RlZCxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkaW5nRmxhZzogbG9hZGluZ0NhdGFsb2dcXFwiPlxcbiAgICAgICAgPC9lcXVpcG1lbnRzLXNlbGVjdG9yPlxcbiAgICAgICAgPGNvbWJpbmF0aW9uLXNlbGVjdG9yIHBhcmFtcz1cXFwidmlzaWJsZTogY29tYmluYXRpb25TZWxlY3RvclZpc2libGUsIG9wdGlvbnM6IGNvbWJpbmF0aW9uT3B0aW9ucywgaXNTZWxlY3Rpb25NYW5kYXRvcnk6IGlzQ29tYmluYXRpb25NYW5kYXRvcnksIHdoZW5TZWxlY3RlZDogd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWRcXFwiPjwvY29tYmluYXRpb24tc2VsZWN0b3I+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtNFxcXCI+XFxuICAgICAgICA8IS0tIGtvIHRlbXBsYXRlOiB7IG5vZGVzOiAkY29tcG9uZW50VGVtcGxhdGVOb2RlcywgZGF0YTogJHBhcmVudCB9IC0tPjwhLS0gL2tvIC0tPiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcbiAgICA8L2Rpdj5cXG48L2Rpdj5cIjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSkRPaTlRY205cVpXTjBjeTlUU1UxQk1pOU9SVlF2VTJGc1pYTXZRMjl1Wm1sbmRYSmhkRzl5TDBOdmJtWnBaM1Z5WVhSdmNpNVhaV0l2VTJOeWFYQjBjeTlpYVc0dmRHVnRjQzlxY3k5emNtTXZaRzl0WVdsdUwyTnZibVpwWjNWeVlYUnZjaTlqYjI1bWFXZDFjbUYwYjNJdGRHVnRjR3hoZEdVdWFuTWlMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMTE5IiwiaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vY29uZmlndXJhdG9yLXRlbXBsYXRlJztcclxuaW1wb3J0IE1vZGVsQ2F0YWxvZ1NlbGVjdGFibGVzIGZyb20gJy4vc2NyaXB0cy9tb2RlbENhdGFsb2dTZWxlY3RhYmxlcyc7XHJcbmltcG9ydCBDYXRhbG9nQ2xpZW50IGZyb20gJy4uLy4uL2luZnJhc3RydWN0dXJlL2NsaWVudHMvY2F0YWxvZ0NsaWVudCc7XHJcbmltcG9ydCBDb25maWd1cmF0aW9uQ2xpZW50IGZyb20gJy4uLy4uL2luZnJhc3RydWN0dXJlL2NsaWVudHMvY29uZmlndXJhdGlvbkNsaWVudCc7XHJcbmltcG9ydCBNb2RlbENvbmZpZ3VyYXRpb24gZnJvbSAnLi9zY3JpcHRzL21vZGVsQ29uZmlndXJhdGlvbic7XHJcbmltcG9ydCBDb25maWd1cmF0b3JBcHBsaWVyIGZyb20gJy4vc2NyaXB0cy9jb25maWd1cmF0b3JBcHBsaWVyJztcclxuaW1wb3J0IENvbmZpZ3VyYXRvck5vdGlmaWVyIGZyb20gJy4vc2NyaXB0cy9jb25maWd1cmF0b3JOb3RpZmllcic7XHJcbmltcG9ydCBDb2xvckNvbmZpZ3VyYXRvciBmcm9tICcuL3NjcmlwdHMvY29sb3JDb25maWd1cmF0b3InO1xyXG5pbXBvcnQgSW50ZXJpb3JDb25maWd1cmF0b3IgZnJvbSAnLi9zY3JpcHRzL2ludGVyaW9yQ29uZmlndXJhdG9yJztcclxuaW1wb3J0IENvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncyBmcm9tICcuL3NjcmlwdHMvY29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzJztcclxuaW1wb3J0IENvbWJpbmF0aW9uQnVpbGRlciBmcm9tICcuL3NjcmlwdHMvY29tYmluYXRpb25zQnVpbGRlcic7XHJcblxyXG5haWRhQ29yZS5Db21wb25lbnRSZWdpc3RlcignY29uZmlndXJhdG9yJywge1xyXG4gICAgc2NyaXB0OiAocHJvcHMsIGRlcGVuZGVuY3lQcm92aWRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQnJhbmQgPSBwcm9wcy5zZWxlY3RlZEJyYW5kO1xyXG4gICAgICAgIGNvbnN0IHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZCA9IHByb3BzLndoZW5Db25maWd1cmF0aW9uQ2hhbmdlZDtcclxuICAgICAgICBjb25zdCBsb2FkZWRDb25maWd1cmF0aW9uID0gcHJvcHMubG9hZGVkQ29uZmlndXJhdGlvbjtcclxuXHJcbiAgICAgICAgY29uc3QgdHJhbnNsYXRvciA9IGRlcGVuZGVuY3lQcm92aWRlci5nZXRUcmFuc2xhdG9yKCk7XHJcbiAgICAgICAgY29uc3QgY2F0YWxvZ0NsaWVudCA9IENhdGFsb2dDbGllbnQoZGVwZW5kZW5jeVByb3ZpZGVyLmdldFJlc3RDbGllbnQoKSwgZGVwZW5kZW5jeVByb3ZpZGVyLmdldEVycm9yRGlhbG9nUHVibGlzaGVyKCksIHt9KTtcclxuICAgICAgICBjb25zdCBjb25maWd1cmF0aW9uQ2xpZW50ID0gQ29uZmlndXJhdGlvbkNsaWVudChkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0UmVzdENsaWVudCgpLCBkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0RXJyb3JEaWFsb2dQdWJsaXNoZXIoKSwge30sIHNlbGVjdGVkQnJhbmQoKSk7XHJcbiAgICAgICAgY29uc3QgZGlhbG9nUHVibGlzaGVyID0gZGVwZW5kZW5jeVByb3ZpZGVyLmdldERpYWxvZ1B1Ymxpc2hlcigpO1xyXG5cclxuICAgICAgICByZXR1cm4gQ29uZmlndXJhdG9yKHsgc2VsZWN0ZWRCcmFuZCwgd2hlbkNvbmZpZ3VyYXRpb25DaGFuZ2VkLCBsb2FkZWRDb25maWd1cmF0aW9uIH0sIHsgdHJhbnNsYXRvciwgY2F0YWxvZ0NsaWVudCwgY29uZmlndXJhdGlvbkNsaWVudCwgZGlhbG9nUHVibGlzaGVyIH0pO1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbmZpZ3VyYXRvcihcclxuICAgIHsgc2VsZWN0ZWRCcmFuZCwgd2hlbkNvbmZpZ3VyYXRpb25DaGFuZ2VkLCBsb2FkZWRDb25maWd1cmF0aW9uIH0sXHJcbiAgICB7IHRyYW5zbGF0b3IsIGNhdGFsb2dDbGllbnQsIGNvbmZpZ3VyYXRpb25DbGllbnQsIGRpYWxvZ1B1Ymxpc2hlciB9KSB7XHJcblxyXG4gICAgbGV0IGN1cnJlbnRDYXRhbG9nO1xyXG4gICAgY29uc3QgbG9hZGluZ0NhdGFsb2cgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuICAgIGNvbnN0IHNlbGVjdGVkTW9kZWwgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBjb25maWd1cmF0aW9uID0gTW9kZWxDb25maWd1cmF0aW9uKCk7XHJcbiAgICBjb25zdCBjb2xvckNvbmZpZ3VyYXRvciA9IENvbG9yQ29uZmlndXJhdG9yKHdoZW5Db2xvcklzU2VsZWN0ZWQpO1xyXG4gICAgY29uc3QgaW50ZXJpb3JDb25maWd1cmF0b3IgPSBJbnRlcmlvckNvbmZpZ3VyYXRvcih3aGVuSW50ZXJpb3JJc1NlbGVjdGVkKTtcclxuICAgIGNvbnN0IGF2YWlsYWJsZUVxdWlwbWVudHMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW10pO1xyXG4gICAgY29uc3QgY29uZmlndXJhdG9yTm90aWZpZXIgPSBDb25maWd1cmF0b3JOb3RpZmllcihkaWFsb2dQdWJsaXNoZXIsIHRyYW5zbGF0b3IpO1xyXG4gICAgY29uc3QgY29tYmluYXRpb25CdWlsZGVyID0gQ29tYmluYXRpb25CdWlsZGVyKGRpYWxvZ1B1Ymxpc2hlciwgdHJhbnNsYXRvcik7XHJcbiAgICBjb25zdCBjb25maWd1cmF0b3JBcHBsaWVyID0gQ29uZmlndXJhdG9yQXBwbGllcihjb25maWd1cmF0b3JOb3RpZmllciwgY29tYmluYXRpb25CdWlsZGVyLCB3aGVuQ29uZmlndXJhdGlvbklzQXBwbGllZCk7XHJcbiAgICBjb25zdCBjb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MgPSBDb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKTtcclxuICAgIGNvbnN0IGxvYWRlZE1vZGVsID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgbGV0IGxvYWRlZENvbmZpZ3VyYXRpb25DaGFuZ2VkID0gZmFsc2U7XHJcblxyXG4gICAgbG9hZGVkQ29uZmlndXJhdGlvbi5zdWJzY3JpYmUobG9hZENvbmZpZ3VyYXRpb24pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Db25maWd1cmF0aW9uSXNBcHBsaWVkKG5ld0NvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICB3aGVuQ29uZmlndXJhdGlvbkNoYW5nZWQobmV3Q29uZmlndXJhdGlvbi50b0pzb24oKSk7XHJcbiAgICAgICAgaW50ZXJpb3JDb25maWd1cmF0b3Iuc2V0T3B0aW9uc0ZvclNlbGVjdGVkQ29sb3IobmV3Q29uZmlndXJhdGlvbiwgY3VycmVudENhdGFsb2cpO1xyXG4gICAgICAgIGNvbG9yQ29uZmlndXJhdG9yLnNldE9wdGlvbnNGb3JTZWxlY3RlZEludGVyaW9yKG5ld0NvbmZpZ3VyYXRpb24sIGN1cnJlbnRDYXRhbG9nKTtcclxuICAgICAgICB3aGVuTW9kZWxMb2FkZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuTW9kZWxMb2FkZWQoKSB7XHJcbiAgICAgICAgaWYgKCFsb2FkZWRDb25maWd1cmF0aW9uQ2hhbmdlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBzZXRDb2xvckZvckNvbmZpZ3VyYXRpb24obG9hZGVkQ29uZmlndXJhdGlvbigpLmNvbG9yKTtcclxuICAgICAgICBzZXRJbnRlcmlvckZvckNvbmZpZ3VyYXRpb24obG9hZGVkQ29uZmlndXJhdGlvbigpLmludGVyaW9yKTtcclxuICAgICAgICBzZXRFcXVpcG1lbnRGb3JDb25maWd1cmF0aW9uKGxvYWRlZENvbmZpZ3VyYXRpb24oKS5lcXVpcG1lbnRzKTtcclxuICAgICAgICBsb2FkZWRDb25maWd1cmF0aW9uQ2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZChjb25maWd1cmF0aW9uLnRvSnNvbigpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBsb2FkIGNvbmZpZ3VyYXRpb24gd2l0aG91dCBjYWxsIHRvIHNlcnZlciB0byBhdm9pZCB2YWxpZGF0ZSB0aGUgY29uZmlndXJhdGlvbiBydWxlcy5cclxuICAgIGZ1bmN0aW9uIGxvYWRDb25maWd1cmF0aW9uKG5ld0NvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICBjb25maWd1cmF0aW9uLmNsZWFuKCk7XHJcbiAgICAgICAgbG9hZGVkQ29uZmlndXJhdGlvbkNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgIGxvYWRlZE1vZGVsKG5ld0NvbmZpZ3VyYXRpb24ubW9kZWxLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldENvbG9yRm9yQ29uZmlndXJhdGlvbihjb2xvcikge1xyXG4gICAgICAgIGNvbnN0IGNvbG9yVG9Mb2FkID0gXyhjdXJyZW50Q2F0YWxvZy5jb2xvcnMpLmZpbmQoeCA9PiB4LmNvZGUgPT0gY29sb3IuY29kZSk7XHJcbiAgICAgICAgY29uZmlndXJhdGlvbi5zZXRDb2xvcihjb2xvclRvTG9hZCk7XHJcbiAgICAgICAgY29sb3JDb25maWd1cmF0b3Iuc2VsZWN0ZWQoY29sb3JUb0xvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEludGVyaW9yRm9yQ29uZmlndXJhdGlvbihpbnRlcmlvcikge1xyXG4gICAgICAgIGNvbnN0IGludGVyaW9yVG9Mb2FkID0gXyhjdXJyZW50Q2F0YWxvZy5pbnRlcmlvcnMpLmZpbmQoeCA9PiB4LmNvZGUgPT0gaW50ZXJpb3IuY29kZSk7XHJcbiAgICAgICAgY29uZmlndXJhdGlvbi5zZXRJbnRlcmlvcihpbnRlcmlvclRvTG9hZCk7XHJcbiAgICAgICAgaW50ZXJpb3JDb25maWd1cmF0b3Iuc2VsZWN0ZWQoaW50ZXJpb3JUb0xvYWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEVxdWlwbWVudEZvckNvbmZpZ3VyYXRpb24oZXF1aXBtZW50KSB7XHJcbiAgICAgICAgY29uc3QgZXF1aXBtZW50VG9Mb2FkID0gZ2V0QWxsQ2F0YWxvZ0VxdWlwbWVudEZvckNvbmZpZ3VyYXRpb24oZXF1aXBtZW50KTtcclxuICAgICAgICBjb25maWd1cmF0aW9uLmVxdWlwbWVudHMoZXF1aXBtZW50VG9Mb2FkKTtcclxuICAgICAgICBzZWxlY3RBbGxFcXVpcG1lbnQoZXF1aXBtZW50VG9Mb2FkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRBbGxDYXRhbG9nRXF1aXBtZW50Rm9yQ29uZmlndXJhdGlvbihhbGxMb2FkZWRDb25maWd1cmF0aW9uRXF1aXBtZW50KSB7XHJcbiAgICAgICAgY29uc3QgYWxsQ2F0YWxvZ0VxdWlwbWVudHMgPSBfKGN1cnJlbnRDYXRhbG9nLmVxdWlwbWVudHMuY29uY2F0KGN1cnJlbnRDYXRhbG9nLnBhY2thZ2VzKSkudmFsdWUoKTtcclxuICAgICAgICByZXR1cm4gXyhhbGxDYXRhbG9nRXF1aXBtZW50cylcclxuICAgICAgICAgICAgLmZpbHRlcigoeCkgPT4gXyhhbGxMb2FkZWRDb25maWd1cmF0aW9uRXF1aXBtZW50KS5hbnkoKGUpID0+IHguY29kZSA9PSBlLmNvZGUpKVxyXG4gICAgICAgICAgICAudmFsdWUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RBbGxFcXVpcG1lbnQoZXF1aXBtZW50VG9Mb2FkKSB7XHJcbiAgICAgICAgXyhlcXVpcG1lbnRUb0xvYWQpXHJcbiAgICAgICAgICAgIC5mb3JFYWNoKGVxdWlwbWVudCA9PiBlcXVpcG1lbnQuc2VsZWN0ZWQodHJ1ZSkpXHJcbiAgICAgICAgICAgIC52YWx1ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Nb2RlbENhdGVnb3J5U2VsZWN0ZWQoY2F0ZWdvcnlJZCkge1xyXG4gICAgICAgIGNvbmZpZ3VyYXRpb24uY2xlYW4oKTtcclxuICAgICAgICBjb25maWd1cmF0aW9uLnNldE1vZGVsR3JvdXBDb2RlKGdldE1vZGVsR3JvdXBDb2RlRnJvbShjYXRlZ29yeUlkKSk7XHJcbiAgICAgICAgd2hlbkNvbmZpZ3VyYXRpb25DaGFuZ2VkKGNvbmZpZ3VyYXRpb24udG9Kc29uKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE1vZGVsR3JvdXBDb2RlRnJvbShjYXRlZ29yeUlkKSB7XHJcbiAgICAgICAgcmV0dXJuIGNhdGVnb3J5SWQuc3Vic3RyaW5nKDAsIGNhdGVnb3J5SWQuaW5kZXhPZihcIl9cIikpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Nb2RlbENhdGVnb3J5VW5zZWxlY3RlZCgpIHtcclxuICAgICAgICBjb25maWd1cmF0aW9uLmNsZWFuKCk7XHJcbiAgICAgICAgc2VsZWN0ZWRNb2RlbCh1bmRlZmluZWQpO1xyXG4gICAgICAgIHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZChjb25maWd1cmF0aW9uLnRvSnNvbigpKTtcclxuICAgICAgICBjbGVhbkNhdGFsb2coKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuTW9kZWxTZWxlY3RlZChtb2RlbCkge1xyXG4gICAgICAgIGNvbmZpZ3VyYXRpb24uc2V0TW9kZWwobW9kZWwpO1xyXG4gICAgICAgIGxvYWRpbmdDYXRhbG9nKHRydWUpO1xyXG4gICAgICAgIGNhdGFsb2dDbGllbnQuZ2V0Q2F0YWxvZyhzZWxlY3RlZEJyYW5kKCkuaWQsIGNvbmZpZ3VyYXRpb24ubW9kZWxJZCgpLCB3aGVuQ2F0YWxvZ1JlY2VpdmVkLCBvbkNhdGFsb2dFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbk1vZGVsVW5zZWxlY3RlZCgpIHtcclxuICAgICAgICBjb25maWd1cmF0aW9uLnJlbW92ZU1vZGVsKCk7XHJcbiAgICAgICAgc2VsZWN0ZWRNb2RlbCh1bmRlZmluZWQpO1xyXG4gICAgICAgIHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZChjb25maWd1cmF0aW9uLnRvSnNvbigpKTtcclxuICAgICAgICBjbGVhbkNhdGFsb2coKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhbkNhdGFsb2coKSB7XHJcbiAgICAgICAgaWYgKF8uaXNPYmplY3QoY3VycmVudENhdGFsb2cpKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRDYXRhbG9nLmNsZWFuKCk7XHJcbiAgICAgICAgICAgIGluaXRpYWxpemVTZWxlY3RvcnMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbkNhdGFsb2dSZWNlaXZlZChjYXRhbG9nSnNvbikge1xyXG4gICAgICAgIGxvYWRpbmdDYXRhbG9nKGZhbHNlKTtcclxuICAgICAgICBjdXJyZW50Q2F0YWxvZyA9IE1vZGVsQ2F0YWxvZ1NlbGVjdGFibGVzKGNvbmZpZ3VyYXRpb24ubW9kZWxJZCgpLCBjb25maWd1cmF0aW9uLm1vZGVsRGVzY3JpcHRpb24oKSwgY2F0YWxvZ0pzb24pO1xyXG4gICAgICAgIGluaXRpYWxpemVTZWxlY3RvcnMoKTtcclxuICAgICAgICBsZXQgbW9kZWwgPSBjdXJyZW50Q2F0YWxvZy5nZXRNb2RlbCgpO1xyXG4gICAgICAgIGlmIChtb2RlbC5jb21wdWxzb3J5Q29tYmluYXRpb25zICYmIG1vZGVsLmNvbXB1bHNvcnlDb21iaW5hdGlvbnMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICBjb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MudXBkYXRlVG9TaG93QXNNYW5kYXRvcnkobW9kZWwuY29kZSwgbW9kZWwuY29tcHVsc29yeUNvbWJpbmF0aW9ucywgY3VycmVudENhdGFsb2csIHdoZW5Nb2RlbENvbWJpbmF0aW9uSXNTZWxlY3RlZCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5jcmVhdGVDb25maWd1cmF0aW9uKHNlbGVjdGVkQnJhbmQoKS5pZCwgbW9kZWwsIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZCwgb25Db25maWd1cmF0aW9uRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbkNhdGFsb2dFcnJvcigpIHtcclxuICAgICAgICBsb2FkaW5nQ2F0YWxvZyhmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25Db25maWd1cmF0aW9uRXJyb3IoKSB7XHJcbiAgICAgICAgc2VsZWN0ZWRNb2RlbCh1bmRlZmluZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Db2xvcklzU2VsZWN0ZWQoY29sb3IpIHtcclxuICAgICAgICBpZiAoY29uZmlndXJhdGlvbi5pc0VtcHR5KCkgfHwgbG9hZGVkQ29uZmlndXJhdGlvbkNoYW5nZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKGNvbG9yICYmIGNvbG9yLmhhc0ZvcmNlZENvbWJpbmF0aW9ucykge1xyXG4gICAgICAgICAgICBjb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MudXBkYXRlVG9TaG93KGNvbG9yLmNvZGUsIGNvbG9yLmNvbXB1bHNvcnlDb21iaW5hdGlvbnMsIGN1cnJlbnRDYXRhbG9nLCB3aGVuQ29sb3JDb21iaW5hdGlvblNlbGVjdGVkKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29sb3IpIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5jaGFuZ2VDb2xvcldpdGhvdXRDb21iaW5hdGlvbihjb25maWd1cmF0aW9uLCBjb2xvci5jb2RlLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQsIHJlc3RvcmVDb25maWd1cmVkQ29sb3IpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25DbGllbnQucmVtb3ZlQ29sb3IoY29uZmlndXJhdGlvbiwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbkludGVyaW9ySXNTZWxlY3RlZChpbnRlcmlvcikge1xyXG4gICAgICAgIGlmIChjb25maWd1cmF0aW9uLmlzRW1wdHkoKSB8fCBsb2FkZWRDb25maWd1cmF0aW9uQ2hhbmdlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAoXy5pc09iamVjdChpbnRlcmlvcikgJiYgaW50ZXJpb3IuaGFzRm9yY2VkQ29tYmluYXRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy51cGRhdGVUb1Nob3coaW50ZXJpb3IuY29kZSwgaW50ZXJpb3IuY29tcHVsc29yeUNvbWJpbmF0aW9ucywgY3VycmVudENhdGFsb2csIHdoZW5JbnRlcmlvckNvbWJpbmF0aW9uU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KGludGVyaW9yKSkge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmNoYW5nZUludGVyaW9yV2l0aG91dENvbWJpbmF0aW9uKGNvbmZpZ3VyYXRpb24sIGludGVyaW9yLmNvZGUsIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZCwgcmVzdG9yZUNvbmZpZ3VyZWRJbnRlcmlvcik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5yZW1vdmVJbnRlcmlvcihjb25maWd1cmF0aW9uLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuRXF1aXBtZW50U2VsZWN0ZWQoZXF1aXBtZW50KSB7XHJcbiAgICAgICAgaWYgKGVxdWlwbWVudC5oYXNGb3JjZWRDb21iaW5hdGlvbnMpIHtcclxuICAgICAgICAgICAgY29tYmluYXRpb25TZWxlY3RvckJpbmRpbmdzLnVwZGF0ZVRvU2hvdyhlcXVpcG1lbnQuY29kZSwgZXF1aXBtZW50LmNvbXB1bHNvcnlDb21iaW5hdGlvbnMsIGN1cnJlbnRDYXRhbG9nLCB3aGVuRXF1aXBtZW50V2l0aENvbWJpbmF0aW9uU2VsZWN0ZWQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlcXVpcG1lbnQuaXNQYWNrYWdlKCkpIHtcclxuICAgICAgICAgICAgY29uZmlndXJhdGlvbkNsaWVudC5hZGRQYWNrYWdlV2l0aG91dENvbWJpbmF0aW9uKGNvbmZpZ3VyYXRpb24sIGVxdWlwbWVudC5jb2RlLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25DbGllbnQuYWRkRXF1aXBtZW50V2l0aG91dENvbWJpbmF0aW9uKGNvbmZpZ3VyYXRpb24sIGVxdWlwbWVudC5jb2RlLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuRXF1aXBtZW50VW5zZWxlY3RlZChlcXVpcG1lbnQpIHtcclxuICAgICAgICBpZiAoZXF1aXBtZW50LmlzUGFja2FnZSgpKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25DbGllbnQucmVtb3ZlUGFja2FnZShjb25maWd1cmF0aW9uLCBlcXVpcG1lbnQuY29kZSwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LnJlbW92ZUVxdWlwbWVudChjb25maWd1cmF0aW9uLCBlcXVpcG1lbnQuY29kZSwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlbGVjdG9ycygpIHtcclxuICAgICAgICBjb2xvckNvbmZpZ3VyYXRvci5pbml0aWFsaXplU2VsZWN0b3IoY3VycmVudENhdGFsb2cuY29sb3JzKTtcclxuICAgICAgICBpbnRlcmlvckNvbmZpZ3VyYXRvci5pbml0aWFsaXplU2VsZWN0b3IoY3VycmVudENhdGFsb2cuaW50ZXJpb3JzKTtcclxuICAgICAgICBhdmFpbGFibGVFcXVpcG1lbnRzKGN1cnJlbnRDYXRhbG9nLnBhY2thZ2VzLmNvbmNhdChjdXJyZW50Q2F0YWxvZy5lcXVpcG1lbnRzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbk1vZGVsQ29tYmluYXRpb25Jc1NlbGVjdGVkKHNlbGVjdGVkQ29tYmluYXRpb24pIHtcclxuICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmNyZWF0ZUNvbmZpZ3VyYXRpb25XaXRoQ29tYmluYXRpb24oc2VsZWN0ZWRCcmFuZCgpLmlkLCBzZWxlY3RlZENvbWJpbmF0aW9uLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQsIG9uQ29uZmlndXJhdGlvbkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuQ29sb3JDb21iaW5hdGlvblNlbGVjdGVkKHNlbGVjdGVkQ29tYmluYXRpb24pIHtcclxuICAgICAgICBpZiAoXy5pc09iamVjdChzZWxlY3RlZENvbWJpbmF0aW9uKSkge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmNoYW5nZUNvbG9yKGNvbmZpZ3VyYXRpb24sIHNlbGVjdGVkQ29tYmluYXRpb24sIHdoZW5Db25maWd1cmF0aW9uQXBwbGllZCwgcmVzdG9yZUNvbmZpZ3VyZWRDb2xvcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzdG9yZUNvbmZpZ3VyZWRDb2xvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5JbnRlcmlvckNvbWJpbmF0aW9uU2VsZWN0ZWQoc2VsZWN0ZWRDb21iaW5hdGlvbikge1xyXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KHNlbGVjdGVkQ29tYmluYXRpb24pKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRpb25DbGllbnQuY2hhbmdlSW50ZXJpb3IoY29uZmlndXJhdGlvbiwgc2VsZWN0ZWRDb21iaW5hdGlvbiwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkLCByZXN0b3JlQ29uZmlndXJlZEludGVyaW9yKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXN0b3JlQ29uZmlndXJlZEludGVyaW9yKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbkVxdWlwbWVudFdpdGhDb21iaW5hdGlvblNlbGVjdGVkKHNlbGVjdGVkQ29tYmluYXRpb24pIHtcclxuICAgICAgICBpZiAoIV8uaXNPYmplY3Qoc2VsZWN0ZWRDb21iaW5hdGlvbikpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkQ29tYmluYXRpb24ucm9vdC5pc1BhY2thZ2UoKSkge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmFkZFBhY2thZ2UoY29uZmlndXJhdGlvbiwgc2VsZWN0ZWRDb21iaW5hdGlvbiwgd2hlbkNvbmZpZ3VyYXRpb25BcHBsaWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25maWd1cmF0aW9uQ2xpZW50LmFkZEVxdWlwbWVudChjb25maWd1cmF0aW9uLCBzZWxlY3RlZENvbWJpbmF0aW9uLCB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuQ29uZmlndXJhdGlvbkFwcGxpZWQobmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSkge1xyXG4gICAgICAgIGNvbmZpZ3VyYXRvckFwcGxpZXIuYXBwbHlDb25maWd1cmF0aW9uKGNvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIGFjdGlvblR5cGUsIGN1cnJlbnRDYXRhbG9nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXN0b3JlQ29uZmlndXJlZENvbG9yKCkge1xyXG4gICAgICAgIGNvbG9yQ29uZmlndXJhdG9yLnNlbGVjdGVkKGNvbmZpZ3VyYXRpb24uY29uZmlndXJlZENvbG9yKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc3RvcmVDb25maWd1cmVkSW50ZXJpb3IoKSB7XHJcbiAgICAgICAgaW50ZXJpb3JDb25maWd1cmF0b3Iuc2VsZWN0ZWQoY29uZmlndXJhdGlvbi5jb25maWd1cmVkSW50ZXJpb3IoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRpdGxlOiB0cmFuc2xhdG9yLnRyYW5zbGF0ZSgnU2hhcmVkRG9tYWluLkZpbHRlcnMnKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBsYWJlbHM6IGdldExhYmVscygpLFxyXG4gICAgICAgIHNlbGVjdGVkQnJhbmQsXHJcbiAgICAgICAgc2VsZWN0ZWRNb2RlbCxcclxuICAgICAgICBjb2xvck9wdGlvbnM6IGNvbG9yQ29uZmlndXJhdG9yLm9wdGlvbnMsXHJcbiAgICAgICAgc2VsZWN0ZWRDb2xvcjogY29sb3JDb25maWd1cmF0b3Iuc2VsZWN0ZWQsXHJcbiAgICAgICAgaW50ZXJpb3JPcHRpb25zOiBpbnRlcmlvckNvbmZpZ3VyYXRvci5vcHRpb25zLFxyXG4gICAgICAgIHNlbGVjdGVkSW50ZXJpb3I6IGludGVyaW9yQ29uZmlndXJhdG9yLnNlbGVjdGVkLFxyXG4gICAgICAgIGF2YWlsYWJsZUVxdWlwbWVudHMsXHJcbiAgICAgICAgd2hlbk1vZGVsU2VsZWN0ZWQsXHJcbiAgICAgICAgd2hlbk1vZGVsVW5zZWxlY3RlZCxcclxuICAgICAgICB3aGVuTW9kZWxDYXRlZ29yeVNlbGVjdGVkLFxyXG4gICAgICAgIHdoZW5Nb2RlbENhdGVnb3J5VW5zZWxlY3RlZCxcclxuICAgICAgICB3aGVuRXF1aXBtZW50U2VsZWN0ZWQsXHJcbiAgICAgICAgd2hlbkVxdWlwbWVudFVuc2VsZWN0ZWQsXHJcbiAgICAgICAgY29tYmluYXRpb25TZWxlY3RvclZpc2libGU6IGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy5jb21iaW5hdGlvblNlbGVjdG9yVmlzaWJsZSxcclxuICAgICAgICBpc0NvbWJpbmF0aW9uTWFuZGF0b3J5OiBjb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MuaXNDb21iaW5hdGlvbk1hbmRhdG9yeSxcclxuICAgICAgICBjb21iaW5hdGlvbk9wdGlvbnM6IGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy5jb21iaW5hdGlvbk9wdGlvbnMsXHJcbiAgICAgICAgd2hlbkNvbWJpbmF0aW9uU2VsZWN0ZWQ6IGNvbWJpbmF0aW9uU2VsZWN0b3JCaW5kaW5ncy53aGVuU2VsZWN0ZWQsXHJcbiAgICAgICAgc2VsZWN0ZWRFcXVpcG1lbnQ6IGNvbmZpZ3VyYXRpb24uZXF1aXBtZW50cyxcclxuICAgICAgICBsb2FkaW5nQ2F0YWxvZyxcclxuICAgICAgICBsb2FkZWRNb2RlbFxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbG9yQ29uZmlndXJhdG9yKHdoZW5Db2xvcklzU2VsZWN0ZWQpIHtcclxuXHJcbiAgICBjb25zdCBjb2xvck9wdGlvbnMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW10pO1xyXG4gICAgY29uc3QgY29sb3JTZWxlY3RlZCA9IGtvLm9ic2VydmFibGUoKTtcclxuXHJcbiAgICBjb2xvclNlbGVjdGVkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgd2hlbkNvbG9ySXNTZWxlY3RlZChjb2xvclNlbGVjdGVkKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlbGVjdG9yKGNvbG9ycykge1xyXG4gICAgICAgIGNvbG9yT3B0aW9ucy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwoY29sb3JPcHRpb25zLCBjb2xvcnMpO1xyXG4gICAgICAgIGNvbG9yU2VsZWN0ZWQodW5kZWZpbmVkKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gc2V0T3B0aW9uc0ZvclNlbGVjdGVkSW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCBjYXRhbG9nKSB7XHJcbiAgICAgICAgaWYgKCFtb2RlbENvbmZpZ3VyYXRpb24uaGFzSW50ZXJpb3IoKSkge1xyXG4gICAgICAgICAgICBjb2xvck9wdGlvbnMoY2F0YWxvZy5jb2xvcnMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbG9yT3B0aW9ucyhjYXRhbG9nLmNvbXBhdGlibGVDb2xvcnNXaXRoKG1vZGVsQ29uZmlndXJhdGlvbi5jb25maWd1cmVkSW50ZXJpb3IoKS5jb2RlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgb3B0aW9uczogY29sb3JPcHRpb25zLFxyXG4gICAgICAgIHNlbGVjdGVkOiBjb2xvclNlbGVjdGVkLFxyXG4gICAgICAgIGluaXRpYWxpemVTZWxlY3RvcixcclxuICAgICAgICBzZXRPcHRpb25zRm9yU2VsZWN0ZWRJbnRlcmlvclxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbWJpbmF0aW9uKHJvb3QsIGl0ZW1zLCBkaWFsb2dQdWJsaXNoZXIsIHRyYW5zbGF0b3IpIHtcclxuICAgIGxldCB3aGVuU2VsZWN0ZWRDYWxsYmFjayA9ICgpID0+IHsgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3QoKSB7XHJcbiAgICAgICAgaWYgKGFueUVxdWlwbWVudElzTm90SW5DYXRhbG9nKCkpIHtcclxuICAgICAgICAgICAgZGlhbG9nUHVibGlzaGVyLmVycm9yKHsgdGl0bGU6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLkFueUVxdWlwbWVudElzTm90SW5DYXRhbG9nLkVycm9yXCIpIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoZW5TZWxlY3RlZENhbGxiYWNrKHNlbGYpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFueUVxdWlwbWVudElzTm90SW5DYXRhbG9nKCkge1xyXG4gICAgICAgIHJldHVybiBfLmZpbmQoaXRlbXMsICh4KSA9PiAheC5pc0luQ2F0YWxvZygpKSAhPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0SXRlbXMoKSB7XHJcbiAgICAgICAgcm9vdC5zZWxlY3RlZCh0cnVlKTtcclxuICAgICAgICBfLmVhY2goaXRlbXMsICh4KSA9PiB4LnNlbGVjdGVkKHRydWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuU2VsZWN0ZWQoY2FsbGJhY2spIHtcclxuICAgICAgICB3aGVuU2VsZWN0ZWRDYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzZWxmID0ge1xyXG4gICAgICAgIHJvb3QsXHJcbiAgICAgICAgaXRlbXMsXHJcbiAgICAgICAgc2VsZWN0LFxyXG4gICAgICAgIHdoZW5TZWxlY3RlZCxcclxuICAgICAgICBzZWxlY3RJdGVtc1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gc2VsZjtcclxufSIsImltcG9ydCBDb21iaW5hdGlvbnNCdWlsZGVyIGZyb20gJy4vY29tYmluYXRpb25zQnVpbGRlcic7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb21iaW5hdGlvblNlbGVjdG9yQmluZGluZ3MoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKXtcclxuICAgIFxyXG4gICAgY29uc3QgY29tYmluYXRpb25zQnVpbGRlciA9IENvbWJpbmF0aW9uc0J1aWxkZXIoZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKTtcclxuICAgIGNvbnN0IGNvbWJpbmF0aW9uT3B0aW9ucyA9IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGNvbnN0IGlzQ29tYmluYXRpb25NYW5kYXRvcnkgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuICAgIGxldCB3aGVuQ29tYmluYXRpb25TZWxlY3RlZENhbGxiYWNrID0gKCkgPT4geyB9O1xyXG4gICAgY29uc3QgY29tYmluYXRpb25TZWxlY3RvclZpc2libGUgPSBrby5vYnNlcnZhYmxlKGZhbHNlKTtcclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUb1Nob3dBc01hbmRhdG9yeShpdGVtQ29kZSwgY29tYmluYXRpb25zLCBzZWxlY3RhYmxlQ2F0YWxvZywgY2FsbGJhY2spIHtcclxuICAgICAgICBsZXQgaXNNYW5kYXRvcnkgPSB0cnVlO1xyXG4gICAgICAgIHVwZGF0ZShpdGVtQ29kZSwgY29tYmluYXRpb25zLCBzZWxlY3RhYmxlQ2F0YWxvZywgaXNNYW5kYXRvcnksIGNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUb1Nob3coaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgc2VsZWN0YWJsZUNhdGFsb2csIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGlzTWFuZGF0b3J5ID0gZmFsc2U7XHJcbiAgICAgICAgdXBkYXRlKGl0ZW1Db2RlLCBjb21iaW5hdGlvbnMsIHNlbGVjdGFibGVDYXRhbG9nLCBpc01hbmRhdG9yeSwgY2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZShpdGVtQ29kZSwgY29tYmluYXRpb25zLCBzZWxlY3RhYmxlQ2F0YWxvZywgaXNNYW5kYXRvcnksIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgbGV0IGNvbWJpbmF0aW9uc0ZvclRoaXNJdGVtID0gY29tYmluYXRpb25zQnVpbGRlci5idWlsZEZvcihpdGVtQ29kZSwgY29tYmluYXRpb25zLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgY29tYmluYXRpb25PcHRpb25zKGNvbWJpbmF0aW9uc0ZvclRoaXNJdGVtKTtcclxuICAgICAgICBpc0NvbWJpbmF0aW9uTWFuZGF0b3J5KGlzTWFuZGF0b3J5KTtcclxuICAgICAgICB3aGVuQ29tYmluYXRpb25TZWxlY3RlZENhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICAgICAgY29tYmluYXRpb25TZWxlY3RvclZpc2libGUodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB1cGRhdGVUb1Nob3csXHJcbiAgICAgICAgdXBkYXRlVG9TaG93QXNNYW5kYXRvcnksXHJcbiAgICAgICAgY29tYmluYXRpb25TZWxlY3RvclZpc2libGUsXHJcbiAgICAgICAgaXNDb21iaW5hdGlvbk1hbmRhdG9yeSxcclxuICAgICAgICBjb21iaW5hdGlvbk9wdGlvbnMsXHJcbiAgICAgICAgd2hlblNlbGVjdGVkOiAoc2VsZWN0ZWQpID0+IHdoZW5Db21iaW5hdGlvblNlbGVjdGVkQ2FsbGJhY2soc2VsZWN0ZWQpXHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IENvbWJpbmF0aW9uIGZyb20gJy4vY29tYmluYXRpb24nO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29tYmluYXRpb25zQnVpbGRlcihkaWFsb2dQdWJsaXNoZXIsIHRyYW5zbGF0b3IpIHtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYnVpbGRGb3IoaXRlbUNvZGUsIGNvbWJpbmF0aW9ucywgY2F0YWxvZykge1xyXG4gICAgICAgIGxldCByb290T2ZDb21iaW5hdGlvbkVxdWlwbWVudCA9IGNhdGFsb2cuZmluZEl0ZW0oaXRlbUNvZGUpO1xyXG4gICAgICAgIHJldHVybiBfLm1hcChjb21iaW5hdGlvbnMsIChjb21iaW5hdGlvbikgPT4gYnVpbGRDb21iaW5hdGlvbkZvcihyb290T2ZDb21iaW5hdGlvbkVxdWlwbWVudCwgY29tYmluYXRpb24sIGNhdGFsb2cpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBidWlsZENvbWJpbmF0aW9uRm9yKHJvb3RJdGVtLCBjb21iaW5hdGlvbiwgY2F0YWxvZykge1xyXG4gICAgICAgIGxldCBjb21iaW5hdGlvbkNvZGVzID0gXy5tYXAoY29tYmluYXRpb24sIChpdGVtKSA9PiBpdGVtLmNvZGUpO1xyXG4gICAgICAgIGxldCBjYXRhbG9nSXRlbXMgPSBjYXRhbG9nLmZpbmRJdGVtcyhjb21iaW5hdGlvbkNvZGVzKTtcclxuICAgICAgICByZXR1cm4gQ29tYmluYXRpb24ocm9vdEl0ZW0sIGNhdGFsb2dJdGVtcywgZGlhbG9nUHVibGlzaGVyLCB0cmFuc2xhdG9yKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGJ1aWxkRm9yLFxyXG4gICAgICAgIGJ1aWxkQ29tYmluYXRpb25Gb3JcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25maWd1cmF0b3JBcHBsaWVyKGNvbmZpZ3VyYXRvck5vdGlmaWVyLCBjb21iaW5hdGlvbkJ1aWxkZXIsIHdoZW5Db25maWd1cmF0aW9uQ2hhbmdlZCkge1xyXG5cclxuICAgIGNvbnN0IEVtcHR5SW50ZXJpb3IgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgZnVuY3Rpb24gYXBwbHlDb25maWd1cmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgbmV3QXV0b2ZpeGVzID0gXy5maWx0ZXIobmV3Q29uZmlndXJhdGlvbi5hdXRvRml4ZXMsICh4KSA9PiB4LmlzTmV3QXV0b2ZpeCk7XHJcbiAgICAgICAgaWYgKG5ld0F1dG9maXhlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbmZpZ3VyYXRvck5vdGlmaWVyLm5vdGlmeUF1dG9maXhlc0NvbmZpcm1hdGlvbihcclxuICAgICAgICAgICAgICAgIG5ld0F1dG9maXhlcyxcclxuICAgICAgICAgICAgICAgICgpID0+IGNvbnRpbnVlQXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBhY3Rpb25UeXBlLCBzZWxlY3RhYmxlQ2F0YWxvZylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250aW51ZUFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb250aW51ZUFwcGx5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBjb25maWd1cmF0b3JOb3RpZmllci5ub3RpZnlDaGFuZ2VzSW5Db25maWd1cmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSk7XHJcbiAgICAgICAgY29tbWl0QXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29tbWl0QXBwbHkobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGNsZWFyQWxsU2VsZWN0aW9ucyhtb2RlbENvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuXHJcbiAgICAgICAgbW9kZWxDb25maWd1cmF0aW9uLnNldEF1dG9maXhlcyhuZXdDb25maWd1cmF0aW9uLmF1dG9GaXhlcyk7XHJcblxyXG4gICAgICAgIGFwcGx5TW9kZWxDb21wdWxzb3J5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGFwcGx5RXF1aXBtZW50c0FuZFBhY2thZ2VzKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgIGFwcGx5Q29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgYXBwbHlJbnRlcmlvcihtb2RlbENvbmZpZ3VyYXRpb24sIG5ld0NvbmZpZ3VyYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICB3aGVuQ29uZmlndXJhdGlvbkNoYW5nZWQobW9kZWxDb25maWd1cmF0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhckFsbFNlbGVjdGlvbnMobW9kZWxDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5jbGVhblNlbGVjdGlvbnMoKTtcclxuICAgICAgICBzZWxlY3RhYmxlQ2F0YWxvZy51bnNlbGVjdEFsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5TW9kZWxDb21wdWxzb3J5KG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBpZiAoIW5ld0NvbmZpZ3VyYXRpb24ubW9kZWxDb21wdWxzb3J5IHx8ICFuZXdDb25maWd1cmF0aW9uLm1vZGVsQ29tcHVsc29yeS5jb21iaW5lZEl0ZW1zKSByZXR1cm47XHJcblxyXG4gICAgICAgIF8uZWFjaChuZXdDb25maWd1cmF0aW9uLm1vZGVsQ29tcHVsc29yeS5jb21iaW5lZEl0ZW1zLCAoeCkgPT4ge1xyXG4gICAgICAgICAgICBsZXQgaXRlbSA9IHNlbGVjdGFibGVDYXRhbG9nLmZpbmRJdGVtKHguY29kZSk7XHJcbiAgICAgICAgICAgIGl0ZW0uc2VsZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5hZGRDb21wdWxzb3J5KGl0ZW0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5RXF1aXBtZW50c0FuZFBhY2thZ2VzKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBjb25zdCBlcXVpcG1lbnRzQW5kUGFja2FnZXMgPSBfKG5ld0NvbmZpZ3VyYXRpb24uZXF1aXBtZW50cykuY29uY2F0KG5ld0NvbmZpZ3VyYXRpb24ucGFja2FnZXMpLnZhbHVlKCk7XHJcbiAgICAgICAgXy5lYWNoKGVxdWlwbWVudHNBbmRQYWNrYWdlcywgKHgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGl0ZW0gPSBzZWxlY3RhYmxlQ2F0YWxvZy5maW5kSXRlbSh4LmNvZGUpO1xyXG4gICAgICAgICAgICBpdGVtLnNlbGVjdGVkKHRydWUpO1xyXG4gICAgICAgICAgICBhcHBseUNvbWJpbmF0aW9uKGl0ZW0sIHguY29tYmluYXRpb24sIHNlbGVjdGFibGVDYXRhbG9nKTtcclxuICAgICAgICAgICAgbW9kZWxDb25maWd1cmF0aW9uLmFkZEVxdWlwbWVudChpdGVtKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseUNvbG9yKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBsZXQgY29sb3JTZWxlY3RhYmxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KG5ld0NvbmZpZ3VyYXRpb24uY29sb3IpKSB7XHJcbiAgICAgICAgICAgIGNvbG9yU2VsZWN0YWJsZSA9IHNlbGVjdGFibGVDYXRhbG9nLmZpbmRJdGVtKG5ld0NvbmZpZ3VyYXRpb24uY29sb3IuY29kZSk7XHJcbiAgICAgICAgICAgIGFwcGx5Q29tYmluYXRpb24oY29sb3JTZWxlY3RhYmxlLCBuZXdDb25maWd1cmF0aW9uLmNvbG9yLmNvbWJpbmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5zZXRDb2xvcihjb2xvclNlbGVjdGFibGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5Q29tYmluYXRpb24oY2F0YWxvZ0l0ZW0sIGNvbWJpbmF0aW9uVG9BcHBseSwgc2VsZWN0YWJsZUNhdGFsb2cpIHtcclxuICAgICAgICBpZiAoY29tYmluYXRpb25Ub0FwcGx5ICYmIGNvbWJpbmF0aW9uVG9BcHBseS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvbWJpbmF0aW9uID0gY29tYmluYXRpb25CdWlsZGVyLmJ1aWxkQ29tYmluYXRpb25Gb3IoY2F0YWxvZ0l0ZW0sIGNvbWJpbmF0aW9uVG9BcHBseSwgc2VsZWN0YWJsZUNhdGFsb2cpO1xyXG4gICAgICAgICAgICBjb21iaW5hdGlvbi5zZWxlY3RJdGVtcygpO1xyXG4gICAgICAgICAgICBjYXRhbG9nSXRlbS5zZXRDb21iaW5hdGlvbihjb21iaW5hdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFwcGx5SW50ZXJpb3IobW9kZWxDb25maWd1cmF0aW9uLCBuZXdDb25maWd1cmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZykge1xyXG4gICAgICAgIGxldCBpbnRlcmlvclNlbGVjdGFibGUgPSBFbXB0eUludGVyaW9yO1xyXG4gICAgICAgIGlmIChfLmlzT2JqZWN0KG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IpKSB7XHJcbiAgICAgICAgICAgIGludGVyaW9yU2VsZWN0YWJsZSA9IHNlbGVjdGFibGVDYXRhbG9nLmZpbmRJdGVtKG5ld0NvbmZpZ3VyYXRpb24uaW50ZXJpb3IuY29kZSk7XHJcbiAgICAgICAgICAgIGFwcGx5Q29tYmluYXRpb24oaW50ZXJpb3JTZWxlY3RhYmxlLCBuZXdDb25maWd1cmF0aW9uLmludGVyaW9yLmNvbWJpbmF0aW9uLCBzZWxlY3RhYmxlQ2F0YWxvZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG1vZGVsQ29uZmlndXJhdGlvbi5zZXRJbnRlcmlvcihpbnRlcmlvclNlbGVjdGFibGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYXBwbHlDb25maWd1cmF0aW9uLFxyXG4gICAgICAgIGNvbnRpbnVlQXBwbHlcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25maWd1cmF0b3JOb3RpZmllcihkaWFsb2dQdWJsaXNoZXIsIHRyYW5zbGF0b3IpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBub3RpZnlDaGFuZ2VzSW5Db25maWd1cmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgbmV3Q29uZmlndXJhdGlvbiwgYWN0aW9uVHlwZSkge1xyXG4gICAgICAgIGxldCBtZXNzYWdlO1xyXG4gICAgICAgIGlmIChtb2RlbENvbmZpZ3VyYXRpb24uY29sb3JIYXNDaGFuZ2VkKG5ld0NvbmZpZ3VyYXRpb24pICYmICFhY3Rpb25UeXBlLklzQ2hhbmdlQ29sb3IoKSkge1xyXG4gICAgICAgICAgICBtZXNzYWdlID0gdHJhbnNsYXRvci50cmFuc2xhdGUoXCJDb25maWd1cmF0b3IuTm90aWZ5Q2hhbmdlQ29sb3IuTWVzc2FnZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtb2RlbENvbmZpZ3VyYXRpb24uaW50ZXJpb3JIYXNDaGFuZ2VkKG5ld0NvbmZpZ3VyYXRpb24pICYmICFhY3Rpb25UeXBlLklzQ2hhbmdlSW50ZXJpb3IoKSkge1xyXG4gICAgICAgICAgICBpZiAobWVzc2FnZSkgbWVzc2FnZSArPSBcIiBcIiArIHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk5vdGlmeUNoYW5nZUludGVyaW9yQW5kQ29sb3IuTWVzc2FnZVwiKTtcclxuICAgICAgICAgICAgZWxzZSBtZXNzYWdlID0gdHJhbnNsYXRvci50cmFuc2xhdGUoXCJDb25maWd1cmF0b3IuTm90aWZ5Q2hhbmdlSW50ZXJpb3IuTWVzc2FnZVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgIGRpYWxvZ1B1Ymxpc2hlci53YXJuaW5nKHsgdGl0bGU6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiU2hhcmVkRG9tYWluLldhcm5pbmcuVGV4dFwiKSwgbWVzc2FnZTogbWVzc2FnZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbm90aWZ5QXV0b2ZpeGVzQ29uZmlybWF0aW9uKG5ld0F1dG9maXhlcywgd2hlbkNvbmZpcm1lZCkge1xyXG4gICAgICAgIGxldCBmaXhlc0FzU3RyaW5nID0gXy5yZWR1Y2UobmV3QXV0b2ZpeGVzLCAoYWNjLCBmaXgpID0+IGFjYyArIFwiLSBcIiArIHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLkFwcGx5Q29uZmlndXJhdGlvbi5NZXNzYWdlXCIsIFtmaXguYWRkZWRJdGVtLCBmaXgucmVtb3ZlZEl0ZW1dKSArICc8YnI+JywgXCJcIik7XHJcbiAgICAgICAgZml4ZXNBc1N0cmluZyArPSBcIjxicj5cIiArIHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiQ29uZmlndXJhdG9yLk9rVG9Db250aW51ZS5NZXNzYWdlXCIpO1xyXG4gICAgICAgIGRpYWxvZ1B1Ymxpc2hlci5jb25maXJtYXRpb24oe1xyXG4gICAgICAgICAgICB0aXRsZTogdHJhbnNsYXRvci50cmFuc2xhdGUoXCJDb25maWd1cmF0b3IuQXBwbHlDb25maWd1cmF0aW9uQ29uZmlybWF0aW9uLk1lc3NhZ2VcIiksXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IGZpeGVzQXNTdHJpbmcsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB3aGVuQ29uZmlybWVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBub3RpZnlDaGFuZ2VzSW5Db25maWd1cmF0aW9uLFxyXG4gICAgICAgIG5vdGlmeUF1dG9maXhlc0NvbmZpcm1hdGlvblxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEludGVyaW9yQ29uZmlndXJhdG9yKHdoZW5JbnRlcmlvcklzU2VsZWN0ZWQpIHtcclxuXHJcbiAgICBjb25zdCBpbnRlcmlvck9wdGlvbnMgPSBrby5vYnNlcnZhYmxlQXJyYXkoW10pO1xyXG4gICAgY29uc3QgaW50ZXJpb3JTZWxlY3RlZCA9IGtvLm9ic2VydmFibGUoKTtcclxuXHJcbiAgICBpbnRlcmlvclNlbGVjdGVkLnN1YnNjcmliZSgoKSA9PiB7XHJcbiAgICAgICAgd2hlbkludGVyaW9ySXNTZWxlY3RlZChpbnRlcmlvclNlbGVjdGVkKCkpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdGlhbGl6ZVNlbGVjdG9yKGludGVyaW9ycykge1xyXG4gICAgICAgIGludGVyaW9yT3B0aW9ucy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwoaW50ZXJpb3JPcHRpb25zLCBpbnRlcmlvcnMpO1xyXG4gICAgICAgIGludGVyaW9yU2VsZWN0ZWQodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRPcHRpb25zRm9yU2VsZWN0ZWRDb2xvcihtb2RlbENvbmZpZ3VyYXRpb24sIGNhdGFsb2cpIHtcclxuICAgICAgICBpZiAoIW1vZGVsQ29uZmlndXJhdGlvbi5oYXNDb2xvcigpKSB7XHJcbiAgICAgICAgICAgIGludGVyaW9yT3B0aW9ucyhjYXRhbG9nLmludGVyaW9ycyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaW50ZXJpb3JPcHRpb25zKGNhdGFsb2cuY29tcGF0aWJsZUludGVyaW9yc1dpdGgobW9kZWxDb25maWd1cmF0aW9uLmNvbmZpZ3VyZWRDb2xvcigpLmNvZGUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBvcHRpb25zOiBpbnRlcmlvck9wdGlvbnMsXHJcbiAgICAgICAgc2VsZWN0ZWQ6IGludGVyaW9yU2VsZWN0ZWQsXHJcbiAgICAgICAgaW5pdGlhbGl6ZVNlbGVjdG9yLFxyXG4gICAgICAgIHNldE9wdGlvbnNGb3JTZWxlY3RlZENvbG9yXHJcbiAgICB9O1xyXG59IiwiaW1wb3J0IFNlbGVjdGFibGVJdGVtIGZyb20gXCIuL3NlbGVjdGFibGVJdGVtXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbENhdGFsb2dTZWxlY3RhYmxlcyhtb2RlbENvZGUsIG1vZGVsRGVzY3JpcHRpb24sIGNhdGFsb2dKc29uKSB7XHJcblxyXG4gICAgbGV0IGNvbG9ycyA9IGNyZWF0ZVNlbGVjdGFibGVDb2xvcnNGcm9tKGNhdGFsb2dKc29uKTtcclxuICAgIGxldCBpbnRlcmlvcnMgPSBjcmVhdGVTZWxlY3RhYmxlSW50ZXJpb3JzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgZXF1aXBtZW50cyA9IGNyZWF0ZVNlbGVjdGFibGVFcXVpcG1lbnRzRnJvbShjYXRhbG9nSnNvbik7XHJcbiAgICBsZXQgcGFja2FnZXMgPSBjcmVhdGVTZWxlY3RhYmxlUGFja2FnZXNGcm9tKGNhdGFsb2dKc29uKTtcclxuICAgIGxldCBtb2RlbCA9IFNlbGVjdGFibGVJdGVtKHtcclxuICAgICAgICBjb2RlOiBtb2RlbENvZGUsXHJcbiAgICAgICAgZGVzY3JpcHRpb246IG1vZGVsRGVzY3JpcHRpb24sXHJcbiAgICAgICAgaGFzRm9yY2VkQ29tYmluYXRpb25zOiBjYXRhbG9nSnNvbi5tb2RlbENvbXB1bHNvcnlDb21iaW5hdGlvbkNob2ljZXMgJiYgY2F0YWxvZ0pzb24ubW9kZWxDb21wdWxzb3J5Q29tYmluYXRpb25DaG9pY2VzLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgY29tcHVsc29yeUNvbWJpbmF0aW9uczogY2F0YWxvZ0pzb24ubW9kZWxDb21wdWxzb3J5Q29tYmluYXRpb25DaG9pY2VzXHJcbiAgICB9KTtcclxuXHJcbiAgICBsZXQgYWxsSXRlbXMgPSBfKG1vZGVsKS5jb25jYXQoaW50ZXJpb3JzLCBjb2xvcnMsIGVxdWlwbWVudHMsIHBhY2thZ2VzKS52YWx1ZSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFJlbGF0aW9uc2hpcChjb2xvckNvZGUsIGludGVyaW9yQ29kZSkge1xyXG4gICAgICAgIGlmIChfLmZpbmQoY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLCB4PT4geC5jb2xvckNvZGUgPT0gY29sb3JDb2RlICYmIHguaW50ZXJpb3JDb2RlID09IGludGVyaW9yQ29kZSkpIHJldHVybjtcclxuICAgICAgICBjYXRhbG9nSnNvbi5yZWxhdGlvbnNoaXAucHVzaCh7Y29sb3JDb2RlLGludGVyaW9yQ29kZX0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZENvbG9yKGNvbG9yVG9BZGQpIHtcclxuICAgICAgICBjb25zdCBjb2xvciA9IFNlbGVjdGFibGVJdGVtKHtcclxuICAgICAgICAgICAgY29kZTogY29sb3JUb0FkZC5jb2RlLFxyXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogY29sb3JUb0FkZC5kZXNjcmlwdGlvbn1cclxuICAgICAgICApO1xyXG4gICAgICAgIGNvbG9ycy5wdXNoKGNvbG9yKTtcclxuICAgICAgICBhbGxJdGVtcy5wdXNoKGNvbG9yKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRJbnRlcmlvcihpbnRlcmlvclRvQWRkKSB7XHJcbiAgICAgICAgY29uc3QgaW50ZXJpb3IgPSBTZWxlY3RhYmxlSXRlbSh7XHJcbiAgICAgICAgICAgIGNvZGU6IGludGVyaW9yVG9BZGQuY29kZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGludGVyaW9yVG9BZGQuZGVzY3JpcHRpb259XHJcbiAgICAgICAgKTtcclxuICAgICAgICBpbnRlcmlvcnMucHVzaChpbnRlcmlvcik7XHJcbiAgICAgICAgYWxsSXRlbXMucHVzaChpbnRlcmlvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYW4oKSB7XHJcbiAgICAgICAgZXF1aXBtZW50cy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGludGVyaW9ycy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGNvbG9ycy5sZW5ndGggPSAwO1xyXG4gICAgICAgIHBhY2thZ2VzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgYWxsSXRlbXMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRNb2RlbCgpIHtcclxuICAgICAgICByZXR1cm4gbW9kZWw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0YWJsZVBhY2thZ2VzRnJvbShjYXRhbG9nSnNvbikge1xyXG4gICAgICAgIHJldHVybiBfLm1hcChjYXRhbG9nSnNvbi5wYWNrYWdlcywgKHgpID0+IFNlbGVjdGFibGVJdGVtKHgsIHRydWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVTZWxlY3RhYmxlRXF1aXBtZW50c0Zyb20oY2F0YWxvZ0pzb24pIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY2F0YWxvZ0pzb24uZXF1aXBtZW50cywgKHgpID0+IFNlbGVjdGFibGVJdGVtKHgsIGZhbHNlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2VsZWN0YWJsZUludGVyaW9yc0Zyb20oY2F0YWxvZ0pzb24pIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY2F0YWxvZ0pzb24uaW50ZXJpb3JzLCAoeCkgPT4gU2VsZWN0YWJsZUl0ZW0oeCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZVNlbGVjdGFibGVDb2xvcnNGcm9tKGNhdGFsb2dKc29uKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGNhdGFsb2dKc29uLmNvbG9ycywgKHgpID0+IFNlbGVjdGFibGVJdGVtKHgpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kSXRlbXMoY29kZXMpIHtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY29kZXMsIChjb2RlKSA9PiBmaW5kSXRlbShjb2RlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZEl0ZW0oY29kZSkge1xyXG4gICAgICAgIGxldCBpdGVtID0gXy5maW5kKGFsbEl0ZW1zLCAoeCkgPT4geC5jb2RlID09IGNvZGUpO1xyXG4gICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbXB0eVNlbGVjdGFibGVJdGVtKGNvZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVFbXB0eVNlbGVjdGFibGVJdGVtKGNvZGUpIHtcclxuICAgICAgICByZXR1cm4gU2VsZWN0YWJsZUl0ZW0oeyBlc21FcXVpcG1lbnQ6IGZhbHNlLCBjb2RlOiBjb2RlLCBkZXNjcmlwdGlvbjogJycgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5zZWxlY3RBbGwoKSB7XHJcbiAgICAgICAgXy5lYWNoKGFsbEl0ZW1zLCAoeCkgPT4geC5zZWxlY3RlZChmYWxzZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBhdGlibGVDb2xvcnNXaXRoKGludGVyaW9yQ29kZSkge1xyXG4gICAgICAgIGxldCBpbnRlcmlvclJlbGF0aW9uc2hpcHMgPSBfLmZpbHRlcihjYXRhbG9nSnNvbi5yZWxhdGlvbnNoaXAsICh4KSA9PiB4LmludGVyaW9yQ29kZSA9PSBpbnRlcmlvckNvZGUpO1xyXG4gICAgICAgIHJldHVybiBfLm1hcChpbnRlcmlvclJlbGF0aW9uc2hpcHMsICh4KSA9PiBmaW5kQ29sb3IoeC5jb2xvckNvZGUpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kQ29sb3IoY29sb3JDb2RlKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uZmluZChjb2xvcnMsICh4KSA9PiB4LmNvZGUgPT0gY29sb3JDb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wYXRpYmxlSW50ZXJpb3JzV2l0aChjb2xvckNvZGUpIHtcclxuICAgICAgICBsZXQgY29sb3JSZWxhdGlvbnNoaXBzID0gXy5maWx0ZXIoY2F0YWxvZ0pzb24ucmVsYXRpb25zaGlwLCAoeCkgPT4geC5jb2xvckNvZGUgPT0gY29sb3JDb2RlKTtcclxuICAgICAgICByZXR1cm4gXy5tYXAoY29sb3JSZWxhdGlvbnNoaXBzLCAoeCkgPT4gZmluZEludGVyaW9yKHguaW50ZXJpb3JDb2RlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmluZEludGVyaW9yKGludGVyaW9yQ29kZSkge1xyXG4gICAgICAgIHJldHVybiBfLmZpbmQoaW50ZXJpb3JzLCAoeCkgPT4geC5jb2RlID09IGludGVyaW9yQ29kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBlcXVpcG1lbnRzLFxyXG4gICAgICAgIHBhY2thZ2VzLFxyXG4gICAgICAgIGNvbG9ycyxcclxuICAgICAgICBpbnRlcmlvcnMsXHJcbiAgICAgICAgZmluZEl0ZW0sXHJcbiAgICAgICAgZmluZEl0ZW1zLFxyXG4gICAgICAgIHVuc2VsZWN0QWxsLFxyXG4gICAgICAgIGNvbXBhdGlibGVDb2xvcnNXaXRoLFxyXG4gICAgICAgIGNvbXBhdGlibGVJbnRlcmlvcnNXaXRoLFxyXG4gICAgICAgIGdldE1vZGVsLFxyXG4gICAgICAgIGNsZWFuLFxyXG4gICAgICAgIGFkZENvbG9yLFxyXG4gICAgICAgIGFkZEludGVyaW9yLFxyXG4gICAgICAgIGFkZFJlbGF0aW9uc2hpcFxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGVsQ29uZmlndXJhdGlvbigpIHtcclxuICAgIGxldCBtb2RlbEdyb3VwQ29kZTtcclxuICAgIGNvbnN0IG1vZGVsSWQgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBtb2RlbERlc2NyaXB0aW9uID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgY29uc3QgZXF1aXBtZW50cyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG4gICAgY29uc3QgY29uZmlndXJlZENvbG9yID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgY29uc3QgY29uZmlndXJlZEludGVyaW9yID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgY29uc3QgbW9kZWxDb21wdWxzb3J5ID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XHJcbiAgICBjb25zdCBzaG93T3JkZXJDcmVhdGlvbiA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xyXG4gICAgY29uc3QgdW5hYmxlVG9SZWJ1aWxkSXRlbXMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuICAgIGNvbnN0IGlzQVZlcnNpb24gPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBsZXQgbW9kZWxBdXRvZml4ZXM7XHJcbiAgICBsZXQgbW9kZWxDb2RlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZFVuYWJsZVRvUmVidWlsZEl0ZW0oaXRlbSkge1xyXG4gICAgICAgIHVuYWJsZVRvUmVidWlsZEl0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlVW5hYmxlVG9SZWJ1aWxkSXRlbShpdGVtKSB7XHJcbiAgICAgICAgdW5hYmxlVG9SZWJ1aWxkSXRlbXMucmVtb3ZlKGl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldEF1dG9maXhlcyhhdXRvZml4ZXMpIHtcclxuICAgICAgICBtb2RlbEF1dG9maXhlcyA9IGF1dG9maXhlcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYW5TYXZlT3JkZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhhc01vZGVsKCkgJiYgaGFzQ29sb3IoKSAmJiBoYXNJbnRlcmlvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZEVxdWlwbWVudChlcXVpcG1lbnQpIHtcclxuICAgICAgICBlcXVpcG1lbnRzLnJlbW92ZShlcXVpcG1lbnQpO1xyXG4gICAgICAgIGVxdWlwbWVudHMucHVzaChlcXVpcG1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZENvbXB1bHNvcnkoY29tYmluZWRJdGVtKSB7XHJcbiAgICAgICAgbW9kZWxDb21wdWxzb3J5LnB1c2goY29tYmluZWRJdGVtKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRNb2RlbEdyb3VwQ29kZShtb2RlbEdyb3VwKSB7XHJcbiAgICAgICAgbW9kZWxHcm91cENvZGUgPSBtb2RlbEdyb3VwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldE1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgcmVtb3ZlTW9kZWwoKTtcclxuICAgICAgICBtb2RlbENvZGUgPSBtb2RlbC5rZXkuY29kZTtcclxuICAgICAgICBtb2RlbElkKG1vZGVsLmtleS5pZCk7XHJcbiAgICAgICAgbW9kZWxEZXNjcmlwdGlvbihtb2RlbC5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgaXNBVmVyc2lvbihtb2RlbC5pc0FWZXJzaW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc05vdFRoZVNhbWVNb2RlbChtb2RlbCkge1xyXG4gICAgICAgIHJldHVybiBtb2RlbC5rZXkuY29kZSAhPSBtb2RlbENvZGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYW4oKSB7XHJcbiAgICAgICAgbW9kZWxHcm91cENvZGUgPSAnJztcclxuICAgICAgICBtb2RlbENvZGUgPSAnJztcclxuICAgICAgICBtb2RlbElkKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgbW9kZWxEZXNjcmlwdGlvbih1bmRlZmluZWQpO1xyXG4gICAgICAgIGNsZWFuU2VsZWN0aW9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZU1vZGVsKCkge1xyXG4gICAgICAgIG1vZGVsQ29kZSA9ICcnO1xyXG4gICAgICAgIG1vZGVsSWQodW5kZWZpbmVkKTtcclxuICAgICAgICBtb2RlbERlc2NyaXB0aW9uKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgY2xlYW5TZWxlY3Rpb25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYW5TZWxlY3Rpb25zKCkge1xyXG4gICAgICAgIHNob3dPcmRlckNyZWF0aW9uKGZhbHNlKTtcclxuICAgICAgICBlcXVpcG1lbnRzLnJlbW92ZUFsbCgpO1xyXG4gICAgICAgIG1vZGVsQ29tcHVsc29yeS5yZW1vdmVBbGwoKTtcclxuICAgICAgICBjb25maWd1cmVkQ29sb3IodW5kZWZpbmVkKTtcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRDb2xvcihjb2xvcikge1xyXG4gICAgICAgIGNvbmZpZ3VyZWRDb2xvcihjb2xvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0SW50ZXJpb3IoaW50ZXJpb3IpIHtcclxuICAgICAgICBjb25maWd1cmVkSW50ZXJpb3IoaW50ZXJpb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRW1wdHkoKSB7XHJcbiAgICAgICAgcmV0dXJuICFoYXNNb2RlbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvSnNvbigpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtb2RlbEdyb3VwQ29kZTogbW9kZWxHcm91cENvZGUsXHJcbiAgICAgICAgICAgIG1vZGVsS2V5OiB7IGlkOiBtb2RlbElkKCksIGNvZGU6IG1vZGVsQ29kZSwgZGVzY3JpcHRpb246IG1vZGVsRGVzY3JpcHRpb24oKSwgaXNBVmVyc2lvbjogaXNBVmVyc2lvbigpIH0sXHJcbiAgICAgICAgICAgIGNvbG9yOiBjb25maWd1cmVkQ29sb3IoKSAhPSB1bmRlZmluZWQgPyBjb25maWd1cmVkQ29sb3IoKS50b0pzb24oKSA6IHt9LFxyXG4gICAgICAgICAgICBpbnRlcmlvcjogY29uZmlndXJlZEludGVyaW9yKCkgIT0gdW5kZWZpbmVkID8gY29uZmlndXJlZEludGVyaW9yKCkudG9Kc29uKCkgOiB7fSxcclxuICAgICAgICAgICAgZXF1aXBtZW50czogXy5tYXAoZXF1aXBtZW50cygpLCAoeCkgPT4geC50b0pzb24oKSksXHJcbiAgICAgICAgICAgIG1vZGVsQ29tcHVsc29yeToge1xyXG4gICAgICAgICAgICAgICAgY29tYmluZWRJdGVtczogXy5tYXAobW9kZWxDb21wdWxzb3J5KCksICh4KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY29kZTogeC5jb2RlLCB0eXBlOiB4LnR5cGUgfTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGF1dG9GaXhlczogbW9kZWxBdXRvZml4ZXNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc0ZvcmNlZENvbG9yKCkge1xyXG4gICAgICAgIGlmIChjb25maWd1cmVkQ29sb3IoKSA9PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIF8uYW55KGVxdWlwbWVudHMoKSwgKHgpID0+IHguY29udGFpbnNGb3JjZWRJdGVtKGNvbmZpZ3VyZWRDb2xvcigpLmNvZGUpKSB8fFxyXG4gICAgICAgICAgICAoY29uZmlndXJlZEludGVyaW9yKCkgJiYgY29uZmlndXJlZEludGVyaW9yKCkuY29udGFpbnNGb3JjZWRJdGVtKGNvbmZpZ3VyZWRDb2xvcigpLmNvZGUpKSB8fFxyXG4gICAgICAgICAgICBfLmFueShtb2RlbENvbXB1bHNvcnkoKSwgKHgpID0+IHguY29kZSA9PSBjb25maWd1cmVkQ29sb3IoKS5jb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYXNGb3JjZWRJbnRlcmlvcigpIHtcclxuICAgICAgICBpZiAoY29uZmlndXJlZEludGVyaW9yKCkgPT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIF8uYW55KGVxdWlwbWVudHMoKSwgKHgpID0+IHguY29udGFpbnNGb3JjZWRJdGVtKGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvZGUpKSB8fFxyXG4gICAgICAgICAgICAoY29uZmlndXJlZENvbG9yKCkgJiYgY29uZmlndXJlZENvbG9yKCkuY29udGFpbnNGb3JjZWRJdGVtKGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvZGUpKSB8fFxyXG4gICAgICAgICAgICBfLmFueShtb2RlbENvbXB1bHNvcnkoKSwgKHgpID0+IHguY29kZSA9PSBjb25maWd1cmVkSW50ZXJpb3IoKS5jb2RlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYXNDb2xvcigpIHtcclxuICAgICAgICByZXR1cm4gIV8uaXNVbmRlZmluZWQoY29uZmlndXJlZENvbG9yKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGhhc0ludGVyaW9yKCkge1xyXG4gICAgICAgIHJldHVybiAhXy5pc1VuZGVmaW5lZChjb25maWd1cmVkSW50ZXJpb3IoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzTW9kZWwoKSB7XHJcbiAgICAgICAgcmV0dXJuICFfLmlzVW5kZWZpbmVkKG1vZGVsSWQoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGFzRXF1aXBtZW50KGVxdWlwbWVudENvZGUpIHtcclxuICAgICAgICByZXR1cm4gXy5hbnkoZXF1aXBtZW50cygpLCB4ID0+IHguY29kZSA9PSBlcXVpcG1lbnRDb2RlKSB8fFxyXG4gICAgICAgICAgICBfLmFueShtb2RlbENvbXB1bHNvcnkoKSwgeCA9PiB4LmNvZGUgPT0gZXF1aXBtZW50Q29kZSkgfHxcclxuICAgICAgICAgICAgKGNvbmZpZ3VyZWRDb2xvcigpICYmIGNvbmZpZ3VyZWRDb2xvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShlcXVpcG1lbnRDb2RlKSkgfHxcclxuICAgICAgICAgICAgKGNvbmZpZ3VyZWRJbnRlcmlvcigpICYmIGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvbnRhaW5zRm9yY2VkSXRlbShlcXVpcG1lbnRDb2RlKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29sb3JIYXNDaGFuZ2VkKG5ld0NvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICByZXR1cm4gY29uZmlndXJlZENvbG9yKCkgJiZcclxuICAgICAgICAgICAgbmV3Q29uZmlndXJhdGlvbi5jb2xvciAmJlxyXG4gICAgICAgICAgICBjb25maWd1cmVkQ29sb3IoKS5jb2RlICE9IG5ld0NvbmZpZ3VyYXRpb24uY29sb3IuY29kZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpbnRlcmlvckhhc0NoYW5nZWQobmV3Q29uZmlndXJhdGlvbikge1xyXG4gICAgICAgIHJldHVybiBjb25maWd1cmVkSW50ZXJpb3IoKSAmJlxyXG4gICAgICAgICAgICBuZXdDb25maWd1cmF0aW9uLmludGVyaW9yICYmXHJcbiAgICAgICAgICAgIGNvbmZpZ3VyZWRJbnRlcmlvcigpLmNvZGUgIT0gbmV3Q29uZmlndXJhdGlvbi5pbnRlcmlvci5jb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbW9kZWxJZCxcclxuICAgICAgICBtb2RlbERlc2NyaXB0aW9uLFxyXG4gICAgICAgIGVxdWlwbWVudHMsXHJcbiAgICAgICAgbW9kZWxDb21wdWxzb3J5LFxyXG4gICAgICAgIHNldE1vZGVsR3JvdXBDb2RlLFxyXG4gICAgICAgIHNldE1vZGVsLFxyXG4gICAgICAgIHNldENvbG9yLFxyXG4gICAgICAgIHNldEludGVyaW9yLFxyXG4gICAgICAgIGFkZEVxdWlwbWVudCxcclxuICAgICAgICBhZGRDb21wdWxzb3J5LFxyXG4gICAgICAgIGNsZWFuLFxyXG4gICAgICAgIHJlbW92ZU1vZGVsLFxyXG4gICAgICAgIHRvSnNvbixcclxuICAgICAgICBoYXNDb2xvcixcclxuICAgICAgICBoYXNJbnRlcmlvcixcclxuICAgICAgICBoYXNGb3JjZWRDb2xvcixcclxuICAgICAgICBoYXNGb3JjZWRJbnRlcmlvcixcclxuICAgICAgICBjb25maWd1cmVkQ29sb3IsXHJcbiAgICAgICAgY29uZmlndXJlZEludGVyaW9yLFxyXG4gICAgICAgIGNvbG9ySGFzQ2hhbmdlZCxcclxuICAgICAgICBpbnRlcmlvckhhc0NoYW5nZWQsXHJcbiAgICAgICAgY2FuU2F2ZU9yZGVyLFxyXG4gICAgICAgIHNob3dPcmRlckNyZWF0aW9uLFxyXG4gICAgICAgIGNsZWFuU2VsZWN0aW9ucyxcclxuICAgICAgICBzZXRBdXRvZml4ZXMsXHJcbiAgICAgICAgdW5hYmxlVG9SZWJ1aWxkSXRlbXMsXHJcbiAgICAgICAgYWRkVW5hYmxlVG9SZWJ1aWxkSXRlbSxcclxuICAgICAgICByZW1vdmVVbmFibGVUb1JlYnVpbGRJdGVtLFxyXG4gICAgICAgIGlzTm90VGhlU2FtZU1vZGVsLFxyXG4gICAgICAgIGhhc0VxdWlwbWVudCxcclxuICAgICAgICBpc0VtcHR5XHJcbiAgICB9O1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gU2VsZWN0YWJsZUl0ZW0oY2F0YWxvZ0l0ZW0sIGlzVHlwZVBhY2thZ2UpIHtcclxuICAgIGxldCBzZWxlY3RlZCA9IGtvLm9ic2VydmFibGUoY2F0YWxvZ0l0ZW0uZXNtRXF1aXBtZW50KTtcclxuICAgIGxldCBmb3JjZWRJdGVtcyA9IGtvLm9ic2VydmFibGVBcnJheSgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnRhaW5zKHRleHQpIHtcclxuICAgICAgICBpZiAoIXRleHQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICByZXR1cm4gY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24udG9VcHBlckNhc2UoKS5pbmRleE9mKHRleHQudG9VcHBlckNhc2UoKSkgIT0gLTEgfHxcclxuICAgICAgICAgICAgY2F0YWxvZ0l0ZW0uY29kZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YodGV4dC50b1VwcGVyQ2FzZSgpKSAhPSAtMTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0luQ2F0YWxvZygpIHtcclxuICAgICAgICByZXR1cm4gY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24gIT0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0Q29tYmluYXRpb24oY29tYmluYXRpb24pIHtcclxuICAgICAgICBmb3JjZWRJdGVtcy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwoZm9yY2VkSXRlbXMsIGNvbWJpbmF0aW9uLml0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b0pzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgY29kZTogY2F0YWxvZ0l0ZW0uY29kZSxcclxuICAgICAgICAgICAgZGVzY3JpcHRpb246IGNhdGFsb2dJdGVtLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICBjb21iaW5hdGlvbjogY29tYmluYXRpb25zVG9Kc29uKCksXHJcbiAgICAgICAgICAgIGlzUGFja2FnZTogaXNQYWNrYWdlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21iaW5hdGlvbnNUb0pzb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIF8ubWFwKGZvcmNlZEl0ZW1zKCksIGZ1bmN0aW9uKHgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHsgY29kZTogeC5jb2RlLCB0eXBlOiB4LnR5cGUgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb250YWluc0ZvcmNlZEl0ZW0oY29kZSkge1xyXG4gICAgICAgIHJldHVybiBfLmFueShmb3JjZWRJdGVtcygpLCAoeCkgPT4geC5jb2RlID09IGNvZGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzUGFja2FnZSgpIHtcclxuICAgICAgICByZXR1cm4gaXNUeXBlUGFja2FnZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZiA9IHtcclxuICAgICAgICBjYXRlZ29yeTogY2F0YWxvZ0l0ZW0uY2F0ZWdvcnksXHJcbiAgICAgICAgZmFtaWx5OiBjYXRhbG9nSXRlbS5mYW1pbHksXHJcbiAgICAgICAgZGVzY3JpcHRpb246IGNhdGFsb2dJdGVtLmNvZGUgKyBcIiAtIFwiICsgY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgZGVzY3JpcHRpb25XaXRob3V0Q29kZTogY2F0YWxvZ0l0ZW0uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgc2VsZWN0ZWQsXHJcbiAgICAgICAgY29udGFpbnMsXHJcbiAgICAgICAgY29udGFpbnNGb3JjZWRJdGVtLFxyXG4gICAgICAgIGNvZGU6IGNhdGFsb2dJdGVtLmNvZGUsXHJcbiAgICAgICAgdHlwZTogY2F0YWxvZ0l0ZW0udHlwZSxcclxuICAgICAgICBpc0luQ2F0YWxvZyxcclxuICAgICAgICBoYXNGb3JjZWRDb21iaW5hdGlvbnM6IGNhdGFsb2dJdGVtLmhhc0ZvcmNlZENvbWJpbmF0aW9ucyxcclxuICAgICAgICBjb21wdWxzb3J5Q29tYmluYXRpb25zOiBjYXRhbG9nSXRlbS5jb21wdWxzb3J5Q29tYmluYXRpb25zLFxyXG4gICAgICAgIHRvSnNvbixcclxuICAgICAgICBzZXRDb21iaW5hdGlvbixcclxuICAgICAgICBpc1BhY2thZ2VcclxuICAgIH07XHJcbiAgICByZXR1cm4gc2VsZjtcclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBWZWhpY2xlU3VtbWFyeSgpIHtcclxuICAgIGNvbnN0IG1vZGVsID0ga28ub2JzZXJ2YWJsZSgpO1xyXG4gICAgY29uc3QgY29sb3IgPSBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICBjb25zdCBpbnRlcmlvciA9IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGNvbnN0IGVxdWlwbWVudCA9IGtvLm9ic2VydmFibGVBcnJheShbXSk7XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlKG5ld01vZGVsLCBuZXdDb2xvciwgbmV3SW50ZXJpb3IsIG5ld0VxdWlwbWVudCkge1xyXG4gICAgICAgIG1vZGVsKG5ld01vZGVsKTtcclxuICAgICAgICBjb2xvcihuZXdDb2xvcik7XHJcbiAgICAgICAgaW50ZXJpb3IobmV3SW50ZXJpb3IpO1xyXG4gICAgICAgIGVxdWlwbWVudC5yZW1vdmVBbGwoKTtcclxuICAgICAgICBrby51dGlscy5hcnJheVB1c2hBbGwoZXF1aXBtZW50LCBuZXdFcXVpcG1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzVmFsaWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZGVsKCkgJiYgY29sb3IoKSAmJiBpbnRlcmlvcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdXBkYXRlLFxyXG4gICAgICAgIGlzVmFsaWQsXHJcbiAgICAgICAgbW9kZWwsXHJcbiAgICAgICAgY29sb3IsXHJcbiAgICAgICAgaW50ZXJpb3IsXHJcbiAgICAgICAgZXF1aXBtZW50XHJcbiAgICB9O1xyXG59IiwiLyogZXNsaW50LWRpc2FibGUgKi8gLy8gQXV0b2dlbmVyYXRlZCB3aXRoIEd1bHAgKHRhc2s6IHBhcnNlLWNvbXBvbmVudHMtdGVtcGxhdGVzKVxuLy8gRG9udCBjaGFuZ2UgdGhpcyBmaWxlLCBjaGFuZ2UgdGhlIC5odG1sIGZpbGUgaW5zdGVhZCBhbmQgcnVuIEd1bHBcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFwiXFxuPGRpdiBjbGFzcz1cXFwiYm94IGJveC1kZWZhdWx0XFxcIj5cXG4gICAgPGRpdiBjbGFzcz1cXFwiYm94LWhlYWRlciB3aXRoLWJvcmRlclxcXCI+XFxuICAgICAgICA8aDMgY2xhc3M9XFxcImJveC10aXRsZVxcXCIgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBsYWJlbHMudGl0bGVcXFwiPjwvaDM+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVxcXCJib3gtYm9keVxcXCI+XFxuICAgICAgICA8dWwgY2xhc3M9XFxcIm5hdiBuYXYtdGFic1xcXCIgcm9sZT1cXFwidGFibGlzdFxcXCI+XFxuICAgICAgICAgICAgPGxpIHJvbGU9XFxcInByZXNlbnRhdGlvblxcXCIgY2xhc3M9XFxcImFjdGl2ZVxcXCI+XFxuICAgICAgICAgICAgICAgIDxhIGhyZWY9XFxcIiNhbGxcXFwiIGFyaWEtY29udHJvbHM9XFxcImFsbFxcXCIgcm9sZT1cXFwidGFiXFxcIiBkYXRhLXRvZ2dsZT1cXFwidGFiXFxcIiBkYXRhLWJpbmQ9XFxcInRleHQ6IGxhYmVscy5hbGxFcXVpcG1lbnRzXFxcIj48L2E+XFxuICAgICAgICAgICAgPC9saT5cXG4gICAgICAgICAgICA8bGkgcm9sZT1cXFwicHJlc2VudGF0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cXFwiI3NlYXJjaFxcXCIgYXJpYS1jb250cm9scz1cXFwic2VhcmNoXFxcIiByb2xlPVxcXCJ0YWJcXFwiIGRhdGEtdG9nZ2xlPVxcXCJ0YWJcXFwiIGRhdGEtYmluZD1cXFwidGV4dDogbGFiZWxzLnNlYXJjaEVxdWlwbWVudHNcXFwiPjwvYT5cXG4gICAgICAgICAgICA8L2xpPlxcbiAgICAgICAgPC91bD5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcInRhYi1jb250ZW50XFxcIj5cXG4gICAgICAgICAgICA8ZGl2IHJvbGU9XFxcInRhYnBhbmVsXFxcIiBjbGFzcz1cXFwidGFiLXBhbmUgYWN0aXZlXFxcIiBpZD1cXFwiYWxsXFxcIj5cXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiIGlkPVxcXCJhY2NvcmRpb25cXFwiIHJvbGU9XFxcInRhYmxpc3RcXFwiIGFyaWEtbXVsdGlzZWxlY3RhYmxlPVxcXCJ0cnVlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJmb3JlYWNoOiBjYXRlZ29yaWVzXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0XFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgcm9sZT1cXFwidGFiXFxcIiBpZD1cXFwiaGVhZGluZ09uZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC10aXRsZVxcXCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgZGF0YS1iaW5kPVxcXCJ0ZXh0OiBuYW1lLCBhdHRyOiB7aHJlZjogJyMnICsgaWR9XFxcIiByb2xlPVxcXCJidXR0b25cXFwiIGRhdGEtdG9nZ2xlPVxcXCJjb2xsYXBzZVxcXCIgZGF0YS1wYXJlbnQ9XFxcIiNhY2NvcmRpb25cXFwiIGFyaWEtZXhwYW5kZWQ9XFxcImZhbHNlXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJhdHRyOiB7aWQ6IGlkfVxcXCIgY2xhc3M9XFxcInBhbmVsLWNvbGxhcHNlIGNvbGxhcHNlXFxcIiByb2xlPVxcXCJ0YWJwYW5lbFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJoZWFkaW5nT25lXFxcIj5cXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiPlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgZGF0YS1iaW5kPVxcXCJ0ZW1wbGF0ZToge25hbWU6ICdlcXVpcG1lbnRfdGVtcGxhdGUnLCBkYXRhOiB7bGFiZWxzOiAkcGFyZW50LmxhYmVscywgZXF1aXBtZW50OiBlcXVpcG1lbnRzfX1cXFwiPjwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgIDxkaXYgcm9sZT1cXFwidGFicGFuZWxcXFwiIGNsYXNzPVxcXCJ0YWItcGFuZVxcXCIgaWQ9XFxcInNlYXJjaFxcXCI+XFxuICAgICAgICAgICAgICAgIDxpbnB1dCBzdHlsZT1cXFwicGFkZGluZzogMTBweFxcXCIgaWQ9XFxcInNlYXJjaFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCIgZGF0YS1iaW5kPVxcXCJ2YWx1ZTogdGV4dFRvU2VhcmNoLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlVXBkYXRlOiAnYWZ0ZXJrZXlkb3duJyxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudDogeyAna2V5dXAnOiBzZWFyY2ggfSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyOiB7IHBsYWNlaG9sZGVyOiBsYWJlbHMuc2VhcmNoRXF1aXBtZW50c31cXFwiIHR5cGU9XFxcInRleHRcXFwiIC8+XFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XFxcIm1hcmdpbjogMTBweFxcXCIgZGF0YS1iaW5kPVxcXCJ0ZW1wbGF0ZToge25hbWU6ICdlcXVpcG1lbnRfdGVtcGxhdGUnLCBkYXRhOiB7bGFiZWxzOiBsYWJlbHMsIGVxdWlwbWVudDogc2VhcmNoUmVzdWx0c319XFxcIj48L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gICAgPHNwaW5uZXIgcGFyYW1zPVxcXCJzaG93OiBsb2FkaW5nRmxhZ1xcXCI+PC9zcGlubmVyPlxcbjwvZGl2PlxcblxcbjwhLS0gdGVtcGxhdGVzIC0tPlxcbjxzY3JpcHQgdHlwZT1cXFwidGV4dC9odG1sXFxcIiBpZD1cXFwiZXF1aXBtZW50X3RlbXBsYXRlXFxcIj5cXG4gICAgPCEtLSBrbyBmb3JlYWNoOiBlcXVpcG1lbnQgLS0+XFxuICAgIDxkaXYgY2xhc3M9XFxcInNlbGVjdGFibGVib3hcXFwiIGRhdGEtYmluZD1cXFwiY2xpY2s6IHNlbGVjdE9yVW5zZWxlY3RcXFwiPlxcbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVxcXCJ2aXNpYmxlOiBpc1NlbGVjdGVkKClcXFwiPlxcbiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1jaGVja1xcXCI+PC9pPlxcbiAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgPCEtLSBrbyBpZjogZGVzY3JpcHRpb25XaXRob3V0Q29kZSAhPSAnJyAtLT5cXG4gICAgICAgIDxzcGFuIGRhdGEtYmluZD1cXFwidGV4dDogY29kZSArICcgLSAnICsgZGVzY3JpcHRpb25XaXRob3V0Q29kZSwgYXR0cjogeyd0aXRsZSc6IGRlc2NyaXB0aW9uV2l0aG91dENvZGV9XFxcIiBjbGFzcz1cXFwidHJ1bmNhdGVcXFwiIGRhdGEtdG9nZ2xlPVxcXCJ0b29sdGlwXFxcIj48L3NwYW4+XFxuICAgICAgICA8IS0tIC9rbyAtLT5cXG4gICAgICAgIDwhLS0ga28gaWY6IGRlc2NyaXB0aW9uV2l0aG91dENvZGUgPT09ICcnIC0tPlxcbiAgICAgICAgPHNwYW4gZGF0YS1iaW5kPVxcXCJ0ZXh0OiBjb2RlICsgJyAtICcgKyAkcGFyZW50LmxhYmVscy5ub3RBdmFpbGFibGVEZXNjcmlwdGlvblxcXCI+PC9zcGFuPlxcbiAgICAgICAgPCEtLSAva28gLS0+XFxuICAgIDwvZGl2PlxcbiAgICA8IS0tIC9rbyAtLT5cXG48L3NjcmlwdD5cIjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSkRPaTlRY205cVpXTjBjeTlUU1UxQk1pOU9SVlF2VTJGc1pYTXZRMjl1Wm1sbmRYSmhkRzl5TDBOdmJtWnBaM1Z5WVhSdmNpNVhaV0l2VTJOeWFYQjBjeTlpYVc0dmRHVnRjQzlxY3k5emNtTXZaRzl0WVdsdUwyVnhkV2x3YldWdWRITXRjMlZzWldOMGIzSXZaWEYxYVhCdFpXNTBjeTF6Wld4bFkzUnZjaTEwWlcxd2JHRjBaUzVxY3lJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYlhYMD0iLCJpbXBvcnQgdGVtcGxhdGUgZnJvbSAnLi9lcXVpcG1lbnRzLXNlbGVjdG9yLXRlbXBsYXRlJztcclxuaW1wb3J0IFNlbGVjdGFibGVFcXVpcG1lbnQgZnJvbSAnLi9zZWxlY3RhYmxlRXF1aXBtZW50JztcclxuXHJcbmFpZGFDb3JlLkNvbXBvbmVudFJlZ2lzdGVyKCdlcXVpcG1lbnRzLXNlbGVjdG9yJywge1xyXG4gICAgc2NyaXB0OiAocHJvcHMsIGRlcGVuZGVuY3lQcm92aWRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0b3IgPSBkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0VHJhbnNsYXRvcigpO1xyXG4gICAgICAgIGNvbnN0IGVxdWlwbWVudHMgPSBwcm9wcy5lcXVpcG1lbnRzO1xyXG4gICAgICAgIGNvbnN0IHdoZW5FcXVpcG1lbnRTZWxlY3RlZCA9IHByb3BzLndoZW5FcXVpcG1lbnRTZWxlY3RlZDtcclxuICAgICAgICBjb25zdCB3aGVuRXF1aXBtZW50VW5zZWxlY3RlZCA9IHByb3BzLndoZW5FcXVpcG1lbnRVbnNlbGVjdGVkO1xyXG4gICAgICAgIGNvbnN0IGxvYWRpbmdGbGFnID0gcHJvcHMubG9hZGluZ0ZsYWc7XHJcbiAgICAgICAgcmV0dXJuIEVxdWlwbWVudHNTZWxlY3RvclNjcmlwdCh7IGVxdWlwbWVudHMsIGxvYWRpbmdGbGFnLCB0cmFuc2xhdG9yLCB3aGVuRXF1aXBtZW50U2VsZWN0ZWQsIHdoZW5FcXVpcG1lbnRVbnNlbGVjdGVkIH0pO1xyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEVxdWlwbWVudHNTZWxlY3RvclNjcmlwdCh7IGVxdWlwbWVudHMsIGxvYWRpbmdGbGFnLCB0cmFuc2xhdG9yLCB3aGVuRXF1aXBtZW50U2VsZWN0ZWQsIHdoZW5FcXVpcG1lbnRVbnNlbGVjdGVkIH0pIHtcclxuICAgIGxldCBjYXRlZ29yaWVzID0ga28ub2JzZXJ2YWJsZUFycmF5KCk7XHJcbiAgICBsZXQgc2VhcmNoZXIgPSBFcXVpcG1lbnRzU2VhcmNoKCk7XHJcbiAgICBsZXQgYWxsRXF1aXBtZW50cyA9IFtdO1xyXG5cclxuICAgIGVxdWlwbWVudHMuc3Vic2NyaWJlKCgpID0+IHtcclxuICAgICAgICBzZXRFcXVpcG1lbnRzKGVxdWlwbWVudHMoKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRFcXVpcG1lbnRzKGVxdWlwbWVudHMpIHtcclxuICAgICAgICBsZXQgYWxsU2VsZWN0YWJsZUl0ZW1zID0ga28udXRpbHMudW53cmFwT2JzZXJ2YWJsZShlcXVpcG1lbnRzKTtcclxuICAgICAgICBsZXQgYWxsU2VsZWN0YWJsZUVxdWlwbWVudHMgPSBfLm1hcChhbGxTZWxlY3RhYmxlSXRlbXMsIChpdGVtKSA9PiBTZWxlY3RhYmxlRXF1aXBtZW50KGl0ZW0sIHdoZW5FcXVpcG1lbnRTZWxlY3RlZCwgd2hlbkVxdWlwbWVudFVuc2VsZWN0ZWQpKTtcclxuICAgICAgICBjbGVhbihhbGxTZWxlY3RhYmxlRXF1aXBtZW50cyk7XHJcbiAgICAgICAgZ3JvdXBFcXVpcG1lbnRzQnlDYXRlZ29yeShhbGxTZWxlY3RhYmxlRXF1aXBtZW50cyk7XHJcbiAgICAgICAgaW5pdFNlYXJjaCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNsZWFuKHNlbGVjdGFibGVFcXVpcG1lbnRzKSB7XHJcbiAgICAgICAgYWxsRXF1aXBtZW50cyA9IHNlbGVjdGFibGVFcXVpcG1lbnRzO1xyXG4gICAgICAgIGNhdGVnb3JpZXMucmVtb3ZlQWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ3JvdXBFcXVpcG1lbnRzQnlDYXRlZ29yeShlcXVpcG1lbnRzKSB7XHJcbiAgICAgICAgY29uc3QgY2F0ZWdvcml6ZWRFcXVpcG1lbnRzID0gY2F0ZWdvcml6ZUVxdWlwbWVudHMoZXF1aXBtZW50cyk7XHJcbiAgICAgICAgbGV0IGVxdWlwbWVudHNHcm91cGVkQnlDYXRlZ29yeSA9IF8uZ3JvdXBCeShjYXRlZ29yaXplZEVxdWlwbWVudHMsIFwiY2F0ZWdvcnlcIik7XHJcbiAgICAgICAgXy5lYWNoKGVxdWlwbWVudHNHcm91cGVkQnlDYXRlZ29yeSwgZnVuY3Rpb24gKGVxdWlwbWVudHMsIGNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgIGNhdGVnb3JpZXMucHVzaChFcXVpcG1lbnRDYXRlZ29yeShlcXVpcG1lbnRzLCBjYXRlZ29yeSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhdGVnb3JpemVFcXVpcG1lbnRzKGVxdWlwbWVudHMpIHtcclxuICAgICAgICBjb25zdCBjYXRlZ29yaXplZEVxdWlwbWVudHMgPSBfLmNsb25lRGVlcChlcXVpcG1lbnRzKTtcclxuICAgICAgICBfLmZvckVhY2goY2F0ZWdvcml6ZWRFcXVpcG1lbnRzLCBlID0+IHtcclxuICAgICAgICAgICAgaWYgKCFlLmNhdGVnb3J5KSB7XHJcbiAgICAgICAgICAgICAgICBlLmNhdGVnb3J5ID0gZS5mYW1pbHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY2F0ZWdvcml6ZWRFcXVpcG1lbnRzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRTZWFyY2goKSB7XHJcbiAgICAgICAgc2VhcmNoZXIuc2V0RXF1aXBtZW50cyhhbGxFcXVpcG1lbnRzKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bnNlbGVjdEFsbEVxdWlwbWVudHMoKSB7XHJcbiAgICAgICAgXy5lYWNoKGFsbEVxdWlwbWVudHMsICh4KSA9PiB4LnVuc2VsZWN0KCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0aXRsZTogdHJhbnNsYXRvci50cmFuc2xhdGUoXCJTaGFyZWREb21haW4uRXF1aXBtZW50c1wiKSxcclxuICAgICAgICAgICAgYWxsRXF1aXBtZW50czogdHJhbnNsYXRvci50cmFuc2xhdGUoXCJTaGFyZWREb21haW4uQWxsSXRlbXNcIiksXHJcbiAgICAgICAgICAgIHNlYXJjaEVxdWlwbWVudHM6IHRyYW5zbGF0b3IudHJhbnNsYXRlKFwiU2hhcmVkRG9tYWluLlNlYXJjaEJ1dHRvbi5UZXh0XCIpLFxyXG4gICAgICAgICAgICBub3RBdmFpbGFibGVEZXNjcmlwdGlvbjogdHJhbnNsYXRvci50cmFuc2xhdGUoXCJDb25maWd1cmF0b3IuTm90QXZhaWxhYmxlRGVzY3JpcHRpb25cIilcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbGFiZWxzOiBnZXRMYWJlbHMoKSxcclxuICAgICAgICBjYXRlZ29yaWVzLFxyXG4gICAgICAgIGxvYWRpbmdGbGFnLFxyXG4gICAgICAgIHRleHRUb1NlYXJjaDogc2VhcmNoZXIudGV4dFRvU2VhcmNoLFxyXG4gICAgICAgIHNlYXJjaFJlc3VsdHM6IHNlYXJjaGVyLnJlc3VsdHMsXHJcbiAgICAgICAgc2VhcmNoOiBzZWFyY2hlci5zZWFyY2gsXHJcbiAgICAgICAgdW5zZWxlY3RBbGxFcXVpcG1lbnRzOiB1bnNlbGVjdEFsbEVxdWlwbWVudHNcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVxdWlwbWVudENhdGVnb3J5KGVxdWlwbWVudHMsIG5hbWUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBpZDogXy51bmlxdWVJZCgnY2F0ZWdvcnlfJyksXHJcbiAgICAgICAgZXF1aXBtZW50c1xyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gRXF1aXBtZW50c1NlYXJjaCgpIHtcclxuICAgIGxldCB0ZXh0VG9TZWFyY2ggPSBrby5vYnNlcnZhYmxlKCcnKTtcclxuICAgIGxldCByZXN1bHRzID0ga28ub2JzZXJ2YWJsZUFycmF5KFtdKTtcclxuICAgIGxldCBlbGVtZW50cyA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldEVxdWlwbWVudHMoZXF1aXBtZW50cykge1xyXG4gICAgICAgIHJlc3VsdHMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgZWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICBfLmVhY2goZXF1aXBtZW50cywgZnVuY3Rpb24gKGVxdWlwbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50cy5wdXNoKGVxdWlwbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgc2VhcmNoKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VhcmNoKCkge1xyXG4gICAgICAgIHJlc3VsdHMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkUmVzdWx0cyA9IF8uZmlsdGVyKGVsZW1lbnRzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5jb250YWlucyh0ZXh0VG9TZWFyY2goKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKHJlc3VsdHMsIGZpbHRlcmVkUmVzdWx0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN1bHRzLFxyXG4gICAgICAgIHRleHRUb1NlYXJjaCxcclxuICAgICAgICBzZWFyY2gsXHJcbiAgICAgICAgc2V0RXF1aXBtZW50c1xyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFNlbGVjdGFibGVFcXVpcG1lbnQoc2VsZWN0YWJsZUl0ZW0sIHdoZW5TZWxlY3RlZCwgd2hlblVuc2VsZWN0ZWQpIHtcclxuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBzZWxlY3RhYmxlSXRlbS5zZWxlY3RlZDtcclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RPclVuc2VsZWN0KCkge1xyXG4gICAgICAgIGlmIChpc1NlbGVjdGVkKCkpIHtcclxuICAgICAgICAgICAgd2hlblVuc2VsZWN0ZWQoc2VsZik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hlblNlbGVjdGVkKHNlbGYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1bnNlbGVjdCgpIHtcclxuICAgICAgICBpc1NlbGVjdGVkKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgc2VsZiA9IHtcclxuICAgICAgICBpc1NlbGVjdGVkLFxyXG4gICAgICAgIHNlbGVjdE9yVW5zZWxlY3QsXHJcbiAgICAgICAgdW5zZWxlY3QsXHJcbiAgICAgICAgY29kZTogc2VsZWN0YWJsZUl0ZW0uY29kZSxcclxuICAgICAgICBkZXNjcmlwdGlvbldpdGhvdXRDb2RlOiBzZWxlY3RhYmxlSXRlbS5kZXNjcmlwdGlvbldpdGhvdXRDb2RlLFxyXG4gICAgICAgIGNhdGVnb3J5OiBzZWxlY3RhYmxlSXRlbS5jYXRlZ29yeSxcclxuICAgICAgICBjb250YWluczogc2VsZWN0YWJsZUl0ZW0uY29udGFpbnMsXHJcbiAgICAgICAgaXNQYWNrYWdlOiBzZWxlY3RhYmxlSXRlbS5pc1BhY2thZ2UsXHJcbiAgICAgICAgZmFtaWx5OiBzZWxlY3RhYmxlSXRlbS5mYW1pbHlcclxuICAgIH07XHJcbiAgICByZXR1cm4gc2VsZjtcclxufSIsIi8qIGVzbGludC1kaXNhYmxlICovIC8vIEF1dG9nZW5lcmF0ZWQgd2l0aCBHdWxwICh0YXNrOiBwYXJzZS1jb21wb25lbnRzLXRlbXBsYXRlcylcbi8vIERvbnQgY2hhbmdlIHRoaXMgZmlsZSwgY2hhbmdlIHRoZSAuaHRtbCBmaWxlIGluc3RlYWQgYW5kIHJ1biBHdWxwXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzW1wiZGVmYXVsdFwiXSA9IFwiXFxuPHNlYXJjaC1zZWxlY3QgcGFyYW1zPVxcXCJsYWJlbDogbGFiZWxzLmxhYmVsLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbGFiZWxzLnBsYWNlaG9sZGVyLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDogc2VsZWN0ZWQsXFxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlblNlbGVjdGVkOiB3aGVuSW50ZXJpb3JTZWxlY3RlZFxcXCI+XFxuPC9zZWFyY2gtc2VsZWN0PlwiO1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzW1wiZGVmYXVsdFwiXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYlhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWlJc0ltWnBiR1VpT2lKRE9pOVFjbTlxWldOMGN5OVRTVTFCTWk5T1JWUXZVMkZzWlhNdlEyOXVabWxuZFhKaGRHOXlMME52Ym1acFozVnlZWFJ2Y2k1WFpXSXZVMk55YVhCMGN5OWlhVzR2ZEdWdGNDOXFjeTl6Y21NdlpHOXRZV2x1TDJsdWRHVnlhVzl5TFhObGJHVmpkRzl5TDJsdWRHVnlhVzl5TFhObGJHVmpkRzl5TFhSbGJYQnNZWFJsTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sdGRmUT09IiwiaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vaW50ZXJpb3Itc2VsZWN0b3ItdGVtcGxhdGUnO1xyXG5cclxuYWlkYUNvcmUuQ29tcG9uZW50UmVnaXN0ZXIoJ2ludGVyaW9yLXNlbGVjdG9yJywge1xyXG4gICAgc2NyaXB0OiAocHJvcHMsIGRlcGVuZGVuY3lQcm92aWRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zbGF0b3IgPSBkZXBlbmRlbmN5UHJvdmlkZXIuZ2V0VHJhbnNsYXRvcigpO1xyXG4gICAgICAgIGNvbnN0IGVuYWJsZUV2ZW50cyA9IHByb3BzLmVuYWJsZUV2ZW50cyB8fCBrby5vYnNlcnZhYmxlKHRydWUpO1xyXG4gICAgICAgIGNvbnN0IHdoZW5JbnRlcmlvclNlbGVjdGVkID0gcHJvcHMud2hlbkludGVyaW9yU2VsZWN0ZWQgfHwgKCgpID0+IHt9KTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0TGFiZWxzKCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uVmVoaWNsZS5JbnRlcmlvcicpLFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uU2VsZWN0VmFsdWUnKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgbGFiZWxzOiBnZXRMYWJlbHMoKSxcclxuICAgICAgICAgICAgb3B0aW9uczogcHJvcHMub3B0aW9ucyxcclxuICAgICAgICAgICAgc2VsZWN0ZWQ6IHByb3BzLnNlbGVjdGVkLFxyXG4gICAgICAgICAgICBlbmFibGVFdmVudHMsXHJcbiAgICAgICAgICAgIHdoZW5JbnRlcmlvclNlbGVjdGVkXHJcbiAgICAgICAgfTtcclxuICAgIH0sXHJcbiAgICB0ZW1wbGF0ZTogdGVtcGxhdGVcclxufSk7IiwiLyogZXNsaW50LWRpc2FibGUgKi8gLy8gQXV0b2dlbmVyYXRlZCB3aXRoIEd1bHAgKHRhc2s6IHBhcnNlLWNvbXBvbmVudHMtdGVtcGxhdGVzKVxuLy8gRG9udCBjaGFuZ2UgdGhpcyBmaWxlLCBjaGFuZ2UgdGhlIC5odG1sIGZpbGUgaW5zdGVhZCBhbmQgcnVuIEd1bHBcblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHNbXCJkZWZhdWx0XCJdID0gXCJcXG48IS0tIGtvIGZvcmVhY2g6IGNhdGVnb3JpZXMgLS0+XFxuPHNlYXJjaC1zZWxlY3QgcGFyYW1zPVxcXCJsYWJlbDogJHBhcmVudC5sYWJlbHMubW9kZWxHcm91cExhYmVsLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAkcGFyZW50LmxhYmVscy5wbGFjZWhvbGRlcixcXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBlbmFibGVkLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBzZWxlY3RlZCxcXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGVuU2VsZWN0ZWQ6IHdoZW5GaWx0ZXJTZWxlY3RlZFxcXCI+XFxuPC9zZWFyY2gtc2VsZWN0PlxcbjwhLS0gL2tvIC0tPlxcbjxzZWFyY2gtc2VsZWN0IHBhcmFtcz1cXFwibGFiZWw6IGxhYmVscy5tb2RlbExhYmVsLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBsYWJlbHMucGxhY2Vob2xkZXIsXFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uc1RleHQ6IG1vZGVsRGVzY3JpcHRpb24sXFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbW9kZWxzLCBcXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBtb2RlbEVuYWJsZWQsIFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiBtb2RlbFNlbGVjdGVkLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW5TZWxlY3RlZDogb25Nb2RlbFNlbGVjdGVkXFxcIj5cXG48L3NlYXJjaC1zZWxlY3Q+XFxuPHNwaW5uZXIgcGFyYW1zPVxcXCJzaG93OiBsb2FkaW5nTW9kZWxzXFxcIj48L3NwaW5uZXI+XCI7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHNbXCJkZWZhdWx0XCJdO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUlzSW1acGJHVWlPaUpET2k5UWNtOXFaV04wY3k5VFNVMUJNaTlPUlZRdlUyRnNaWE12UTI5dVptbG5kWEpoZEc5eUwwTnZibVpwWjNWeVlYUnZjaTVYWldJdlUyTnlhWEIwY3k5aWFXNHZkR1Z0Y0M5cWN5OXpjbU12Wkc5dFlXbHVMMjF2WkdWc0xYTmxiR1ZqZEc5eUwyMXZaR1ZzTFhObGJHVmpkRzl5TFhSbGJYQnNZWFJsTG1weklpd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sdGRmUT09IiwiaW1wb3J0IHRlbXBsYXRlIGZyb20gJy4vbW9kZWwtc2VsZWN0b3ItdGVtcGxhdGUnO1xyXG5pbXBvcnQgQ29uZmlndXJhdGlvbkZpbHRlciBmcm9tIFwiLi9zY3JpcHRzL2NvbmZpZ3VyYXRpb25GaWx0ZXJcIjtcclxuaW1wb3J0IENhdGVnb3JpZXNTZWxlY3RvciBmcm9tICcuL3NjcmlwdHMvY2F0ZWdvcmllc1NlbGVjdG9yJztcclxuaW1wb3J0IENhdGFsb2dDbGllbnQgZnJvbSAnLi4vLi4vaW5mcmFzdHJ1Y3R1cmUvY2xpZW50cy9jYXRhbG9nQ2xpZW50JztcclxuaW1wb3J0IE1vZGVsc0NhdGFsb2cgZnJvbSBcIi4vc2NyaXB0cy9tb2RlbHNDYXRhbG9nXCI7XHJcblxyXG5haWRhQ29yZS5Db21wb25lbnRSZWdpc3RlcignbW9kZWwtc2VsZWN0b3InLCB7XHJcbiAgICBzY3JpcHQ6IHtcclxuICAgICAgICBjcmVhdGU6IChwcm9wcywgZGVwZW5kZW5jeVByb3ZpZGVyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkQnJhbmQgPSBwcm9wcy5zZWxlY3RlZEJyYW5kO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RlZE1vZGVsID0gcHJvcHMuc2VsZWN0ZWRNb2RlbCB8fCBrby5vYnNlcnZhYmxlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHdoZW5Nb2RlbFNlbGVjdGVkID0gcHJvcHMud2hlbk1vZGVsU2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHdoZW5Nb2RlbFVuc2VsZWN0ZWQgPSBwcm9wcy53aGVuTW9kZWxVbnNlbGVjdGVkO1xyXG4gICAgICAgICAgICBjb25zdCB3aGVuTW9kZWxDYXRlZ29yeVNlbGVjdGVkID0gcHJvcHMud2hlbk1vZGVsQ2F0ZWdvcnlTZWxlY3RlZDtcclxuICAgICAgICAgICAgY29uc3Qgd2hlbk1vZGVsQ2F0ZWdvcnlVbnNlbGVjdGVkID0gcHJvcHMud2hlbk1vZGVsQ2F0ZWdvcnlVbnNlbGVjdGVkO1xyXG4gICAgICAgICAgICBjb25zdCBsb2FkZWRNb2RlbCA9IHByb3BzLmxvYWRlZE1vZGVsO1xyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2xhdG9yID0gZGVwZW5kZW5jeVByb3ZpZGVyLmdldFRyYW5zbGF0b3IoKTtcclxuICAgICAgICAgICAgY29uc3QgY2F0YWxvZ0NsaWVudCA9IENhdGFsb2dDbGllbnQoZGVwZW5kZW5jeVByb3ZpZGVyLmdldFJlc3RDbGllbnQoKSwge30sIHt9KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgTW9kZWxTZWxlY3RvcihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEJyYW5kLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTW9kZWwsXHJcbiAgICAgICAgICAgICAgICAgICAgd2hlbk1vZGVsU2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2hlbk1vZGVsVW5zZWxlY3RlZCxcclxuICAgICAgICAgICAgICAgICAgICB3aGVuTW9kZWxDYXRlZ29yeVNlbGVjdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIHdoZW5Nb2RlbENhdGVnb3J5VW5zZWxlY3RlZCxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkZWRNb2RlbFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGFsb2dDbGllbnRcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uQ3JlYXRlZDogKHNjcmlwdCkgPT4gc2NyaXB0LmluaXRpYWxpemUoKVxyXG4gICAgfSxcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxyXG59KTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE1vZGVsU2VsZWN0b3IoeyBzZWxlY3RlZEJyYW5kLCBzZWxlY3RlZE1vZGVsLCB3aGVuTW9kZWxTZWxlY3RlZCwgd2hlbk1vZGVsVW5zZWxlY3RlZCwgd2hlbk1vZGVsQ2F0ZWdvcnlTZWxlY3RlZCwgd2hlbk1vZGVsQ2F0ZWdvcnlVbnNlbGVjdGVkLCBsb2FkZWRNb2RlbCB9LCB7IHRyYW5zbGF0b3IsIGNhdGFsb2dDbGllbnQgfSkge1xyXG4gICAgbGV0IG1vZGVsRmlsdGVyID0gQ29uZmlndXJhdGlvbkZpbHRlcihcIk1vZGVsXCIsIFtdLCB3aGVuTW9kZWxGaWx0ZXJDaGFuZ2VkLCBzZWxlY3RlZE1vZGVsKTtcclxuICAgIGxldCBjYXRlZ29yaWVzU2VsZWN0b3IgPSBDYXRlZ29yaWVzU2VsZWN0b3Iob25GaW5pc2hGaWx0ZXJpbmcsIG9uUmVzZXRBbnlDYXRlZ29yeUZpbHRlcik7XHJcbiAgICBsZXQgbG9hZGluZyA9IGtvLm9ic2VydmFibGUoZmFsc2UpO1xyXG4gICAgbGV0IGNhdGFsb2c7XHJcblxyXG4gICAgc2VsZWN0ZWRCcmFuZC5zdWJzY3JpYmUoKCkgPT4ge1xyXG4gICAgICAgIGdldE1vZGVscygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbG9hZGVkTW9kZWwuc3Vic2NyaWJlKHNlbGVjdE1vZGVsKTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RNb2RlbChtb2RlbFRvU2VsZWN0KSB7XHJcbiAgICAgICAgbGV0IG1vZGVsID0gY2F0YWxvZy5nZXRNb2RlbChtb2RlbFRvU2VsZWN0LmlkKTtcclxuICAgICAgICBjYXRlZ29yaWVzU2VsZWN0b3Iuc2VsZWN0Q2F0ZWdvcmllc0Zvck1vZGVsKG1vZGVsKTtcclxuICAgICAgICBtb2RlbEZpbHRlci5zZWxlY3QobW9kZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoKSB7XHJcbiAgICAgICAgZ2V0TW9kZWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TW9kZWxzKCkge1xyXG4gICAgICAgIGlmICghc2VsZWN0ZWRCcmFuZCgpKSByZXR1cm47XHJcbiAgICAgICAgbG9hZGluZyh0cnVlKTtcclxuICAgICAgICBjYXRhbG9nQ2xpZW50LmdldE1vZGVscyhzZWxlY3RlZEJyYW5kKCkuaWQsIHdoZW5Nb2RlbHNSZWNlaXZlZCwgb25Nb2RlbHNFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbk1vZGVsc1JlY2VpdmVkKG1vZGVscykge1xyXG4gICAgICAgIGxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGlmIChfKG1vZGVscykuaXNFbXB0eSgpKSByZXR1cm47XHJcbiAgICAgICAgbGV0IGNhdGFsb2dNb2RlbHMgPSBfLmNsb25lRGVlcChtb2RlbHMpO1xyXG4gICAgICAgIGNhdGFsb2cgPSBNb2RlbHNDYXRhbG9nKGNhdGFsb2dNb2RlbHMpO1xyXG4gICAgICAgIG1vZGVsRmlsdGVyLnJlc2V0T3B0aW9ucygpO1xyXG4gICAgICAgIGNhdGVnb3JpZXNTZWxlY3Rvci5pbml0aWFsaXplQ2F0ZWdvcmllcyhjYXRhbG9nKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbk1vZGVsc0Vycm9yKCkge1xyXG4gICAgICAgIGxvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIGNhdGVnb3JpZXNTZWxlY3Rvci5maWx0ZXJzQWxyZWFkeU5vdENyZWF0ZWQoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5Nb2RlbEZpbHRlckNoYW5nZWQobmFtZSwgc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIGlmICghXy5pc1VuZGVmaW5lZChzZWxlY3RlZFZhbHVlKSkge1xyXG4gICAgICAgICAgICB3aGVuTW9kZWxTZWxlY3RlZChzZWxlY3RlZFZhbHVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aGVuTW9kZWxVbnNlbGVjdGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9uRmluaXNoRmlsdGVyaW5nKHNlbGVjdGVkVmFsdWVJZCwgZmlsdGVyZWRPcHRpb25zKSB7XHJcbiAgICAgICAgbW9kZWxGaWx0ZXIuc2V0TmV3T3B0aW9ucyhmaWx0ZXJlZE9wdGlvbnMpO1xyXG4gICAgICAgIHdoZW5Nb2RlbENhdGVnb3J5U2VsZWN0ZWQoc2VsZWN0ZWRWYWx1ZUlkLCBtb2RlbEZpbHRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25SZXNldEFueUNhdGVnb3J5RmlsdGVyKCkge1xyXG4gICAgICAgIG1vZGVsRmlsdGVyLnJlc2V0T3B0aW9ucygpO1xyXG4gICAgICAgIHdoZW5Nb2RlbENhdGVnb3J5VW5zZWxlY3RlZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldExhYmVscygpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBtb2RlbEdyb3VwTGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uVmVoaWNsZS5Nb2RlbEdyb3VwJyksXHJcbiAgICAgICAgICAgIG1vZGVsTGFiZWw6IHRyYW5zbGF0b3IudHJhbnNsYXRlKCdTaGFyZWREb21haW4uVmVoaWNsZS5Nb2RlbCcpLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogdHJhbnNsYXRvci50cmFuc2xhdGUoJ1NoYXJlZERvbWFpbi5TZWxlY3RWYWx1ZScpXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRNb2RlbERlc2NyaXB0aW9uKG1vZGVsKSB7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBtb2RlbC5rZXkuY29kZSArICcgLSAnICsgbW9kZWwuZGVzY3JpcHRpb247XHJcbiAgICAgICAgaWYobW9kZWwuaXNBVmVyc2lvbikgcmV0dXJuIGRlc2NyaXB0aW9uICsgJyAoQiknO1xyXG4gICAgICAgIHJldHVybiBkZXNjcmlwdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRpYWxpemUsXHJcbiAgICAgICAgZ2V0TW9kZWxzLFxyXG4gICAgICAgIGxhYmVsczogZ2V0TGFiZWxzKCksXHJcbiAgICAgICAgY2F0ZWdvcmllczogY2F0ZWdvcmllc1NlbGVjdG9yLmZpbHRlcnMsXHJcbiAgICAgICAgbW9kZWxzOiBtb2RlbEZpbHRlci5vcHRpb25zLFxyXG4gICAgICAgIG1vZGVsRW5hYmxlZDogbW9kZWxGaWx0ZXIuZW5hYmxlZCxcclxuICAgICAgICBtb2RlbFNlbGVjdGVkOiBtb2RlbEZpbHRlci5zZWxlY3RlZCxcclxuICAgICAgICBvbk1vZGVsU2VsZWN0ZWQ6IG1vZGVsRmlsdGVyLndoZW5GaWx0ZXJTZWxlY3RlZCxcclxuICAgICAgICB3aGVuTW9kZWxTZWxlY3RlZCxcclxuICAgICAgICBsb2FkaW5nTW9kZWxzOiBsb2FkaW5nLFxyXG4gICAgICAgIG1vZGVsRGVzY3JpcHRpb246IGdldE1vZGVsRGVzY3JpcHRpb25cclxuICAgIH07XHJcbn0iLCJpbXBvcnQgQ29uZmlndXJhdGlvbkZpbHRlciBmcm9tIFwiLi9jb25maWd1cmF0aW9uRmlsdGVyXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYXRlZ29yaWVzU2VsZWN0b3Iod2hlbkZpbmlzaEZpbHRlcmluZywgd2hlblJlc2V0QW55RmlsdGVyKSB7XHJcbiAgICBsZXQgRklMVEVSX05PVF9GT1VORCA9IC0xO1xyXG4gICAgbGV0IGZpbHRlcnNBbHJlYWR5Tm90Q3JlYXRlZCA9IGtvLm9ic2VydmFibGUodHJ1ZSk7XHJcbiAgICBsZXQgY2F0YWxvZztcclxuICAgIGxldCBjYXRlZ29yeUZpbHRlcnMgPSBrby5vYnNlcnZhYmxlQXJyYXkoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplQ2F0ZWdvcmllcyhpbml0aWFsQ2F0YWxvZykge1xyXG4gICAgICAgIGNhdGFsb2cgPSBpbml0aWFsQ2F0YWxvZztcclxuICAgICAgICBjcmVhdGVGaWx0ZXJzKCk7XHJcbiAgICAgICAgZmlsdGVyc0FscmVhZHlOb3RDcmVhdGVkKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVGaWx0ZXJzKCkge1xyXG4gICAgICAgIGNhdGVnb3J5RmlsdGVycy5yZW1vdmVBbGwoKTtcclxuICAgICAgICBsZXQgY2F0ZWdvcmllcyA9IGNhdGFsb2cuZ2V0TmFtZXNPZkNhdGVnb3JpZXMoKTtcclxuXHJcbiAgICAgICAgXy5mb3JFYWNoKGNhdGVnb3JpZXMsIGZ1bmN0aW9uIChjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBjYXRlZ29yeUZpbHRlcnMucHVzaChDb25maWd1cmF0aW9uRmlsdGVyKGNhdGVnb3J5LCBbXSwgd2hlbkZpbHRlckNoYW5nZVZhbHVlKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxvYWRWYWx1ZXNGb3JGaXJzdGZpbHRlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGxvYWRWYWx1ZXNGb3JGaXJzdGZpbHRlcigpIHtcclxuICAgICAgICBsZXQgZmlyc3RGaWx0ZXIgPSBjYXRlZ29yeUZpbHRlcnMoKVswXTtcclxuICAgICAgICBsZXQgb3B0aW9ucyA9IGNhdGFsb2cudmFsdWVzRm9yQ2F0ZWdvcnkoZmlyc3RGaWx0ZXIubmFtZSk7XHJcbiAgICAgICAgZmlyc3RGaWx0ZXIuc2V0TmV3T3B0aW9ucyhvcHRpb25zKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB3aGVuRmlsdGVyQ2hhbmdlVmFsdWUoZmlsdGVyTmFtZSwgc2VsZWN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIGlmIChfLmlzVW5kZWZpbmVkKHNlbGVjdGVkVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGNsZWFyTmV4dEZpbHRlcnMoZmlsdGVyTmFtZSk7XHJcbiAgICAgICAgICAgIHdoZW5SZXNldEFueUZpbHRlcigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldE9wdGlvbnNGb3JOZXh0RmlsdGVyKGZpbHRlck5hbWUsIHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXRPcHRpb25zRm9yTmV4dEZpbHRlcihmaWx0ZXJOYW1lLCBzZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgbGV0IGZpbHRlcmVkT3B0aW9ucztcclxuICAgICAgICBpZiAoaXNMYXN0RmlsdGVyKGZpbHRlck5hbWUpKSB7XHJcbiAgICAgICAgICAgIGZpbHRlcmVkT3B0aW9ucyA9IGNhdGFsb2cuZ2V0TW9kZWxzKGZpbHRlck5hbWUsIHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgICAgICB3aGVuRmluaXNoRmlsdGVyaW5nKHNlbGVjdGVkVmFsdWUuaWQsIGZpbHRlcmVkT3B0aW9ucyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IG5leHRGaWx0ZXIgPSBmaW5kTmV4dEZpbHRlcihmaWx0ZXJOYW1lKTtcclxuICAgICAgICAgICAgZmlsdGVyZWRPcHRpb25zID0gY2F0YWxvZy52YWx1ZXNGb3JDYXRlZ29yeShuZXh0RmlsdGVyLm5hbWUsIHNlbGVjdGVkVmFsdWUpO1xyXG4gICAgICAgICAgICBjbGVhck5leHRGaWx0ZXJzKG5leHRGaWx0ZXIubmFtZSk7XHJcbiAgICAgICAgICAgIHdoZW5SZXNldEFueUZpbHRlcigpO1xyXG4gICAgICAgICAgICBuZXh0RmlsdGVyLnNldE5ld09wdGlvbnMoZmlsdGVyZWRPcHRpb25zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2xlYXJOZXh0RmlsdGVycyhmaWx0ZXJOYW1lKSB7XHJcbiAgICAgICAgbGV0IGZpbHRlckluZGV4ID0gaW5kZXhPZkZpbHRlcihmaWx0ZXJOYW1lKTtcclxuICAgICAgICBpZiAoZmlsdGVySW5kZXggPT0gRklMVEVSX05PVF9GT1VORCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gZmlsdGVySW5kZXggKyAxOyBpIDwgY2F0ZWdvcnlGaWx0ZXJzKCkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY2F0ZWdvcnlGaWx0ZXJzKClbaV0uc2V0TmV3T3B0aW9ucyhbXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluZGV4T2ZGaWx0ZXIoZmlsdGVyTmFtZSkge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2F0ZWdvcnlGaWx0ZXJzKCkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGNhdGVnb3J5RmlsdGVycygpW2ldLm5hbWUgPT09IGZpbHRlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBGSUxURVJfTk9UX0ZPVU5EO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmROZXh0RmlsdGVyKGZpbHRlck5hbWUpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhdGVnb3J5RmlsdGVycygpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeUZpbHRlcnMoKVtpXS5uYW1lID09PSBmaWx0ZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSArIDEgPT09IGNhdGVnb3J5RmlsdGVycygpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2F0ZWdvcnlGaWx0ZXJzKClbaSArIDFdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzTGFzdEZpbHRlcihmaWx0ZXJOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIF8uZmluZExhc3RJbmRleChjYXRlZ29yeUZpbHRlcnMoKSwgKGZpbHRlcikgPT4gZmlsdGVyLm5hbWUgPT0gZmlsdGVyTmFtZSkgPT09IChjYXRlZ29yeUZpbHRlcnMoKS5sZW5ndGggLSAxKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3RDYXRlZ29yaWVzRm9yTW9kZWwobW9kZWwpIHtcclxuICAgICAgICBfLmZvckVhY2goY2F0ZWdvcnlGaWx0ZXJzKCksIChjYXRlZ29yeUZpbHRlcikgPT4ge1xyXG4gICAgICAgICAgICBjYXRlZ29yeUZpbHRlci5zZWxlY3QobW9kZWwuY2F0ZWdvcmllc1tjYXRlZ29yeUZpbHRlci5uYW1lXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBmaWx0ZXJzOiBjYXRlZ29yeUZpbHRlcnMsXHJcbiAgICAgICAgZmlsdGVyc0FscmVhZHlOb3RDcmVhdGVkLFxyXG4gICAgICAgIGluaXRpYWxpemVDYXRlZ29yaWVzLFxyXG4gICAgICAgIHNlbGVjdENhdGVnb3JpZXNGb3JNb2RlbFxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbmZpZ3VyYXRpb25GaWx0ZXIobmFtZSwgaW5pdGlhbE9wdGlvbnMsIHdoZW5GaWx0ZXJDaGFuZ2UsIHNlbGVjdGVkTW9kZWwpIHtcclxuXHJcbiAgICBsZXQgc2VsZWN0ZWQgPSBzZWxlY3RlZE1vZGVsIHx8IGtvLm9ic2VydmFibGUoKTtcclxuICAgIGxldCBvcHRpb25zID0ga28ub2JzZXJ2YWJsZUFycmF5KGluaXRpYWxPcHRpb25zKTtcclxuICAgIGNvbnN0IGVuYWJsZWQgPSBrby5jb21wdXRlZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMoKS5sZW5ndGggIT0gMDtcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIHdoZW5GaWx0ZXJTZWxlY3RlZChzZWxlY3RlZFZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBfLmlzT2JqZWN0KHNlbGVjdGVkVmFsdWUpID8gc2VsZWN0ZWRWYWx1ZS5kZXNjcmlwdGlvbiAgOiBudWxsO1xyXG4gICAgICAgIHNlbGVjdFZhbHVlKGRlc2NyaXB0aW9uKTtcclxuICAgICAgICB3aGVuRmlsdGVyQ2hhbmdlKG5hbWUsIHNlbGVjdGVkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgbGV0IHNlbGVjdGVkT3B0aW9uID0gXy5maW5kKG9wdGlvbnMoKSwgZnVuY3Rpb24gKG9wdGlvbikge1xyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9uLmRlc2NyaXB0aW9uID09IHZhbHVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHNlbGVjdGVkKHNlbGVjdGVkT3B0aW9uKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZWxlY3QodmFsdWUpIHtcclxuICAgICAgICBjb25zdCBzZWxlY3RlZE9wdGlvbiA9IF8uZmluZChvcHRpb25zKCksIGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIF8uaXNFcXVhbChvcHRpb24sIHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBzZWxlY3RlZChzZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgd2hlbkZpbHRlclNlbGVjdGVkKHNlbGVjdGVkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNldE5ld09wdGlvbnMobmV3T3B0aW9ucykge1xyXG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAga28udXRpbHMuYXJyYXlQdXNoQWxsKG9wdGlvbnMsIG5ld09wdGlvbnMpO1xyXG4gICAgICAgIHNlbGVjdGVkKHVuZGVmaW5lZCk7XHJcbiAgICAgICAgd2hlbkZpbHRlclNlbGVjdGVkKHNlbGVjdGVkKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0T3B0aW9ucygpIHtcclxuICAgICAgICBzZXROZXdPcHRpb25zKFtdKTtcclxuICAgICAgICBzZWxlY3QodW5kZWZpbmVkKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgb3B0aW9ucyxcclxuICAgICAgICBzZWxlY3RlZCxcclxuICAgICAgICBlbmFibGVkLFxyXG4gICAgICAgIHNldE5ld09wdGlvbnMsXHJcbiAgICAgICAgcmVzZXRPcHRpb25zLFxyXG4gICAgICAgIHdoZW5GaWx0ZXJTZWxlY3RlZCxcclxuICAgICAgICBzZWxlY3RcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBNb2RlbHNDYXRhbG9nKGNhdGFsb2dNb2RlbHMpIHtcclxuXHJcbiAgICBhZGRIaWVyYXJjaGljYWxJZHNUb01vZGVscygpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFkZEhpZXJhcmNoaWNhbElkc1RvTW9kZWxzKCkge1xyXG4gICAgICAgIHJldHVybiBfLm1hcChjYXRhbG9nTW9kZWxzLCBhZGRIaWVyYXJjaGljYWxJZHNUb09uZU1vZGVsKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRIaWVyYXJjaGljYWxJZHNUb09uZU1vZGVsKG1vZGVsKSB7XHJcbiAgICAgICAgbGV0IHBhcmVudElkID0gXCJcIjtcclxuICAgICAgICBfLmZvck93bihtb2RlbC5jYXRlZ29yaWVzLCBmdW5jdGlvbihjYXRlZ29yeSkge1xyXG4gICAgICAgICAgICBjYXRlZ29yeS5IaWVyYXJjaGljYWxJZCA9IHBhcmVudElkICsgXCJfXCIgKyBjYXRlZ29yeS5pZDtcclxuICAgICAgICAgICAgcGFyZW50SWQgPSBjYXRlZ29yeS5IaWVyYXJjaGljYWxJZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXROYW1lc09mQ2F0ZWdvcmllcygpIHtcclxuICAgICAgICByZXR1cm4gXy5rZXlzKGNhdGFsb2dNb2RlbHNbMF0uY2F0ZWdvcmllcyk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdmFsdWVzRm9yQ2F0ZWdvcnkoY2F0ZWdvcnksIHBhcmVudEZpbHRlcikge1xyXG4gICAgICAgIGxldCBzZWxlY3RlZE1vZGVscztcclxuXHJcbiAgICAgICAgaWYgKF8uaXNVbmRlZmluZWQocGFyZW50RmlsdGVyKSkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZE1vZGVscyA9IGNhdGFsb2dNb2RlbHM7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZWN0ZWRNb2RlbHMgPSBfKGNhdGFsb2dNb2RlbHMpLnNlbGVjdChmdW5jdGlvbihtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsSGllcmFyY2hpY2FsSWQgPSBtb2RlbC5jYXRlZ29yaWVzW2NhdGVnb3J5XS5IaWVyYXJjaGljYWxJZDtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfKG1vZGVsSGllcmFyY2hpY2FsSWQpLnN0YXJ0c1dpdGgocGFyZW50RmlsdGVyLkhpZXJhcmNoaWNhbElkKTtcclxuICAgICAgICAgICAgfSkudmFsdWUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBfKHNlbGVjdGVkTW9kZWxzKS5tYXAoZnVuY3Rpb24obW9kZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLmNhdGVnb3JpZXNbY2F0ZWdvcnldO1xyXG4gICAgICAgIH0pLnVuaXF1ZShcImlkXCIpLnZhbHVlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0TW9kZWxzKGNhdGVnb3J5LCBmaWx0ZXIpIHtcclxuICAgICAgICByZXR1cm4gXyhjYXRhbG9nTW9kZWxzKS5zZWxlY3QoZnVuY3Rpb24obW9kZWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZGVsLmNhdGVnb3JpZXNbY2F0ZWdvcnldLkhpZXJhcmNoaWNhbElkID09IGZpbHRlci5IaWVyYXJjaGljYWxJZDtcclxuICAgICAgICB9KS52YWx1ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE1vZGVsKG1vZGVsSWQpe1xyXG4gICAgICAgIHJldHVybiBfLmZpbmQoY2F0YWxvZ01vZGVscywgKHgpID0+IHgua2V5LmlkID09IG1vZGVsSWQpOyAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXROYW1lc09mQ2F0ZWdvcmllczogZ2V0TmFtZXNPZkNhdGVnb3JpZXMsXHJcbiAgICAgICAgdmFsdWVzRm9yQ2F0ZWdvcnk6IHZhbHVlc0ZvckNhdGVnb3J5LFxyXG4gICAgICAgIGdldE1vZGVscyxcclxuICAgICAgICBnZXRNb2RlbFxyXG4gICAgfTtcclxufSIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFZlaGljbGVJbWFnZUlkZW50aWZpZXIobW9kZWxJZCwgY29sb3JDb2RlLCBpbnRlcmlvckNvZGUpIHtcclxuICAgIGNvbnN0IGVtcHR5VmFsdWUgPSBudWxsO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xyXG4gICAgICAgIGlmIChtb2RlbElkKSBtb2RlbElkID0gZW1wdHlWYWx1ZTtcclxuICAgICAgICBpZiAoY29sb3JDb2RlKSBjb2xvckNvZGUgPSBlbXB0eVZhbHVlO1xyXG4gICAgICAgIGlmIChpbnRlcmlvckNvZGUpIGludGVyaW9yQ29kZSA9IGVtcHR5VmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXNldCxcclxuICAgICAgICBtb2RlbElkLCBjb2xvckNvZGUsIGludGVyaW9yQ29kZVxyXG4gICAgfTtcclxufSIsIi8qIGVzbGludC1kaXNhYmxlICovIC8vIEF1dG9nZW5lcmF0ZWQgd2l0aCBHdWxwICh0YXNrOiBwYXJzZS1jb21wb25lbnRzLXRlbXBsYXRlcylcbi8vIERvbnQgY2hhbmdlIHRoaXMgZmlsZSwgY2hhbmdlIHRoZSAuaHRtbCBmaWxlIGluc3RlYWQgYW5kIHJ1biBHdWxwXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0c1tcImRlZmF1bHRcIl0gPSBcIlxcbjwhLS0ga28gd2l0aDogaW1hZ2VVcmwgLS0+XFxuPGRpdiBkYXRhLWJpbmQ9XFxcImltYWdlV2l0aFByZWxvYWQ6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkZGF0YSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1nQ3NzOiAnY2VudGVyLWJsb2NrIGltZy1yZXNwb25zaXZlJyxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lckNzczogJ2ZhIGZhLXJlZnJlc2ggZmEtc3Bpbm5lciBmYS0yeCdcXG4gICAgICAgICAgICAgICAgfVxcXCIgY2xhc3M9XFxcImltYWdlXFxcIj5cXG48L2Rpdj5cXG48IS0tIC9rbyAtLT5cIjtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1tcImRlZmF1bHRcIl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklpSXNJbVpwYkdVaU9pSkRPaTlRY205cVpXTjBjeTlUU1UxQk1pOU9SVlF2VTJGc1pYTXZRMjl1Wm1sbmRYSmhkRzl5TDBOdmJtWnBaM1Z5WVhSdmNpNVhaV0l2VTJOeWFYQjBjeTlpYVc0dmRHVnRjQzlxY3k5emNtTXZaRzl0WVdsdUwzWmxhR2xqYkdVdGFXMWhaMlV2ZG1Wb2FXTnNaUzFwYldGblpTMTBaVzF3YkdGMFpTNXFjeUlzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiWFgwPSIsImltcG9ydCB0ZW1wbGF0ZSBmcm9tICcuL3ZlaGljbGUtaW1hZ2UtdGVtcGxhdGUnO1xyXG5haWRhQ29yZS5Db21wb25lbnRSZWdpc3RlcigndmVoaWNsZS1pbWFnZScsIHtcclxuICAgIHNjcmlwdDogKHByb3BzLCBkZXBlbmRlbmN5UHJvdmlkZXIpID0+IHtcclxuICAgICAgICBjb25zdCB2ZWhpY2xlSW1hZ2VJZGVudGlmaWVyID0gcHJvcHMudmVoaWNsZUltYWdlSWRlbnRpZmllcjtcclxuICAgICAgICBjb25zdCBhcGlCYXNlVXJsID0gZGVwZW5kZW5jeVByb3ZpZGVyLmdldEFwaUJhc2VVcmwoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFZlaGljbGVJbWFnZSh7dmVoaWNsZUltYWdlSWRlbnRpZmllcn0sIHthcGlCYXNlVXJsfSk7XHJcbiAgICB9LFxyXG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlXHJcbn0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gVmVoaWNsZUltYWdlKHt2ZWhpY2xlSW1hZ2VJZGVudGlmaWVyfSwgeyBhcGlCYXNlVXJsfSkge1xyXG4gICAgY29uc3QgaW1hZ2VVcmwgPSBrby5jb21wdXRlZCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHZlaGljbGVJbWFnZUlkZW50aWZpZXIoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXBpQmFzZVVybCArICd2ZWhpY2xlL2ltYWdlP21vZGVsSWQ9JyArIHZlaGljbGVJbWFnZUlkZW50aWZpZXIoKS5tb2RlbElkICsgJyZjb2xvckNvZGU9JyArIHZlaGljbGVJbWFnZUlkZW50aWZpZXIoKS5jb2xvckNvZGUgKyAnJmludGVyaW9yQ29kZT0nICsgdmVoaWNsZUltYWdlSWRlbnRpZmllcigpLmludGVyaW9yQ29kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW1hZ2VVcmxcclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDYXRhbG9nQ2xpZW50KHJlc3RDbGllbnQsIGVycm9yUHVibGlzaGVyLCBlcnJvclRpdGxlcykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXRNb2RlbHMoYnJhbmRJZCwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGBicmFuZHMvJHticmFuZElkfS9tb2RlbHNgO1xyXG4gICAgICAgICAgICByZXN0Q2xpZW50LmdldChcclxuICAgICAgICAgICAgICAgIHVybCwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhdGFsb2dFcnJvciwgeGhyLCBlcnJvckNhbGxiYWNrKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ2V0Q2F0YWxvZyhicmFuZElkLCBtb2RlbCwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGBicmFuZHMvJHticmFuZElkfS9tb2RlbHMvJHttb2RlbH0vY2F0YWxvZ2A7XHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQuZ2V0KHVybCwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhdGFsb2dFcnJvciwgeGhyLCBlcnJvckNhbGxiYWNrKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDb25maWd1cmF0aW9uQ2xpZW50KHJlc3RDbGllbnQsIGVycm9yUHVibGlzaGVyLCBlcnJvclRpdGxlcykge1xyXG4gICAgY29uc3QgQ2hhbmdlQ29sb3IgPSBcIkNoYW5nZUNvbG9yXCI7XHJcbiAgICBjb25zdCBDaGFuZ2VJbnRlcmlvciA9IFwiQ2hhbmdlSW50ZXJpb3JcIjtcclxuICAgIGNvbnN0IENoYW5nZUVxdWlwbWVudHMgPSBcIkNoYW5nZUVxdWlwbWVudHNcIjtcclxuICAgIGNvbnN0IE5ld0NvbmZpZ3VyYXRpb24gPSBcIk5ld0NvbmZpZ3VyYXRpb25cIjtcclxuICAgIFxyXG4gICAgZnVuY3Rpb24gYWN0aW9uVHlwZShhY3Rpb24peyAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgSXNDaGFuZ2VDb2xvcjogKCkgPT4gKGFjdGlvbiA9PSBDaGFuZ2VDb2xvciksIFxyXG4gICAgICAgICAgICBJc0NoYW5nZUludGVyaW9yOiAoKSA9PiAoYWN0aW9uID09IENoYW5nZUludGVyaW9yKSxcclxuICAgICAgICAgICAgSXNDaGFuZ2VFcXVpcG1lbnRzOiAoKSA9PiAoYWN0aW9uID09IENoYW5nZUVxdWlwbWVudHMpLFxyXG4gICAgICAgICAgICBJc05ld0NvbmZpZ3VyYXRpb246ICgpID0+IChhY3Rpb24gPT0gTmV3Q29uZmlndXJhdGlvbilcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgY3JlYXRlQ29uZmlndXJhdGlvbihicmFuZElkLCBtb2RlbCwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGAvYnJhbmRzLyR7YnJhbmRJZH0vbW9kZWxzLyR7bW9kZWwuY29kZX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5wb3N0KHVybCwge30se30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoTmV3Q29uZmlndXJhdGlvbikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENyZWF0ZUNvbmZpZ3VyYXRpb24sIHhociwgZXJyb3JDYWxsYmFjaylcclxuICAgICAgICAgICAgKTtcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3JlYXRlQ29uZmlndXJhdGlvbldpdGhDb21iaW5hdGlvbihicmFuZElkLCBjb21iaW5hdGlvbiwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IGNvbWJpbmF0aW9uQ2hvaWNlUGFyYW0gPSBfLnBsdWNrKGNvbWJpbmF0aW9uLml0ZW1zLCBcImNvZGVcIikuam9pbignXycpO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gYC9icmFuZHMvJHticmFuZElkfS9tb2RlbHMvJHtjb21iaW5hdGlvbi5yb290LmNvZGV9P2NvbWJpbmF0aW9uQ2hvaWNlPSR7Y29tYmluYXRpb25DaG9pY2VQYXJhbX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5wb3N0KHVybCwge30se30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoTmV3Q29uZmlndXJhdGlvbikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENyZWF0ZUNvbmZpZ3VyYXRpb24sIHhociwgZXJyb3JDYWxsYmFjaylcclxuICAgICAgICAgICAgKTtcdFx0XHJcbiAgICAgICAgfSwgICAgICAgIFxyXG4gICAgICAgIGFkZFBhY2thZ2UobW9kZWxDb25maWd1cmF0aW9uLCBjb21iaW5hdGlvbiwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IGNvbWJpbmF0aW9uQ2hvaWNlUGFyYW0gPSBfLnBsdWNrKGNvbWJpbmF0aW9uLml0ZW1zLCBcImNvZGVcIikuam9pbignXycpO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gYGNvbmZpZ3VyYXRpb24vcGFja2FnZS8ke2NvbWJpbmF0aW9uLnJvb3QuY29kZX0/Y29tYmluYXRpb25DaG9pY2U9JHtjb21iaW5hdGlvbkNob2ljZVBhcmFtfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnB1dCh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwge30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFNlbGVjdENvbWJpbmF0aW9uLCB4aHIpXHJcbiAgICAgICAgICAgICk7XHRcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWRkUGFja2FnZVdpdGhvdXRDb21iaW5hdGlvbihtb2RlbENvbmZpZ3VyYXRpb24sIGVxdWlwbWVudENvZGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSAgYGNvbmZpZ3VyYXRpb24vcGFja2FnZS8ke2VxdWlwbWVudENvZGV9YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQucHV0KHVybCwge2NvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSl9LCB7fSwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFNlbGVjdEVxdWlwbWVudCwgeGhyKVxyXG4gICAgICAgICAgICApO1x0XHRcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZVBhY2thZ2UobW9kZWxDb25maWd1cmF0aW9uLCBlcXVpcG1lbnRDb2RlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gIGBjb25maWd1cmF0aW9uL3BhY2thZ2UvJHtlcXVpcG1lbnRDb2RlfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnJlbW92ZSh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFVuc2VsZWN0LCB4aHIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBhZGRFcXVpcG1lbnQobW9kZWxDb25maWd1cmF0aW9uLCBjb21iaW5hdGlvbiwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IGNvbWJpbmF0aW9uQ2hvaWNlUGFyYW0gPSBfLnBsdWNrKGNvbWJpbmF0aW9uLml0ZW1zLCBcImNvZGVcIikuam9pbignXycpO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gIGBjb25maWd1cmF0aW9uL2VxdWlwbWVudC8ke2NvbWJpbmF0aW9uLnJvb3QuY29kZX0/Y29tYmluYXRpb25DaG9pY2U9JHtjb21iaW5hdGlvbkNob2ljZVBhcmFtfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnB1dCh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwge30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFNlbGVjdENvbWJpbmF0aW9uLCB4aHIpXHJcbiAgICAgICAgICAgICk7XHRcdFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYWRkRXF1aXBtZW50V2l0aG91dENvbWJpbmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgZXF1aXBtZW50Q29kZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9ICBgY29uZmlndXJhdGlvbi9lcXVpcG1lbnQvJHtlcXVpcG1lbnRDb2RlfWA7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnB1dCh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwge30sXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlRXF1aXBtZW50cykpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdFNlbGVjdEVxdWlwbWVudCwgeGhyKVxyXG4gICAgICAgICAgICApO1x0XHRcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZUVxdWlwbWVudChtb2RlbENvbmZpZ3VyYXRpb24sIGVxdWlwbWVudENvZGUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSAgYGNvbmZpZ3VyYXRpb24vZXF1aXBtZW50LyR7ZXF1aXBtZW50Q29kZX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5yZW1vdmUodXJsLCB7Y29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkobW9kZWxDb25maWd1cmF0aW9uLnRvSnNvbigpKX0sIFxyXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2socmVzdWx0LCBhY3Rpb25UeXBlKENoYW5nZUVxdWlwbWVudHMpKSxcclxuICAgICAgICAgICAgICAgICh4aHIsIGVycm9yLCBlcnJvclR5cGUpID0+IGVycm9yUHVibGlzaGVyLnB1Ymxpc2goZXJyb3JUeXBlLCBlcnJvclRpdGxlcy5DYW5ub3RVbnNlbGVjdCwgeGhyKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlQ29sb3IobW9kZWxDb25maWd1cmF0aW9uLCBjb21iaW5hdGlvbiwgY2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IGNvbWJpbmF0aW9uQ2hvaWNlUGFyYW0gPSBfLnBsdWNrKGNvbWJpbmF0aW9uLml0ZW1zLCBcImNvZGVcIikuam9pbignXycpO1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gYGNvbmZpZ3VyYXRpb24vY29sb3IvJHtjb21iaW5hdGlvbi5yb290LmNvZGV9P2NvbWJpbmF0aW9uQ2hvaWNlPSR7Y29tYmluYXRpb25DaG9pY2VQYXJhbX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5wdXQodXJsLCB7Y29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkobW9kZWxDb25maWd1cmF0aW9uLnRvSnNvbigpKX0sIHt9LFxyXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2socmVzdWx0LCBhY3Rpb25UeXBlKENoYW5nZUNvbG9yKSksXHJcbiAgICAgICAgICAgICAgICAoeGhyLCBlcnJvciwgZXJyb3JUeXBlKSA9PiBlcnJvclB1Ymxpc2hlci5wdWJsaXNoKGVycm9yVHlwZSwgZXJyb3JUaXRsZXMuQ2Fubm90Q2hhbmdlQ29sb3IsIHhociwgZXJyb3JDYWxsYmFjaylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZUNvbG9yKG1vZGVsQ29uZmlndXJhdGlvbiwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGBjb25maWd1cmF0aW9uL2NvbG9yL2A7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICByZXN0Q2xpZW50LnJlbW92ZSh1cmwsIHtjb25maWd1cmF0aW9uOiBKU09OLnN0cmluZ2lmeShtb2RlbENvbmZpZ3VyYXRpb24udG9Kc29uKCkpfSwgXHJcbiAgICAgICAgICAgICAgICAocmVzdWx0KSA9PiBjYWxsYmFjayhyZXN1bHQsIGFjdGlvblR5cGUoQ2hhbmdlQ29sb3IpKSxcclxuICAgICAgICAgICAgICAgICh4aHIsIGVycm9yLCBlcnJvclR5cGUpID0+IGVycm9yUHVibGlzaGVyLnB1Ymxpc2goZXJyb3JUeXBlLCBlcnJvclRpdGxlcy5DYW5ub3RDaGFuZ2VDb2xvciwgeGhyKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlQ29sb3JXaXRob3V0Q29tYmluYXRpb24obW9kZWxDb25maWd1cmF0aW9uLCBjb2xvckNvZGUsIGNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgY29uZmlndXJhdGlvbi9jb2xvci8ke2NvbG9yQ29kZX1gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5wdXQodXJsLCB7Y29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkobW9kZWxDb25maWd1cmF0aW9uLnRvSnNvbigpKX0sIHt9LFxyXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2socmVzdWx0LCBhY3Rpb25UeXBlKENoYW5nZUNvbG9yKSksXHJcbiAgICAgICAgICAgICAgICAoeGhyLCBlcnJvciwgZXJyb3JUeXBlKSA9PiBlcnJvclB1Ymxpc2hlci5wdWJsaXNoKGVycm9yVHlwZSwgZXJyb3JUaXRsZXMuQ2Fubm90Q2hhbmdlQ29sb3IsIHhociwgZXJyb3JDYWxsYmFjaylcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoYW5nZUludGVyaW9yKG1vZGVsQ29uZmlndXJhdGlvbiwgY29tYmluYXRpb24sIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCBjb21iaW5hdGlvbkNob2ljZVBhcmFtID0gXy5wbHVjayhjb21iaW5hdGlvbi5pdGVtcywgXCJjb2RlXCIpLmpvaW4oJ18nKTtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGBjb25maWd1cmF0aW9uL2ludGVyaW9yLyR7Y29tYmluYXRpb24ucm9vdC5jb2RlfT9jb21iaW5hdGlvbkNob2ljZT0ke2NvbWJpbmF0aW9uQ2hvaWNlUGFyYW19YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQucHV0KHVybCwge2NvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSl9LCB7fSxcclxuICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKHJlc3VsdCwgYWN0aW9uVHlwZShDaGFuZ2VJbnRlcmlvcikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENoYW5nZUludGVyaW9yLCB4aHIpXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmVJbnRlcmlvcihtb2RlbENvbmZpZ3VyYXRpb24sIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgIGxldCB1cmwgPSBgY29uZmlndXJhdGlvbi9pbnRlcmlvci9gO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgcmVzdENsaWVudC5yZW1vdmUodXJsLCB7Y29uZmlndXJhdGlvbjogSlNPTi5zdHJpbmdpZnkobW9kZWxDb25maWd1cmF0aW9uLnRvSnNvbigpKX0sIFxyXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4gY2FsbGJhY2socmVzdWx0LCBhY3Rpb25UeXBlKENoYW5nZUludGVyaW9yKSksXHJcbiAgICAgICAgICAgICAgICAoeGhyLCBlcnJvciwgZXJyb3JUeXBlKSA9PiBlcnJvclB1Ymxpc2hlci5wdWJsaXNoKGVycm9yVHlwZSwgZXJyb3JUaXRsZXMuQ2Fubm90Q2hhbmdlSW50ZXJpb3IsIHhocilcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNoYW5nZUludGVyaW9yV2l0aG91dENvbWJpbmF0aW9uKG1vZGVsQ29uZmlndXJhdGlvbiwgaW50ZXJpb3JDb2RlLCBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaykge1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gYGNvbmZpZ3VyYXRpb24vaW50ZXJpb3IvJHtpbnRlcmlvckNvZGV9YDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJlc3RDbGllbnQucHV0KHVybCwge2NvbmZpZ3VyYXRpb246IEpTT04uc3RyaW5naWZ5KG1vZGVsQ29uZmlndXJhdGlvbi50b0pzb24oKSl9LCB7fSxcclxuICAgICAgICAgICAgICAgIChyZXN1bHQpID0+IGNhbGxiYWNrKHJlc3VsdCwgYWN0aW9uVHlwZShDaGFuZ2VJbnRlcmlvcikpLFxyXG4gICAgICAgICAgICAgICAgKHhociwgZXJyb3IsIGVycm9yVHlwZSkgPT4gZXJyb3JQdWJsaXNoZXIucHVibGlzaChlcnJvclR5cGUsIGVycm9yVGl0bGVzLkNhbm5vdENoYW5nZUludGVyaW9yLCB4aHIsIGVycm9yQ2FsbGJhY2spXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsImltcG9ydCBDb25maWd1cmF0b3IgZnJvbSBcIi4vZG9tYWluL2NvbmZpZ3VyYXRvci9jb25maWd1cmF0b3JcIjtcclxuaW1wb3J0IFZlaGljbGVJbWFnZUlkZW50aWZpZXIgZnJvbSBcIi4vZG9tYWluL3ZlaGljbGUtaW1hZ2Uvc2NyaXB0cy92ZWhpY2xlSW1hZ2VJZGVudGlmaWVyXCI7XHJcbmltcG9ydCBWZWhpY2xlU3VtbWFyeSBmcm9tIFwiLi9kb21haW4vZHRvcy92ZWhpY2xlU3VtbWFyeVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9ydEFwaSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgQ29uZmlndXJhdG9yLFxyXG4gICAgICAgIFZlaGljbGVJbWFnZUlkZW50aWZpZXIsXHJcbiAgICAgICAgVmVoaWNsZVN1bW1hcnlcclxuICAgIH07XHJcbn1cclxuXHJcbnZhciBhaWRhQ29uZmlndXJhdG9yID0gcmVxdWlyZSgnYWlkYS1jb25maWd1cmF0b3InKS5leHBvcnRBcGkoKTtcclxud2luZG93LmFpZGFDb25maWd1cmF0b3IgPSBhaWRhQ29uZmlndXJhdG9yOyJdfQ==
