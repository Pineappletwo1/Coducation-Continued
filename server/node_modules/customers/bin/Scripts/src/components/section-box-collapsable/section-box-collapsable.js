import sectionBoxCollapsableTemplate from './section-box-collapsable-template';

export default function SectionBoxVm(params) {
    const title = params.title;
    const collapsableElementId = params.collapsableElementId;
    const whenExpanded = params.whenExpanded; 
    const collapsed = ko.observable(true);

    function toggleVisibility(){
        if (collapsed()) {
            collapsed(false);
            if (whenExpanded) { whenExpanded(); }
            return;
        }       
        collapsed(true);
    }

    return {
        collapsed,
        collapsableElementId,
        toggleVisibility,
        title
    };
}

ko.components.register('section-box-collapsable', {
    viewModel: SectionBoxVm,
    template: sectionBoxCollapsableTemplate
});