export default function ErrorDialogPublisher(dialogPublisher, errorMessages) {

    function publish(errorType, title, xhr, errorCallback, handlerType) {
        const message = errorMessages.for(errorType, xhr);
        const htmlTemplateName = errorMessages.htmlTemplateFor(errorType, xhr);
        if(handlerType == 'warning') {
            dialogPublisher.warning({title, message, htmlTemplateName});            
        } else {
            dialogPublisher.error({title, message, htmlTemplateName});
        }
        if (errorCallback) {
            errorCallback();
        }
    }

    return {
        publish
    };
}